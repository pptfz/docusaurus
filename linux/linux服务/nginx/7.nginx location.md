[toc]



# nginx location

[nginx location官方文档](https://nginx.org/en/docs/http/ngx_http_core_module.html#location)



# 匹配语法

```nginx
location [ = | ~ | ~* | ^~ ] uri { ... }
location @name { ... }
```



```nginx
location [匹配模式] uri {
...
}
```





# location匹配规则

**匹配规则总览**

| **匹配模式**         | **匹配符** | **优先级** |
| -------------------- | ---------- | ---------- |
| **精确匹配**         | **=**      | **1**      |
| **前缀匹配**         | **^~**     | **2**      |
| **正则匹配**         | **~**      | **3**      |
| **正常匹配**         | **uri**    | **4**      |
| **全匹配(通用匹配)** | **/**      | **5**      |



**匹配规则细分**

| **匹配符** | **匹配规则**                     | **优先级** |
| ---------- | -------------------------------- | ---------- |
| **=**      | **精确匹配**                     | **1**      |
| **^~**     | **以某个字符串开头**             | **2**      |
| **~**      | **区分大小写的正则匹配**         | **3**      |
| **~***     | **不区分大小写的正则匹配**       | **4**      |
| **!~**     | **区分大小写不匹配的正则**       | **5**      |
| **!~***    | **不区分大小写不匹配的正则**     | **6**      |
| **/**      | **通用匹配，任何请求都会匹配到** | **7**      |



