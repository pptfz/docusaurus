## 生成密钥

**使用 `ssh-keygen` 命令生成密钥**

```shell
ssh-keygen -t rsa -P '' -q -f ~/.ssh/id_rsa
```



参数说明

- -t

  > 密钥类型，可以选择 dsa | ecdsa | ed25519 | rsa; 省略的情况下默认是rsa

- -f

  > 密钥目录位置，指定生成密钥的保存路径和文件名。省略的情况下， 默认为当前用户 `home` 路径下的 `.ssh` 隐藏目录, 也就是 `~/.ssh/` ， 同时默认密钥文件名以 `id_rsa` 开头. 　　
  >
  > -f省略的情况下，默认目录就是 `~/.ssh/`，不会再次提醒输入。但是会再次提是你输入文件名，如果不输入直接回车，则默认的密钥文件名就是 `id_rsa`

- -N

  > -N: 指定此密钥对的密码，如果指定此参数，则命令执行过程中就不会出现交互确认密码的信息了，如果省略此参数，会提示你输入密码和密码确认。一般情况下不用输入，直接回车就行。 　　
  >
  > 如果输入密码之后，以后每次都要输入密码。这里请根据你的安全需要决定是否需要密码，如果不需要，直接回车。

- -P 

  > -P(大写)： 提供旧密码

- -p

  > -p(小写)：要求改变某私钥文件的密码而不重建私钥。程序将提示输入私钥文件名、原来的密码、以及两次输入新密码

- -C 

  > 指定此密钥的备注信息，需要配置多个免密登录时，建议携带；生成的公钥会在最后面显示此备注信息

- -q

  > 静默模式



## 密钥格式转换

一些工具，例如 `ZenTermLite(mac ssh工具)` ，`Another Redis Desktop Manager(redis远程连接工具)`不支持openssh格式的私钥，这个时候就需要将openssh格式的私钥转换为rsa格式



openssh格式开头如下

```shell
-----BEGIN OPENSSH PRIVATE KEY-----
```



rsa格式开头如下

```sh
-----BEGIN RSA PRIVATE KEY-----
```





**转换命令**

```sh
ssh-keygen -p -N"" -m pem -f 旧私钥
```

