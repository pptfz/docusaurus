# 归档压缩命令

# 1.归档命令tar

## 1.1命令说明

- **用来压缩和解压文件，tar本身不具有压缩功能，他是调用压缩功能实现的**



## 1.2命令格式

- **tar [option] 归档后的文件名 要归档的文件**



## 1.3选项

### 1.3.1压缩选项(都必须配合-f选项)

⚠️**压缩选项前边的-可以不加**

#### -f	使用归档文件



#### -c	建立一个压缩文件

![clipboard1](归档压缩命令.assets/clipboard1.png)

#### -h	不压缩链接文件，压缩链接文件源文件

**不加-h选项，打包链接文件解压后会造成断链**

![clipboard2](归档压缩命令.assets/clipboard2.png)

**加-h选项后，打包链接文件并解压就没有问题了**

![clipboard3](归档压缩命令.assets/clipboard3.png)

#### -z	打包后调用gzip压缩

![clipboard4](归档压缩命令.assets/clipboard4.png)

#### -j	打包后调用bzip2压缩

![clipboard5](归档压缩命令.assets/clipboard5.png)

#### -r/-u	向压缩文件末尾追加文件，更新压缩文件

![clipboard6](归档压缩命令.assets/clipboard6.png)

![clipboard7](归档压缩命令.assets/clipboard7.png)



#### --exclude	指定不打包文件

![clipboard8](归档压缩命令.assets/clipboard8.png)



#### -P	不显示从成员名中删除

**不加-P的效果**

**![clipboard9](归档压缩命令.assets/clipboard9.png)**



**可以看到，加上-P选项之后不提示tar: Removing leading `/' from member names**

![clipboard10](归档压缩命令.assets/clipboard10.png)



#### -p	保持源文件属性不变

![clipboard11](归档压缩命令.assets/clipboard11.png)



### 1.3.2解压缩选项

#### -x	解压缩文件，可以使用xf直接解压缩，系统会自动解压，也可以使用-z、-j选项解压缩文件

![clipboard12](归档压缩命令.assets/clipboard12.png)



#### -C	将压缩归档文件解压到哪个位置

![clipboard13](归档压缩命令.assets/clipboard13.png)



### 1.3.3查看压缩选项

#### -t	查看压缩文件中的文件

![clipboard14](归档压缩命令.assets/clipboard14.png)



# 2.压缩命令gzip

## 2.1命令说明

- **用来压缩文件**



## 2.2命令格式

- **gzip [option] file**



## 2.3选项

### 2.3.1压缩选项

#### -c	保留源文件，需要结合重定向符号

**不加-c选项，压缩文件后源文件没有被保留**

![clipboard15](归档压缩命令.assets/clipboard15.png)

**gzip -c 源文件 > /xx/xx.gz**

![clipboard16](归档压缩命令.assets/clipboard16.png)



#### -n	n表示数字，用于指定压缩比，范围是1-9，压缩比越大压缩时间越长，默认是6

![clipboard17](归档压缩命令.assets/clipboard17.png)



### 2.3.2解压缩选项

#### -d	解压缩

![clipboard18](归档压缩命令.assets/clipboard18.png)

### 2.3.3查看压缩选项

**使用zcat命令查看.gz压缩文件的内容**

![19](归档压缩命令.assets/19.png)

### 2.3.4其他选项

#### -v	显示详细信息

![clipboard20](归档压缩命令.assets/clipboard20.png)

#### -t	检测压缩文件正确性

![clipboard21](归档压缩命令.assets/clipboard21.png)

#### -V	显示gzip版本信息

![clipboard22](归档压缩命令.assets/clipboard22.png)



# 3.压缩命令bzip2

## 3.1命令说明

- **bzip2命令用来解压缩文件，压缩比比bzip大**



## 3.2命令格式

- **gzip [option] file**



## 3.3选项

### 3.3.1压缩选项

#### -k	保留源文件

**不加-k选项，压缩文件后源文件没有被保留**

![clipboard23](归档压缩命令.assets/clipboard23.png)

**bzip2 -k 源文件，压缩后保留源文件**

![clipboard24](归档压缩命令.assets/clipboard24.png)

#### -n	n表示数字，用于指定压缩比，范围是1-9，压缩比越大压缩时间越长，默认6

![clipboard25](归档压缩命令.assets/clipboard25.png)



### 3.3.2解压缩选项

#### -d	解压缩

![clipboard26](归档压缩命令.assets/clipboard26.png)



### 3.3.3查看压缩选项

**使用bzcat查看.bz2压缩文件**

![27](归档压缩命令.assets/27.png)

### 3.3.4其他选项

#### -v	显示详细信息

![clipboard28](归档压缩命令.assets/clipboard28.png)

#### -t	检测压缩文件正确性

![clipboard29](归档压缩命令.assets/clipboard29.png)

#### -V	显示bzip2版本信息

![clipboard30](归档压缩命令.assets/clipboard30.png)



# 总结

| 类型                   | 解压方法                    |
| :--------------------- | :-------------------------- |
| ***.tar**              | **用tar -xvf解压**          |
| ***.gz**               | **用gzip -d或gunzip解压**   |
| **\*.tar.gz 和 *.tgz** | **用tar -xzf解压**          |
| ***.xz**               | **用tar -jxvf解压**         |
| ***.bz2**              | **用bzip2 -d或bunzip2解压** |
| ***.tar.bz2**          | **用tar -xjf解压**          |
| ***.Z**                | **用uncompress解压**        |
| ***.tar.Z**            | **用tar -xZf解压**          |
| ***.rar**              | **用unrar -e解压**          |
| ***.zip**              | **用unzip解压**             |

