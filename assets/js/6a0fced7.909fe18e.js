"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[9109],{15074:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var i=s(74848),t=s(28453);const r={},l="awk\u6761\u4ef6",c={id:"linux/linux\u547d\u4ee4/awk/awk\u6761\u4ef6",title:"awk\u6761\u4ef6",description:"[toc]",source:"@site/docs/linux/linux\u547d\u4ee4/awk/5.awk\u6761\u4ef6.md",sourceDirName:"linux/linux\u547d\u4ee4/awk",slug:"/linux/linux\u547d\u4ee4/awk/awk\u6761\u4ef6",permalink:"/docs/linux/linux\u547d\u4ee4/awk/awk\u6761\u4ef6",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"awk\u5339\u914d\u6a21\u5f0f",permalink:"/docs/linux/linux\u547d\u4ee4/awk/awk\u5339\u914d\u6a21\u5f0f"},next:{title:"awk\u5faa\u73af",permalink:"/docs/linux/linux\u547d\u4ee4/awk/awk\u5faa\u73af"}},a={},d=[{value:"1.if",id:"1if",level:2},{value:"1.1 \u8bed\u6cd5\u683c\u5f0f",id:"11-\u8bed\u6cd5\u683c\u5f0f",level:3},{value:"1.2 \u793a\u4f8b",id:"12-\u793a\u4f8b",level:3},{value:"2.if...else",id:"2ifelse",level:2},{value:"2.1 \u8bed\u6cd5\u683c\u5f0f",id:"21-\u8bed\u6cd5\u683c\u5f0f",level:3},{value:"2.2 \u793a\u4f8b",id:"22-\u793a\u4f8b",level:3},{value:"3.if...else if...else",id:"3ifelse-ifelse",level:2},{value:"3.1 \u8bed\u6cd5\u683c\u5f0f",id:"31-\u8bed\u6cd5\u683c\u5f0f",level:3},{value:"3.2 \u793a\u4f8b",id:"32-\u793a\u4f8b",level:3},{value:"4.switch-case",id:"4switch-case",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"[toc]"}),"\n",(0,i.jsx)(n.h1,{id:"awk\u6761\u4ef6",children:"awk\u6761\u4ef6"}),"\n",(0,i.jsx)(n.h2,{id:"1if",children:"1.if"}),"\n",(0,i.jsx)(n.h3,{id:"11-\u8bed\u6cd5\u683c\u5f0f",children:"1.1 \u8bed\u6cd5\u683c\u5f0f"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"{if(\u8868\u8fbe\u5f0f) {\u8bed\u53e51;\u8bed\u53e52;...}}"})}),"\n",(0,i.jsx)(n.h3,{id:"12-\u793a\u4f8b",children:"1.2 \u793a\u4f8b"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u793a\u4f8b1:\u6253\u5370/etc/passwd\u6587\u4ef6\u4e2d\u7684root\u7528\u6237"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"[root@test1 ~]# awk -F: '{if ($3==0) {print $1 \" is adminisitrator\"}}' /etc/passwd\nroot is adminisitrator\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u793a\u4f8b2:\u7edf\u8ba1/etc/passwd\u4e2d\u7cfb\u7edf\u7528\u6237\u6570"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"[root@test1 ~]# awk -F: '{ if($3>0 && $3<1000){i++}} END {print i}' /etc/passwd\n21\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u793a\u4f8b3:\u7edf\u8ba1/etc/passwd\u4e2d\u666e\u901a\u7528\u6237\u6570\u91cf"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"[root@test1 ~]# awk -F: '{if ($3>1000) {i++}} END{print i}' /etc/passwd\n2\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u793a\u4f8b4:\u5199\u51fa\u4e00\u4e2ashell\u811a\u672c\uff0c\u628a\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6587\u672c\u6587\u4ef6number.txt\u91cc\u9762\u6570\u5b57\u5927\u4e8e100\u7684\u6c42\u548c\u5e76\u8f93\u51fa\uff0c\u5e76\u6253\u5370\u6240\u5728\u884c\u884c\u53f7\u53ca\u5185\u5bb9\uff0c\u6700\u540e\u8fd8\u8981\u8f93\u51fa\u6bcf\u4e00\u884c\u7684\u603b\u548c"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"//\u6587\u4ef6\u5185\u5bb9\n[root@test1 ~]# cat number.txt\n100\n98\n205\n303\n1\n99\n66\n33\n\n\n[root@test1 ~]# awk '{if($1>100){sum+=$1;print NR,$0}}{i+=$1}END{print sum,i}' number.txt \n3 205\n4 303\n508 905\n"})}),"\n",(0,i.jsx)(n.h2,{id:"2ifelse",children:"2.if...else"}),"\n",(0,i.jsx)(n.h3,{id:"21-\u8bed\u6cd5\u683c\u5f0f",children:"2.1 \u8bed\u6cd5\u683c\u5f0f"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"{if(\u8868\u8fbe\u5f0f)\uff5b\u8bed\u53e5;\u8bed\u53e5;... \uff5delse{\u8bed\u53e5;\u8bed\u53e5;...}}"})}),"\n",(0,i.jsx)(n.h3,{id:"22-\u793a\u4f8b",children:"2.2 \u793a\u4f8b"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["\u793a\u4f8b1",":if"," else\u8bed\u53e5\u7b80\u5355\u4f7f\u7528"]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"//\u6587\u4ef6\u5185\u5bb9\n[root@test1 ~]# cat test.txt \n1 2 3 4 5 6\n\n[root@test1 ~]# awk '{if ($3==3) {print $1} else {print $NF}}' test.txt \n1\n[root@test1 ~]# awk '{if ($3==6) {print $1} else {print $NF}}' test.txt \n6\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u793a\u4f8b2:\u6253\u5370/etc/passwd\u4e2d\u975e\u7ba1\u7406\u5458\u4e2a\u6570\u548c\u7ba1\u7406\u5458\u4e2a\u6570"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'[root@test1 ~]# awk -F: \'{if ($3==0) {a++} else {b++}} END{print "\u7ba1\u7406\u5458\u7528\u6237\u4e2a\u6570\uff1a"a;print "\u5176\u4ed6\u7528\u6237\u4e2a\u6570\uff1a"b}\' /etc/passwd\n\u7ba1\u7406\u5458\u7528\u6237\u4e2a\u6570\uff1a1\n\u5176\u4ed6\u7528\u6237\u4e2a\u6570\uff1a24\n'})}),"\n",(0,i.jsx)(n.h2,{id:"3ifelse-ifelse",children:"3.if...else if...else"}),"\n",(0,i.jsx)(n.h3,{id:"31-\u8bed\u6cd5\u683c\u5f0f",children:"3.1 \u8bed\u6cd5\u683c\u5f0f"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"{if(\u8868\u8fbe\u5f0f 1)\uff5b\u8bed\u53e5;\u8bed\u53e5;... \uff5delse if(\u8868\u8fbe\u5f0f 2)\uff5b\u8bed\u53e5;\u8bed\u53e5;... \uff5delse\uff5b\u8bed\u53e5;\u8bed\u53e5;... }}"})}),"\n",(0,i.jsx)(n.h3,{id:"32-\u793a\u4f8b",children:"3.2 \u793a\u4f8b"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u7edf\u8ba1/etc/passwd\u6587\u4ef6\u4e2d\u7528\u6237\u7684\u79cd\u7c7b"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'#/etc/passwd\u6587\u4ef6\u4e2d\u7b2c\u4e09\u5217\u662f\u7528\u6237UID\uff0ccentos7\u4e2d\u666e\u901a\u7528\u6237UID\u5927\u4e8e1000\nawk -F: \'{if($3==0){i++} else if($3>0 && $3<1000){j++} else{k++}} END{print "\u7ba1\u7406\u5458\u4e2a\u6570\u4e3a:"i;print "\u7cfb\u7edf\u7528\u6237\u4e2a\u6570\u4e3a:"j;print "\u666e\u901a\u7528\u6237\u4e2a\u6570\u4e3a:"k}\' /etc/passwd\n\u7ba1\u7406\u5458\u4e2a\u6570\u4e3a:1\n\u7cfb\u7edf\u7528\u6237\u4e2a\u6570\u4e3a:25\n\u666e\u901a\u7528\u6237\u4e2a\u6570\u4e3a:1\n\n\n#if else if  else if\u5199\u6cd5\n[root@test1 ~]# awk -F: \'{if($3==0){i++} else if($3>0 && $3<1000){j++} else if($3>=1000){k++}} END{print "\u7ba1\u7406\u5458\u4e2a\u6570\u4e3a:"i;print "\u7cfb\u7edf\u7528\u6237\u4e2a\u6570\u4e3a:"j;print "\u666e\u901a\u7528\u6237\u4e2a\u6570\u4e3a:"k}\' /etc/passwd\n\u7ba1\u7406\u5458\u4e2a\u6570\u4e3a:1\n\u7cfb\u7edf\u7528\u6237\u4e2a\u6570\u4e3a:25\n\u666e\u901a\u7528\u6237\u4e2a\u6570\u4e3a:1\n'})}),"\n",(0,i.jsx)(n.h2,{id:"4switch-case",children:"4.switch-case"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"#\u793a\u4f8b\n[root@test1 ~]# awk 'BEGIN{a=1;b=2;c=3; switch(a){case 1:print a;break;case 2:print b;break; case 3:print c;break;}}'\n1\n\n\n#\u683c\u5f0f\u5316\u540e\u7684\u6574\u4f53\u7ed3\u6784\u5982\u4e0b\nBEGIN{\n  a=1;\n  b=2;\n  c=3;\n  switch(a){\n  case 1: print a;break;\n  case 2: print b;break;\n  case 3: print c;break;\n  }\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var i=s(96540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);