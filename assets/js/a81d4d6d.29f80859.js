"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[9105],{58746:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>x,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var s=e(74848),r=e(28453);const o={},i="awk\u5185\u7f6e\u53d8\u91cf",a={id:"linux/linux\u547d\u4ee4/awk/awk\u5185\u7f6e\u53d8\u91cf",title:"awk\u5185\u7f6e\u53d8\u91cf",description:"[toc]",source:"@site/docs/linux/linux\u547d\u4ee4/awk/3.awk\u5185\u7f6e\u53d8\u91cf.md",sourceDirName:"linux/linux\u547d\u4ee4/awk",slug:"/linux/linux\u547d\u4ee4/awk/awk\u5185\u7f6e\u53d8\u91cf",permalink:"/docs/linux/linux\u547d\u4ee4/awk/awk\u5185\u7f6e\u53d8\u91cf",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"awk BEGIN\u6a21\u5f0f\u3001END\u6a21\u5f0f",permalink:"/docs/linux/linux\u547d\u4ee4/awk/awk BEGIN\u6a21\u5f0f\u3001END\u6a21\u5f0f"},next:{title:"awk\u5339\u914d\u6a21\u5f0f",permalink:"/docs/linux/linux\u547d\u4ee4/awk/awk\u5339\u914d\u6a21\u5f0f"}},l={},d=[{value:"$0\t\u8868\u793a\u5339\u914d\u7684\u6574\u884c",id:"0\u8868\u793a\u5339\u914d\u7684\u6574\u884c",level:2},{value:"NR\t\u603b\u7684\u884c\u53f7",id:"nr\u603b\u7684\u884c\u53f7",level:2},{value:"FNR\t\u5f53\u524d\u6587\u4ef6\u7684\u884c\u53f7",id:"fnr\u5f53\u524d\u6587\u4ef6\u7684\u884c\u53f7",level:2},{value:"NF\t\u6587\u4ef6\u6700\u540e\u4e00\u5217",id:"nf\u6587\u4ef6\u6700\u540e\u4e00\u5217",level:2},{value:"\u5206\u9694\u7b26",id:"\u5206\u9694\u7b26",level:2},{value:"FS\t\u6307\u5b9a\u5b57\u6bb5\u5206\u9694\u7b26",id:"fs\u6307\u5b9a\u5b57\u6bb5\u5206\u9694\u7b26",level:3},{value:"OFS\t\u6307\u5b9a\u8f93\u51fa\u5206\u9694\u7b26",id:"ofs\u6307\u5b9a\u8f93\u51fa\u5206\u9694\u7b26",level:3},{value:"RS\t\u6307\u5b9a\u8bb0\u5f55\u5206\u9694\u7b26\uff0c\u5373\u6307\u5b9a\u4ee5\u4ec0\u4e48\u4e3a\u5206\u9694\u7b26\uff0c\u9ed8\u8ba4\u4e3a\\n",id:"rs\u6307\u5b9a\u8bb0\u5f55\u5206\u9694\u7b26\u5373\u6307\u5b9a\u4ee5\u4ec0\u4e48\u4e3a\u5206\u9694\u7b26\u9ed8\u8ba4\u4e3an",level:3},{value:"ORS\t\u6307\u5b9a\u8f93\u51fa\u8bb0\u5f55\u5206\u9694\u7b26",id:"ors\u6307\u5b9a\u8f93\u51fa\u8bb0\u5f55\u5206\u9694\u7b26",level:3}];function c(n){const t={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"[toc]"}),"\n",(0,s.jsx)(t.h1,{id:"awk\u5185\u7f6e\u53d8\u91cf",children:"awk\u5185\u7f6e\u53d8\u91cf"}),"\n",(0,s.jsx)(t.h2,{id:"0\u8868\u793a\u5339\u914d\u7684\u6574\u884c",children:"$0\t\u8868\u793a\u5339\u914d\u7684\u6574\u884c"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"//\u6587\u4ef6\u5185\u5bb9\n[root@7-test1 ~]# cat passwd.txt \nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\n\n\u793a\u4f8b\uff1a\n[root@7-test1 ~]# awk '{print $0}' passwd.txt \nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\n"})}),"\n",(0,s.jsx)(t.h2,{id:"nr\u603b\u7684\u884c\u53f7",children:"NR\t\u603b\u7684\u884c\u53f7"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"//\u6587\u4ef6a.txt\u548cb.txt\u7684\u5185\u5bb9\u5982\u4e0b\n\u6587\u4ef6a.txt\n101,abc,CEO\n102,def,CTO\n103,qaz,COO\n\n\u6587\u4ef6b.txt\n666,ABC,CEO\n777,DEF,CTO\n888,QAZ,COO\n\n//\u6253\u5370\u4e24\u4e2a\u6587\u4ef6\uff0cNR\u7edf\u8ba1\u603b\u7684\u884c\u53f7\n[root@7-test1 ~]# awk '{print NR,$0}' a.txt b.txt \n1 101,abc,CEO\n2 102,def,CTO\n3 103,qaz,COO\n4 666,ABC,CEO\n5 777,DEF,CTO\n6 888,QAZ,COO\n"})}),"\n",(0,s.jsx)(t.h2,{id:"fnr\u5f53\u524d\u6587\u4ef6\u7684\u884c\u53f7",children:"FNR\t\u5f53\u524d\u6587\u4ef6\u7684\u884c\u53f7"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"\u6587\u4ef6a.txt\n101,abc,CEO\n102,def,CTO\n103,qaz,COO\n\n\u6587\u4ef6b.txt\n666,ABC,CEO\n777,DEF,CTO\n888,QAZ,COO\n\n//\u6253\u5370\u4e24\u4e2a\u6587\u4ef6\uff0cFNR\u53ea\u7edf\u8ba1\u6bcf\u4e2a\u6587\u4ef6\u7684\u884c\u53f7\n[root@7-test1 ~]# awk '{print FNR,$0}' a.txt b.txt \n1 101,abc,CEO\n2 102,def,CTO\n3 103,qaz,COO\n1 666,ABC,CEO\n2 777,DEF,CTO\n3 888,QAZ,COO\n"})}),"\n",(0,s.jsx)(t.h2,{id:"nf\u6587\u4ef6\u6700\u540e\u4e00\u5217",children:"NF\t\u6587\u4ef6\u6700\u540e\u4e00\u5217"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"//\u6253\u5370/etc/passwd\u6587\u4ef6\u6700\u540e\u4e00\u5217\n[root@7-test1 ~]# awk -F: '{print $NF}' /etc/passwd|head\n/bin/bash\n/sbin/nologin\n/sbin/nologin\n/sbin/nologin\n/sbin/nologin\n/bin/sync\n/sbin/shutdown\n/sbin/halt\n/sbin/nologin\n/sbin/nologin\n"})}),"\n",(0,s.jsx)(t.h2,{id:"\u5206\u9694\u7b26",children:"\u5206\u9694\u7b26"}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"record\t\u5b57\u6bb5"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"separator\t\u5206\u9694\u7b26"})}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"\u53d8\u91cf\u540d"}),(0,s.jsx)(t.th,{children:"\u5bf9\u5e94\u5355\u8bcd"}),(0,s.jsx)(t.th,{children:"\u542b\u4e49"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"FS"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"field separator"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"\u5b57\u6bb5\u5206\u9694\u7b26,\u9ed8\u8ba4\u7a7a\u683c\u6216tab"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"OFS"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"output field separator"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"\u8f93\u51fa\u5206\u9694\u7b26,\u9ed8\u8ba4\u7a7a\u683c"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"RS"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"record separator"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"\u8bb0\u5f55\u5206\u9694\u7b26,\u9ed8\u8ba4\u6362\u884c\u7b26\\n"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"ORS"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"output record separator"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"\u8f93\u51fa\u8bb0\u5f55\u5206\u9694\u7b26"})})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"fs\u6307\u5b9a\u5b57\u6bb5\u5206\u9694\u7b26",children:"FS\t\u6307\u5b9a\u5b57\u6bb5\u5206\u9694\u7b26"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"//passwd.txt\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\n[root@7-test1 ~]# cat passwd.txt\nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\n\n\u793a\u4f8b1\uff1a\u4ee5\u5192\u53f7\u4e3a\u5206\u9694\u7b26\uff0c\u6253\u5370\u6587\u4ef6\u7b2c\u4e00\u5217\n//-F\u5199\u6cd5\n[root@7-test1 ~]# awk -F: '{print $1}' passwd.txt \nroot\nbin\ndaemon\n\n//BEGIN {FS}\u5199\u6cd5\n[root@7-test1 ~]# awk 'BEGIN{FS=\":\"}{print $1}' passwd.txt \nroot\nbin\ndaemon\n"})}),"\n",(0,s.jsx)(t.h3,{id:"ofs\u6307\u5b9a\u8f93\u51fa\u5206\u9694\u7b26",children:"OFS\t\u6307\u5b9a\u8f93\u51fa\u5206\u9694\u7b26"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"//\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\n[root@7-test1 ~]# cat a.txt \n1 2 3\n\n\u793a\u4f8b1\uff1a\u6253\u5370\u6587\u4ef6\u7b2c\u4e00\u5217\u548c\u7b2c\u4e09\u5217\uff0c\u4ee5\u5192\u53f7\u4e3a\u5206\u9694\u7b26\n//-v OFS\u5199\u6cd5\n[root@7-test1 ~]# awk -v OFS=: '{print $1,$3}' a.txt \n1:3\n\n//BEGIN {OFS}\u5199\u6cd5\n[root@7-test1 ~]# awk 'BEGIN{OFS=\":\"}{print $1,$3}' a.txt \n1:3\n\n\n\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u6ce8\u610f\uff1a\uff01\uff01\uff01\n-v OFS\u5199\u6cd5\u7684\u4e00\u4e2a\u5751\uff1a\u5f53print $0\u7684\u65f6\u5019\uff0c-v OFS\u4f1a\u4e0d\u751f\u6548\n\n//\u6b63\u786e\u8f93\u51fa\u5e94\u8be5\u4e3a1:2:3\n[root@7-test1 ~]# awk -v OFS=: '{print $0}' a.txt \n1 2 3\n\n\u89e3\u51b3\u65b9\u6cd5\n\u5728print$0\u524d\u52a0\u4e00\u4e2a$1=$1\n[root@7-test1 ~]# awk -v OFS=: '{$1=$1;print $0}' a.txt \n1:2:3\n"})}),"\n",(0,s.jsx)(t.h3,{id:"rs\u6307\u5b9a\u8bb0\u5f55\u5206\u9694\u7b26\u5373\u6307\u5b9a\u4ee5\u4ec0\u4e48\u4e3a\u5206\u9694\u7b26\u9ed8\u8ba4\u4e3an",children:"RS\t\u6307\u5b9a\u8bb0\u5f55\u5206\u9694\u7b26\uff0c\u5373\u6307\u5b9a\u4ee5\u4ec0\u4e48\u4e3a\u5206\u9694\u7b26\uff0c\u9ed8\u8ba4\u4e3a\\n"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"//\u6587\u4ef6\u5185\u5bb9\n\u6587\u4ef6\u9ed8\u8ba4\u4ee5\u6362\u884c\u4e3a\u8bb0\u5f55\u5206\u9694\u7b26\n[root@7-test1 ~]# cat passwd.txt\nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\n\n\u793a\u4f8b1\uff1a\u5c06\u6587\u4ef6\u7684\u8bb0\u5f55\u5206\u9694\u7b26\u6307\u5b9a\u4e3a/\uff0c\u5373\u6307\u5b9a\u6587\u4ef6\u4ee5/\u4e3a\u6362\u884c\u7b26\n//-v RS\u5199\u6cd5\n[root@7-test1 ~]# awk -v RS=/ '{print $0}' passwd.txt \nroot:x:0:0:root:\nroot:\nbin\nbash\nbin:x:1:1:bin:\nbin:\nsbin\nnologin\n\n//BEGIN {RS}\u5199\u6cd5\n[root@7-test1 ~]# awk 'BEGIN{RS=\"/\"}{print $0}' passwd.txt \nroot:x:0:0:root:\nroot:\nbin\nbash\nbin:x:1:1:bin:\nbin:\nsbin\nnologin\n"})}),"\n",(0,s.jsx)(t.h3,{id:"ors\u6307\u5b9a\u8f93\u51fa\u8bb0\u5f55\u5206\u9694\u7b26",children:"ORS\t\u6307\u5b9a\u8f93\u51fa\u8bb0\u5f55\u5206\u9694\u7b26"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"//\u6587\u4ef6\u5185\u5bb9\n[root@7-test1 ~]# cat a.txt\n1\n2\n3\n\n\u793a\u4f8b1\uff1a\u5c06\u6587\u4ef6\u7684\u8f93\u51fa\u8bb0\u5f55\u5206\u9694\u7b26\u6307\u5b9a\u4e3a/\n//-v ORS\u5199\u6cd5\n[root@7-test1 ~]# awk -v ORS=\"A\" '{print $0}' a.txt\n1A2A3A\n\n//BEGIN {ORS}\u5199\u6cd5\n[root@7-test1 ~]# awk 'BEGIN{ORS=\"A\"}{print $0}' a.txt\n1A2A3A\n"})})]})}function x(n={}){const{wrapper:t}={...(0,r.R)(),...n.components};return t?(0,s.jsx)(t,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},28453:(n,t,e)=>{e.d(t,{R:()=>i,x:()=>a});var s=e(96540);const r={},o=s.createContext(r);function i(n){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function a(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),s.createElement(o.Provider,{value:t},n.children)}}}]);