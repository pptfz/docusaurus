"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[3838],{23292:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=s(74848),t=s(28453);const o={},a="ansible\u4efb\u52a1\u63a7\u5236-\u5ffd\u7565\u9519\u8befignore_errors",i={id:"linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u4efb\u52a1\u63a7\u5236/ansible\u4efb\u52a1\u63a7\u5236-\u5ffd\u7565\u9519\u8befignore_errors",title:"ansible\u4efb\u52a1\u63a7\u5236-\u5ffd\u7565\u9519\u8befignore_errors",description:"\u7f16\u8f91yml\u6587\u4ef6",source:"@site/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u4efb\u52a1\u63a7\u5236/ansible\u4efb\u52a1\u63a7\u5236-\u5ffd\u7565\u9519\u8befignore_errors.md",sourceDirName:"linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u4efb\u52a1\u63a7\u5236",slug:"/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u4efb\u52a1\u63a7\u5236/ansible\u4efb\u52a1\u63a7\u5236-\u5ffd\u7565\u9519\u8befignore_errors",permalink:"/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u4efb\u52a1\u63a7\u5236/ansible\u4efb\u52a1\u63a7\u5236-\u5ffd\u7565\u9519\u8befignore_errors",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ansible\u4efb\u52a1\u63a7\u5236-\u5faa\u73af\u8bed\u53e5with_items",permalink:"/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u4efb\u52a1\u63a7\u5236/ansible\u4efb\u52a1\u63a7\u5236-\u5faa\u73af\u8bed\u53e5with_items"},next:{title:"ansible\u4efb\u52a1\u63a7\u5236-\u6807\u7b7etags",permalink:"/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u4efb\u52a1\u63a7\u5236/ansible\u4efb\u52a1\u63a7\u5236-\u6807\u7b7etags"}},l={},c=[];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"ansible\u4efb\u52a1\u63a7\u5236-\u5ffd\u7565\u9519\u8befignore_errors",children:"ansible\u4efb\u52a1\u63a7\u5236-\u5ffd\u7565\u9519\u8befignore_errors"}),"\n",(0,r.jsx)(n.p,{children:"\u7f16\u8f91yml\u6587\u4ef6"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u8fd9\u91cc\u6545\u610f\u6267\u884c\u4e00\u4e2a\u8fd4\u56de\u503c\u6c38\u8fdc\u662f\u9519\u8bef\u7684\u547d\u4ee4false"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"cat > task_ingore_errors.yml << EOF\n- hosts: devops03\n  tasks:\n    - name: exec error cmd\n      shell: /bin/false\n    \n    - name: touch file\n      file:\n        path: /tmp/test.txt\n        state: touch\nEOF\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6267\u884cyml\u6587\u4ef6\uff0c\u56e0\u4e3a ",(0,r.jsx)(n.code,{children:"/bin/false"})," \u6c38\u8fdc\u662f\u9519\u8bef\u7684\u8fd4\u56de\uff0c\u56e0\u6b64\u4e0d\u80fd\u7ee7\u7eed\u5f80\u4e0b\u6267\u884c"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'$ ansible-playbook task_ingore_errors.yml\n\nPLAY [devops03] ****************************************************************************************************************************************\n\nTASK [Gathering Facts] *********************************************************************************************************************************\nok: [devops03]\n\nTASK [exec error cmd] **********************************************************************************************************************************\nfatal: [devops03]: FAILED! => {"changed": true, "cmd": "/bin/false", "delta": "0:00:00.031517", "end": "2021-09-21 23:51:30.811885", "msg": "non-zero return code", "rc": 1, "start": "2021-09-21 23:51:30.780368", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}\n\nPLAY RECAP *********************************************************************************************************************************************\ndevops03                   : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0  \n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c\u60f3\u8981\u5ffd\u7565\u9519\u8bef\u4e0d\u5f71\u54cd\u540e\u8fb9\u7684task\uff0c\u5c31\u9700\u8981\u7528\u5230 ",(0,r.jsx)(n.code,{children:"ignore_errors"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"cat > task_ingore_errors.yml << EOF\n- hosts: devops03\n  tasks:\n    - name: exec error cmd\n      shell: /bin/false\n      ignore_errors: yes\n    \n    - name: touch file\n      file:\n        path: /tmp/test.txt\n        state: touch\nEOF\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u518d\u6b21\u6267\u884cyml\u5c31\u4f1a\u5ffd\u7565\u9519\u8bef\u7ee7\u7eed\u6267\u884c\u4e86"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'$ ansible-playbook task_ingore_errors.yml\n\nPLAY [devops03] ****************************************************************************************************************************************\n\nTASK [Gathering Facts] *********************************************************************************************************************************\nok: [devops03]\n\nTASK [exec error cmd] **********************************************************************************************************************************\nfatal: [devops03]: FAILED! => {"changed": true, "cmd": "/bin/false", "delta": "0:00:00.029109", "end": "2021-09-21 23:54:38.138763", "msg": "non-zero return code", "rc": 1, "start": "2021-09-21 23:54:38.109654", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}\n...ignoring\n\nTASK [touch file] **************************************************************************************************************************************\nchanged: [devops03]\n\nPLAY RECAP *********************************************************************************************************************************************\ndevops03                   : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   \n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>i});var r=s(96540);const t={},o=r.createContext(t);function a(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);