"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[2244],{22040:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>f,frontMatter:()=>d,metadata:()=>s,toc:()=>i});var t=r(74848),o=r(28453);const d={},c="docker\u7f51\u7edc\u6a21\u5f0f",s={id:"\u4e91\u539f\u751f/\u5bb9\u5668/docker/docker\u7f51\u7edc\u6a21\u5f0f",title:"docker\u7f51\u7edc\u6a21\u5f0f",description:"[toc]",source:"@site/docs/\u4e91\u539f\u751f/\u5bb9\u5668/docker/docker\u7f51\u7edc\u6a21\u5f0f.md",sourceDirName:"\u4e91\u539f\u751f/\u5bb9\u5668/docker",slug:"/\u4e91\u539f\u751f/\u5bb9\u5668/docker/docker\u7f51\u7edc\u6a21\u5f0f",permalink:"/docs/\u4e91\u539f\u751f/\u5bb9\u5668/docker/docker\u7f51\u7edc\u6a21\u5f0f",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"docker\u7b80\u4ecb",permalink:"/docs/\u4e91\u539f\u751f/\u5bb9\u5668/docker/docker\u7b80\u4ecb"},next:{title:"docker\u8de8\u4e3b\u673a\u901a\u4fe1\u4e4bmacvlan",permalink:"/docs/\u4e91\u539f\u751f/\u5bb9\u5668/docker/docker\u8de8\u4e3b\u673a\u901a\u4fe1\u4e4bmacvlan"}},l={},i=[{value:"1.docker\u7f51\u7edc\u6a21\u5f0f",id:"1docker\u7f51\u7edc\u6a21\u5f0f",level:2},{value:"2.\u67e5\u770bdocker\u7f51\u7edc\u6a21\u5f0f",id:"2\u67e5\u770bdocker\u7f51\u7edc\u6a21\u5f0f",level:2},{value:"2.1 \u67e5\u770bdocker\u7f51\u7edc",id:"21-\u67e5\u770bdocker\u7f51\u7edc",level:3},{value:"2.2 \u7b2c\u4e00\u79cd\tbridge\uff0c\u6865\u63a5\uff0c\u9ed8\u8ba4\u6a21\u5f0f",id:"22-\u7b2c\u4e00\u79cdbridge\u6865\u63a5\u9ed8\u8ba4\u6a21\u5f0f",level:3},{value:"2.3 \u7b2c\u4e8c\u79cd\thost\uff0c\u4e0e\u5bbf\u4e3b\u673a\u5171\u4eab\u7f51\u7edc",id:"23-\u7b2c\u4e8c\u79cdhost\u4e0e\u5bbf\u4e3b\u673a\u5171\u4eab\u7f51\u7edc",level:3},{value:"2.4 \u7b2c\u4e09\u79cd\tnone\uff0c\u65e0\u7f51\u7edc\u6a21\u5f0f",id:"24-\u7b2c\u4e09\u79cdnone\u65e0\u7f51\u7edc\u6a21\u5f0f",level:3},{value:"2.5 \u7b2c\u56db\u79cd\tcontainer\uff0c\u5171\u4eab\u5bb9\u5668\u7f51\u7edc\tcontainer:\u8981\u5171\u4eab\u7684\u5bb9\u5668ID\u6216\u540d\u79f0",id:"25-\u7b2c\u56db\u79cdcontainer\u5171\u4eab\u5bb9\u5668\u7f51\u7edccontainer\u8981\u5171\u4eab\u7684\u5bb9\u5668id\u6216\u540d\u79f0",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"[toc]"}),"\n",(0,t.jsx)(n.h1,{id:"docker\u7f51\u7edc\u6a21\u5f0f",children:"docker\u7f51\u7edc\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u6307\u5b9a\u5bb9\u5668\u7f51\u7edc\u7c7b\u578b\t--net\u6216\u8005--network"})}),"\n",(0,t.jsx)(n.h2,{id:"1docker\u7f51\u7edc\u6a21\u5f0f",children:"1.docker\u7f51\u7edc\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"docker\u7f51\u7edc\u6a21\u5f0f\uff0c\u51714\u79cd"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u6a21\u5f0f"}),(0,t.jsx)(n.th,{children:"\u542b\u4e49"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"bridge"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u6865\u63a5\u6a21\u5f0f\uff0c\u9ed8\u8ba4"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"host"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u4e0e\u5bbf\u4e3b\u673a\u5171\u4eab\u7f51\u7edc"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"none"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u65e0\u7f51\u7edc"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"container"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u4e0e\u5bb9\u5668\u5171\u4eab\u7f51\u7edc"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"2\u67e5\u770bdocker\u7f51\u7edc\u6a21\u5f0f",children:"2.\u67e5\u770bdocker\u7f51\u7edc\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.h3,{id:"21-\u67e5\u770bdocker\u7f51\u7edc",children:"2.1 \u67e5\u770bdocker\u7f51\u7edc"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u67e5\u770bdocker\u7f51\u7edc\uff0c\u9ed8\u8ba4\u67093\u79cd"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"[root@docker01 ~]# docker network ls\nNETWORK ID          NAME                DRIVER              SCOPE\n752c74d78d18        bridge              bridge              local\n970755d8e30b        host                host                local\nf144b44069ab        none                null                local\n"})}),"\n",(0,t.jsx)(n.h3,{id:"22-\u7b2c\u4e00\u79cdbridge\u6865\u63a5\u9ed8\u8ba4\u6a21\u5f0f",children:"2.2 \u7b2c\u4e00\u79cd\tbridge\uff0c\u6865\u63a5\uff0c\u9ed8\u8ba4\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'//\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668test1\n[root@docker01 ~]# docker run -d --name test1 busybox:latest vi 1\n698a85c6cf33bc6a02903f0e6ac7f96e429247a17bef705467a9879c1d2de8b2\n\n//\u67e5\u770b\u5bb9\u5668\u7f51\u7edc\u4fe1\u606f\n[root@docker01 ~]# docker inspect test1\n "Networks": {\n                "bridge": {             //\u5bb9\u5668\u7f51\u7edc\u6a21\u5f0f\u4e3abridge\n                    "IPAMConfig": null,\n                    "Links": null,\n                    "Aliases": null,\n                    "NetworkID": "752c74d78d186a14b2c6e1659c54b50d3396a89fec4b34664c7991ddc50fac55",\n                    "EndpointID": "",\n                    "Gateway": "",\n                    "IPAddress": "",\n                    "IPPrefixLen": 0,\n                    "IPv6Gateway": "",\n                    "GlobalIPv6Address": "",\n                    "GlobalIPv6PrefixLen": 0,\n                    "MacAddress": "",\n                    "DriverOpts": null\n                }\n'})}),"\n",(0,t.jsx)(n.h3,{id:"23-\u7b2c\u4e8c\u79cdhost\u4e0e\u5bbf\u4e3b\u673a\u5171\u4eab\u7f51\u7edc",children:"2.3 \u7b2c\u4e8c\u79cd\thost\uff0c\u4e0e\u5bbf\u4e3b\u673a\u5171\u4eab\u7f51\u7edc"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"1.\u67e5\u770b\u5bbf\u4e3b\u673a\u7f51\u7edc\uff0ceth0 IP\u4e3a10.0.0.20\n[root@docker01 ~]# ip a s eth0 \n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000\n    link/ether 00:0c:29:49:fe:8f brd ff:ff:ff:ff:ff:ff\n    inet 10.0.0.20/24 brd 10.0.0.255 scope global eth0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::20c:29ff:fe49:fe8f/64 scope link \n       valid_lft forever preferred_lft forever\n\n2.\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668test2\uff0c\u8bbe\u7f6e\u7f51\u7edc\u6a21\u5f0f\u4e3ahost\n[root@docker01 ~]# docker run -it --name test2 --net host  busybox:latest \n/ #\n\n3.\u67e5\u770b\u5bb9\u5668\u7f51\u7edc\uff0c\u53ef\u4ee5\u770b\u5230\uff0c\u542f\u52a8\u7684\u5bb9\u5668\u7f51\u5361\u4e0e\u5bbf\u4e3b\u673a\u4e00\u81f4\n/ # ip a s eth0\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether 00:0c:29:49:fe:8f brd ff:ff:ff:ff:ff:ff\n    inet 10.0.0.20/24 brd 10.0.0.255 scope global eth0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::20c:29ff:fe49:fe8f/64 scope link \n       valid_lft forever preferred_lft forever\n"})}),"\n",(0,t.jsx)(n.h3,{id:"24-\u7b2c\u4e09\u79cdnone\u65e0\u7f51\u7edc\u6a21\u5f0f",children:"2.4 \u7b2c\u4e09\u79cd\tnone\uff0c\u65e0\u7f51\u7edc\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"1.\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668test3\uff0c\u7f51\u7edc\u6a21\u5f0f\u6307\u5b9a\u4e3anone\n[root@docker01 ~]# docker run -it --name test3 --net none busybox:latest\n\n2.\u67e5\u770bIP\uff0c\u53ea\u6709lo\u7f51\u5361\n/ # ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n \n3.\u65e0\u6cd5\u4e0a\u7f51             \n/ # ping baidu.com\nping: bad address 'baidu.com'\n\n4.\u6ca1\u6709\u8def\u7531\u4fe1\u606f\n/ # route -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n"})}),"\n",(0,t.jsx)(n.h3,{id:"25-\u7b2c\u56db\u79cdcontainer\u5171\u4eab\u5bb9\u5668\u7f51\u7edccontainer\u8981\u5171\u4eab\u7684\u5bb9\u5668id\u6216\u540d\u79f0",children:"2.5 \u7b2c\u56db\u79cd\tcontainer\uff0c\u5171\u4eab\u5bb9\u5668\u7f51\u7edc\tcontainer:\u8981\u5171\u4eab\u7684\u5bb9\u5668ID\u6216\u540d\u79f0"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"1.\u5148\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668test5\uff0c\u5bb9\u5668IP\u4e3a172.17.0.4\uff0c\u53ef\u4ee5\u4e0a\u7f51\n[root@docker01 ~]# docker run -it --name test5 busybox:latest \n/ # ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n42: eth0@if43: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1500 qdisc noqueue \n    link/ether 02:42:ac:11:00:04 brd ff:ff:ff:ff:ff:ff\n    inet 172.17.0.4/16 brd 172.17.255.255 scope global eth0\n       valid_lft forever preferred_lft forever\n/ # ping baidu.com\nPING baidu.com (220.181.38.148): 56 data bytes\n64 bytes from 220.181.38.148: seq=0 ttl=127 time=9.747 ms\n^C\n--- baidu.com ping statistics ---\n1 packets transmitted, 1 packets received, 0% packet loss\nround-trip min/avg/max = 9.747/9.747/9.747 ms\n\n2.\u518d\u6b21\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668test6\uff0c\u6307\u5b9a\u7f51\u7edc\u5171\u4eab\u5bb9\u5668test5\n[root@docker01 ~]# docker run -it --name test6 --net container:test5 busybox:latest\n\n3.\u67e5\u770bIP\uff0c\u53ef\u4ee5\u770b\u5230IP\u5730\u5740\u4e0e\u5171\u4eab\u7684\u5bb9\u5668test5\u4e00\u6837\n/ # ip a\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n46: eth0@if47: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1500 qdisc noqueue \n    link/ether 02:42:ac:11:00:04 brd ff:ff:ff:ff:ff:ff\n    inet 172.17.0.4/16 brd 172.17.255.255 scope global eth0\n       valid_lft forever preferred_lft forever\n\n"})})]})}function f(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>s});var t=r(96540);const o={},d=t.createContext(o);function c(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);