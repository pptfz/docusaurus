"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7212],{81175:(n,e,c)=>{c.r(e),c.d(e,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>a,toc:()=>x});var i=c(74848),s=c(28453);const l={},r="nginx\u865a\u62df\u4e3b\u673a",a={id:"linux/linux\u670d\u52a1/nginx/nginx\u865a\u62df\u4e3b\u673a",title:"nginx\u865a\u62df\u4e3b\u673a",description:"[toc]",source:"@site/docs/linux/linux\u670d\u52a1/nginx/8.nginx\u865a\u62df\u4e3b\u673a.md",sourceDirName:"linux/linux\u670d\u52a1/nginx",slug:"/linux/linux\u670d\u52a1/nginx/nginx\u865a\u62df\u4e3b\u673a",permalink:"/docs/linux/linux\u670d\u52a1/nginx/nginx\u865a\u62df\u4e3b\u673a",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"nginx location",permalink:"/docs/linux/linux\u670d\u52a1/nginx/nginx location"},next:{title:"lnmp\u5e73\u53f0",permalink:"/docs/linux/linux\u670d\u52a1/nginx/lnmp\u5e73\u53f0"}},o={},x=[{value:"\u865a\u62df\u673a\u4e3b\u673a\u6982\u5ff5",id:"\u865a\u62df\u673a\u4e3b\u673a\u6982\u5ff5",level:2},{value:"\u865a\u62df\u4e3b\u673a\u5206\u7c7b",id:"\u865a\u62df\u4e3b\u673a\u5206\u7c7b",level:2},{value:"\u914d\u7f6enginx\u865a\u62df\u4e3b\u673a",id:"\u914d\u7f6enginx\u865a\u62df\u4e3b\u673a",level:2},{value:"\u57fa\u4e8e\u57df\u540d\u7684\u865a\u62df\u4e3b\u673a",id:"\u57fa\u4e8e\u57df\u540d\u7684\u865a\u62df\u4e3b\u673a",level:3},{value:"\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a",id:"\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a",level:3},{value:"\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u522b\u540d",id:"\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u522b\u540d",level:2}];function t(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"[toc]"}),"\n",(0,i.jsx)(e.h1,{id:"nginx\u865a\u62df\u4e3b\u673a",children:"nginx\u865a\u62df\u4e3b\u673a"}),"\n",(0,i.jsx)(e.h2,{id:"\u865a\u62df\u673a\u4e3b\u673a\u6982\u5ff5",children:"\u865a\u62df\u673a\u4e3b\u673a\u6982\u5ff5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"\u865a\u62df\u4e3b\u673a\u5c31\u662f\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\u914d\u7f6e\u591a\u4e2a\u7f51\u7ad9"})}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u865a\u62df\u4e3b\u673a\u5206\u7c7b",children:"\u865a\u62df\u4e3b\u673a\u5206\u7c7b"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u57fa\u4e8eIP\u7684\u865a\u62df\u4e3b\u673a(\u6d6a\u8d39IP\uff0c\u6ca1\u7528)"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u57fa\u4e8e\u57df\u540d\u7684\u865a\u62df\u4e3b\u673a"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u914d\u7f6enginx\u865a\u62df\u4e3b\u673a",children:"\u914d\u7f6enginx\u865a\u62df\u4e3b\u673a"}),"\n",(0,i.jsx)(e.h3,{id:"\u57fa\u4e8e\u57df\u540d\u7684\u865a\u62df\u4e3b\u673a",children:"\u57fa\u4e8e\u57df\u540d\u7684\u865a\u62df\u4e3b\u673a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["\u7f16\u8f91",(0,i.jsx)(e.code,{children:"aaa.com.conf"}),"\u6587\u4ef6"]})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-nginx",children:"cat > /etc/nginx/conf.d/aaa.com.conf <<EOF\nserver {\n        listen 80;\n        server_name aaa.com;\n\n        location / {\n                root /website/aaa;\n                index index.html;\n        }\n}\nEOF\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["\u7f16\u8f91",(0,i.jsx)(e.code,{children:"bbb.com.conf"}),"\u6587\u4ef6"]})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-nginx",children:"cat > /etc/nginx/conf.d/bbb.com.conf <<EOF\nserver {\n        listen 80;\n        server_name bbb.com;\n\n        location / {\n                root /website/bbb;\n                index index.html;\n        }\n}\nEOF\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u68c0\u6d4bnginx\u8bed\u6cd5\u5e76\u91cd\u8f7dnginx"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"$ nginx -t\nnginx: the configuration file /etc/nginx/nginx.conf syntax is ok\nnginx: configuration file /etc/nginx/nginx.conf test is successful\n\n$ nginx -s reload\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u521b\u5efa\u7f51\u7ad9\u6839\u76ee\u5f55"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'mkdir /website/{aaa,bbb}\necho "aaa.com" > /website/aaa/index.html\necho "bbb.com" > /website/bbb/index.html\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u7ed1\u5b9ahosts"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"cat >> /etc/hosts <<EOF\n127.0.0.1 aaa.com\n127.0.0.1 bbb.com\nEOF\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u6d4b\u8bd5\u8bbf\u95ee"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"$ curl aaa.com\naaa.com\n\n$ curl bbb.com\nbbb.com\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a",children:"\u57fa\u4e8e\u7aef\u53e3\u7684\u865a\u62df\u4e3b\u673a"}),"\n",(0,i.jsx)(e.p,{children:"\u865a\u62df\u4e3b\u673a\u76d1\u542c\u4e0d\u540c\u7aef\u53e3\uff0c\u4e0d\u4e0e\u7cfb\u7edf\u7aef\u53e3\u51b2\u7a81\u5373\u53ef"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["\u7f16\u8f91",(0,i.jsx)(e.code,{children:"aaa.com.conf"}),"\u6587\u4ef6"]})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-nginx",children:"cat > /etc/nginx/conf.d/aaa.com.conf <<EOF\nserver {\n        listen 8001;\n        server_name aaa.com;\n\n        location / {\n                root /website/aaa;\n                index index.html;\n        }\n}\n\nserver {\n        listen 8002;\n        server_name aaa.com;\n\n        location / {\n                root /website/bbb;\n                index index.html;\n        }\n}\nEOF\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u68c0\u6d4bnginx\u8bed\u6cd5\u5e76\u91cd\u8f7dnginx"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"$ nginx -t\nnginx: the configuration file /etc/nginx/nginx.conf syntax is ok\nnginx: configuration file /etc/nginx/nginx.conf test is successful\n\n$ nginx -s reload\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u6d4b\u8bd5\u8bbf\u95ee"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"$ curl aaa.com:8001\naaa.com\n\n$ curl aaa.com:8002\nbbb.com\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u522b\u540d",children:"\u914d\u7f6e\u865a\u62df\u4e3b\u673a\u522b\u540d"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u865a\u62df\u4e3b\u673a\u522b\u540d\uff0c\u5c31\u662f\u865a\u62df\u4e3b\u673a\u8bbe\u7f6e\u9664\u4e86\u4e3b\u57df\u540d\u4ee5\u5916\u7684\u4e00\u4e2a\u57df\u540d\uff0c\u5b9e\u73b0\u7528\u6237\u8bbf\u95ee\u7684\u591a\u4e2a\u57df\u540d\u5bf9\u5e94\u540c\u4e00\u4e2a\u865a\u62df\u4e3b\u673a\u7f51\u7ad9\u7684\u529f\u80fd\u3002"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["\u7f16\u8f91",(0,i.jsx)(e.code,{children:"aaa.com.conf"}),"\u6587\u4ef6"]})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-nginx",children:"cat > /etc/nginx/conf.d/aaa.com.conf <<EOF\nserver {\n        listen 80;\n        server_name aaa.com bbb.com ccc.com;\n\n        location / {\n                root /website/aaa;\n                index index.html;\n        }\n}\nEOF\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u6d4b\u8bd5\u8bbf\u95ee\uff0caaa.com\u3001bbb.com\u3001ccc.com\u8bbf\u95ee\u5230\u7684\u662f\u540c\u4e00\u4e2a\u7f51\u7ad9\u7684\u540c\u4e00\u8d44\u6e90"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:"$ curl aaa.com\naaa.com\n\n$ curl bbb.com\naaa.com\n\n$ curl ccc.com\naaa.com\n"})})]})}function d(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(t,{...n})}):t(n)}},28453:(n,e,c)=>{c.d(e,{R:()=>r,x:()=>a});var i=c(96540);const s={},l=i.createContext(s);function r(n){const e=i.useContext(l);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),i.createElement(l.Provider,{value:e},n.children)}}}]);