"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[9885],{91:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>a});var l=i(74848),p=i(28453);const r={},s="zeppelin\u5b89\u88c5\u914d\u7f6e",o={id:"linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/bi\u5de5\u5177/zeppelin/zeppelin\u5b89\u88c5\u914d\u7f6e",title:"zeppelin\u5b89\u88c5\u914d\u7f6e",description:"[toc]",source:"@site/docs/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/bi\u5de5\u5177/zeppelin/zeppelin\u5b89\u88c5\u914d\u7f6e.md",sourceDirName:"linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/bi\u5de5\u5177/zeppelin",slug:"/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/bi\u5de5\u5177/zeppelin/zeppelin\u5b89\u88c5\u914d\u7f6e",permalink:"/docs/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/bi\u5de5\u5177/zeppelin/zeppelin\u5b89\u88c5\u914d\u7f6e",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"superset\u5b89\u88c5",permalink:"/docs/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/bi\u5de5\u5177/superset/superset\u5b89\u88c5"},next:{title:"\u8ba1\u5212\u4efb\u52a1\u7cfb\u7edf gocron",permalink:"/docs/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/gocron/\u8ba1\u5212\u4efb\u52a1\u7cfb\u7edf gocron"}},c={},a=[{value:"1.zeppelin\u7b80\u4ecb",id:"1zeppelin\u7b80\u4ecb",level:2},{value:"2.\u5b89\u88c5",id:"2\u5b89\u88c5",level:2},{value:"2.1 \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5b89\u88c5\u5305",id:"21-\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5b89\u88c5\u5305",level:3},{value:"2.2 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6",id:"22-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",level:3},{value:"2.2.1 \u62f7\u8d1d\u6587\u4ef6",id:"221-\u62f7\u8d1d\u6587\u4ef6",level:4},{value:"2.2.2 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6",id:"222-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",level:4},{value:"2.3 \u542f\u52a8 zepplin",id:"23-\u542f\u52a8-zepplin",level:3},{value:"2.4 nginx\u914d\u7f6e\u53cd\u5411\u4ee3\u7406\u8bbf\u95eezepplin",id:"24-nginx\u914d\u7f6e\u53cd\u5411\u4ee3\u7406\u8bbf\u95eezepplin",level:3}];function t(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",...(0,p.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"[toc]"}),"\n",(0,l.jsx)(n.h1,{id:"zeppelin\u5b89\u88c5\u914d\u7f6e",children:"zeppelin\u5b89\u88c5\u914d\u7f6e"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"http://zeppelin.apache.org/",children:"zeppelin \u5b98\u7f51"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://github.com/apache/zeppelin",children:"zeppelin github\u5730\u5740"})}),"\n",(0,l.jsx)(n.h2,{id:"1zeppelin\u7b80\u4ecb",children:"1.zeppelin\u7b80\u4ecb"}),"\n",(0,l.jsx)(n.p,{children:"Apache Zeppelin"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Apache Zeppelin \u662f\u4e00\u4e2a\u8ba9\u4ea4\u4e92\u5f0f\u6570\u636e\u5206\u6790\u53d8\u5f97\u53ef\u884c\u7684\u57fa\u4e8e\u7f51\u9875\u7684\u5f00\u6e90\u6846\u67b6\u3002Zeppelin\u63d0\u4f9b\u4e86\u6570\u636e\u5206\u6790\u3001\u6570\u636e\u53ef\u89c6\u5316\u7b49\u529f\u80fd\u3002"}),"\n",(0,l.jsx)(n.p,{children:"Zeppelin \u662f\u4e00\u4e2a\u63d0\u4f9b\u4ea4\u4e92\u6570\u636e\u5206\u6790\u4e14\u57fa\u4e8eWeb\u7684\u7b14\u8bb0\u672c\u3002\u65b9\u4fbf\u4f60\u505a\u51fa\u53ef\u6570\u636e\u9a71\u52a8\u7684\u3001\u53ef\u4ea4\u4e92\u4e14\u53ef\u534f\u4f5c\u7684\u7cbe\u7f8e\u6587\u6863\uff0c\u5e76\u4e14\u652f\u6301\u591a\u79cd\u8bed\u8a00\uff0c\u5305\u62ec Scala(\u4f7f\u7528 Apache Spark)\u3001Python(Apache Spark)\u3001SparkSQL\u3001 Hive\u3001 Markdown\u3001Shell\u7b49\u7b49\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"2\u5b89\u88c5",children:"2.\u5b89\u88c5"}),"\n",(0,l.jsx)(n.h3,{id:"21-\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5b89\u88c5\u5305",children:"2.1 \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5b89\u88c5\u5305"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"http://zeppelin.apache.org/download.html",children:"zeppelin\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"# \u4e0b\u8f7d\u5b89\u88c5\u5305\nwget https://ftp.yz.yamagata-u.ac.jp/pub/network/apache/zeppelin/zeppelin-0.9.0/zeppelin-0.9.0-bin-all.tgz\n\n# \u89e3\u538b\ntar xf zeppelin-0.9.0-bin-all.tgz -C /usr/local/\n\n# \u4fee\u6539\u76ee\u5f55\u6743\u9650\u4e3ahadoop\nchown -R hadoop.hadoop /usr/local/zeppelin-0.9.0-bin-all\n\n# \u505a\u8f6f\u8fde\u63a5\nln -s /usr/local/zeppelin-0.9.0-bin-all/ /usr/local/zeppelin\n"})}),"\n",(0,l.jsx)(n.h3,{id:"22-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",children:"2.2 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,l.jsx)(n.h4,{id:"221-\u62f7\u8d1d\u6587\u4ef6",children:"2.2.1 \u62f7\u8d1d\u6587\u4ef6"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"zeppelin-site.xml"}),"\u662f\u4e3b\u914d\u7f6e\u6587\u4ef6"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"shiro.ini"}),"\u662f\u7528\u6237\u6743\u9650\u914d\u7f6e\u6587\u4ef6"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# \u8fdb\u5165\u5230zeppelin\u76ee\u5f55\ncd /usr/local/zeppelin/conf\n\n# \u62f7\u8d1d\u6587\u4ef6\ncp zeppelin-site.xml.template zeppelin-site.xml\ncp shiro.ini.template shiro.ini\n"})}),"\n",(0,l.jsx)(n.h4,{id:"222-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",children:"2.2.2 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsxs)(n.strong,{children:["\u4fee\u6539 ",(0,l.jsx)(n.code,{children:"zeppelin-site.xml"})]})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"# \u4fee\u6539\u76d1\u542c\u5730\u5740\n<property>\n  <name>zeppelin.server.addr</name>\n  <value>127.0.0.1</value>\n  <description>Server binding address</description>\n</property>\n\n# \u4fee\u6539\u76d1\u542c\u7aef\u53e3\n<property>\n  <name>zeppelin.server.port</name>\n  <value>8080</value>\n  <description>Server port.</description>\n</property>\n\n# \u5173\u95ed\u533f\u540d\u7528\u6237\uff0czeppelin\u9ed8\u8ba4\u662f\u5141\u8bb8\u533f\u540d\u7528\u6237\u7684\uff0c\u751f\u4ea7\u73af\u5883\u9700\u8981\u5173\u95ed\uff0c\u6ce8\u610f\u57280.9.0\u8fd9\u4e2a\u7248\u672c\u4e2d\uff0c\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801(\u7f51\u4e0a\u7684\u6587\u7ae0\u90fd\u662f\u76f4\u63a5\u4fee\u6539\u8fd9\u4e00\u5904\uff0c\u4f46\u662f0.9.0\u4e2d\u672a\u627e\u5230\u4ee5\u4e0b\u4ee3\u7801)\n<property>\n  <name>zeppelin.anonymous.allowed</name>\n  <value>false</value>\n  <description>Anonymous user allowed by default</description>\n</property>\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsxs)(n.strong,{children:["\u4fee\u6539 ",(0,l.jsx)(n.code,{children:"shiro.ini"}),"\uff0c\u5728 ",(0,l.jsx)(n.code,{children:"[users]"}),"\u4e0b\u6dfb\u52a0\u7528\u6237\u540d\u548c\u5bc6\u7801\u53ca\u6743\u9650\uff0c\u683c\u5f0f\u4e3a ",(0,l.jsx)(n.code,{children:"\u7528\u6237\u540d = \u5bc6\u7801, \u6743\u9650"})]})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"[users]\n# List of users with their password allowed to access Zeppelin.\n# To use a different strategy (LDAP / Database / ...) check the shiro doc at http://shiro.apache.org/configuration.html#Configuration-INISections\n# To enable admin user, uncomment the following line and set an appropriate password.\n#admin = password1, admin\n#user1 = password2, role1, role2\n#user2 = password3, role3\n#user3 = password4, role2\n\n\n# \u7528\u6237\u540d = \u5bc6\u7801, \u6743\u9650\nadmin = admin, admin\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5b9e\u9645\u4e0a\u8fd8\u9700\u8981\u4fee\u6539 ",(0,l.jsx)(n.code,{children:"zeppelin-env.sh"})," \u73af\u5883\u53d8\u91cf\u6587\u4ef6\uff0c\u4f46\u662f\u6211\u4eec\u7684\u5927\u6570\u636e\u76f8\u5173\u73af\u5883\u53d8\u91cf\u5df2\u7ecf\u5199\u5165\u5230 ",(0,l.jsx)(n.code,{children:"/etc/profile"})," \u4e2d\u4e86\uff0c\u56e0\u6b64\u8fd9\u91cc\u4e0d\u505a\u4fee\u6539\uff0c\u5982\u6709\u9700\u8981\u53ef\u81ea\u884c\u4fee\u6539\u6b64\u6587\u4ef6"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"/etc/profile"})," \u4e2d\u5173\u4e8e\u5927\u6570\u636e\u76f8\u5173\u7684\u73af\u5883\u53d8\u91cf"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"export MAVEN_HOME=/usr/local/apache-maven-3.5.2\nPATH=$MAVEN_HOME/bin:$PATH\nexport TEZ_HOME=/usr/local/service/tez\nexport TEZ_CONF_DIR=$TEZ_HOME/conf\nexport HADOOP_CLASSPATH=${HADOOP_CLASSPATH}:${TEZ_CONF_DIR}:${TEZ_HOME}/*:${TEZ_HOME}/lib/*\nexport JAVA_HOME=/usr/local/jdk/\nexport HADOOP_HOME=/usr/local/service/hadoop\nexport HIVE_HOME=/usr/local/service/hive\nexport HBASE_HOME=/usr/local/service/hbase\nexport SPARK_HOME=/usr/local/service/spark\nexport STORM_HOME=/usr/local/service/storm\nexport SQOOP_HOME=/usr/local/service/sqoop\nexport KYLIN_HOME=/usr/local/service/kylin\nexport ALLUXIO_HOME=/usr/local/service/alluxio\nPATH=$JAVA_HOME/bin:$HADOOP_HOME/bin:$HIVE_HOME/bin:$HBASE_HOME/bin:$SPARK_HOME/bin:$STORM_HOME/bin:$SQOOP_HOME/bin:$KYLIN_HOME/bin:$ALLUXIO_HOME/bin:$PATH\n"})}),"\n",(0,l.jsx)(n.h3,{id:"23-\u542f\u52a8-zepplin",children:"2.3 \u542f\u52a8 zepplin"}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsx)(n.p,{children:(0,l.jsxs)(n.strong,{children:["\u9700\u8981\u7528 ",(0,l.jsx)(n.code,{children:"hadoop"})," \u7528\u6237\u7684\u8eab\u4efd\u542f\u52a8\uff0c\u5426\u5219\u540e\u7eed\u4f1a\u6709\u6743\u9650\u62d2\u7edd\u95ee\u9898"]})})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"# \u5207\u6362\u5230hadoop\u7528\u6237\nsu - hadoop\n\n# \u542f\u52a8zepplin\n$ cd /usr/local/zeppelin\n$ bin/zeppelin-daemon.sh start\nPlease specify HADOOP_CONF_DIR if USE_HADOOP is true\nLog dir doesn't exist, create /usr/local/zeppelin/logs\nPid dir doesn't exist, create /usr/local/zeppelin/run\nZeppelin start                                             [  OK  ]\n\n# \u67e5\u770b\u8fdb\u7a0b\n$ jps|grep ZeppelinServer\n9567 ZeppelinServer\n"})}),"\n",(0,l.jsx)(n.h3,{id:"24-nginx\u914d\u7f6e\u53cd\u5411\u4ee3\u7406\u8bbf\u95eezepplin",children:"2.4 nginx\u914d\u7f6e\u53cd\u5411\u4ee3\u7406\u8bbf\u95eezepplin"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-nginx",children:"server {\n    listen 80;\n    server_name zepplin.abc.com;\n\n    location / {\n        proxy_pass http://127.0.0.1:8080;\n    }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u6d4f\u89c8\u5668\u8bbf\u95ee\u4f1a\u53d1\u73b0\u63d0\u793a ",(0,l.jsx)(n.code,{children:"WebSocket Disconnected"})," \uff0c\u539f\u56e0\u5728\u4e8enginx\u7684\u96a7\u9053\u9700\u8981\u628aclient\u7aef\u7684upgrade\u8bf7\u6c42\u53d1\u9001\u7ed9zeppelin\uff0c\u6240\u4ee5upgrade\u548cconnection\u7684\u5934\u4fe1\u606f\u9700\u8981\u663e\u5f0f\u8bbe\u7f6e"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-01-25%2016.20.46.png",alt:"iShot2021-01-25 16.20.46"})}),"\n",(0,l.jsx)(n.p,{children:"\u89e3\u51b3\u65b9\u6cd5\uff0c\u4fee\u6539ngxin\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://blog.csdn.net/rainysia/article/details/88844336",children:"\u95ee\u9898\u53c2\u8003\u94fe\u63a5"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-nginx",children:'server {\n    listen 80;\n    server_name zepplin.abc.com;\n\n    location / {\n        proxy_pass http://127.0.0.1:8080;\n        proxy_http_version 1.1;\n        proxy_set_header   Upgrade $http_upgrade;\n        proxy_set_header   Connection "upgrade";\n    }\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u91cd\u542fnginx\u540e\u5237\u65b0\u5373\u53ef"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-01-25%2011.50.33.png",alt:"iShot2021-01-25 11.50.33"})})]})}function d(e={}){const{wrapper:n}={...(0,p.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>o});var l=i(96540);const p={},r=l.createContext(p);function s(e){const n=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(p):e.components||p:s(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);