"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4253],{87246:(n,a,r)=>{r.r(a),r.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>o,frontMatter:()=>l,metadata:()=>c,toc:()=>t});var e=r(74848),s=r(28453);const l={},i="grafana\u5b89\u88c5",c={id:"linux/monitor/grafana/\u5b89\u88c5/grafana\u5b89\u88c5",title:"grafana\u5b89\u88c5",description:"[toc]",source:"@site/docs/linux/monitor/grafana/\u5b89\u88c5/grafana\u5b89\u88c5.md",sourceDirName:"linux/monitor/grafana/\u5b89\u88c5",slug:"/linux/monitor/grafana/\u5b89\u88c5/grafana\u5b89\u88c5",permalink:"/docs/linux/monitor/grafana/\u5b89\u88c5/grafana\u5b89\u88c5",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ubuntu18.04\u4f7f\u7528\u8bb0\u5f55",permalink:"/docs/linux/linux\u7cfb\u7edf/ubuntu/ubuntu18.04\u4f7f\u7528\u8bb0\u5f55"},next:{title:"grafana\u63a5\u5165zabbix\u6570\u636e\u6e90",permalink:"/docs/linux/monitor/grafana/\u77e5\u8bc6\u70b9/grafana\u63a5\u5165zabbix\u6570\u636e\u6e90"}},d={},t=[{value:"1.rpm\u5305\u5b89\u88c5",id:"1rpm\u5305\u5b89\u88c5",level:2},{value:"1.1 \u4e0b\u8f7d\u5b89\u88c5\u5305\u5e76\u5b89\u88c5",id:"11-\u4e0b\u8f7d\u5b89\u88c5\u5305\u5e76\u5b89\u88c5",level:3},{value:"1.2 \u542f\u52a8\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f",id:"12-\u542f\u52a8\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f",level:3},{value:"1.3 grafana\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u8bf4\u660e",id:"13-grafana\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u8bf4\u660e",level:3},{value:"2.yum\u5b89\u88c5",id:"2yum\u5b89\u88c5",level:2},{value:"2.1 \u7f16\u8f91yum\u6e90",id:"21-\u7f16\u8f91yum\u6e90",level:3},{value:"2.2 \u5b89\u88c5",id:"22-\u5b89\u88c5",level:3},{value:"2.3 \u542f\u52a8",id:"23-\u542f\u52a8",level:3},{value:"3.docker\u5b89\u88c5",id:"3docker\u5b89\u88c5",level:2},{value:"3.1 \u5b89\u88c5\u5e76\u542f\u52a8\u5bb9\u5668",id:"31-\u5b89\u88c5\u5e76\u542f\u52a8\u5bb9\u5668",level:3},{value:"4.\u4e8c\u8fdb\u5236\u5b89\u88c5",id:"4\u4e8c\u8fdb\u5236\u5b89\u88c5",level:2},{value:"4.1 \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305",id:"41-\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305",level:3},{value:"4.2 \u542f\u52a8",id:"42-\u542f\u52a8",level:3},{value:"3.\u767b\u9646grafana",id:"3\u767b\u9646grafana",level:2}];function h(n){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(a.p,{children:"[toc]"}),"\n",(0,e.jsx)(a.h1,{id:"grafana\u5b89\u88c5",children:"grafana\u5b89\u88c5"}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.a,{href:"https://grafana.com/",children:"grafana\u5b98\u7f51"})}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.a,{href:"https://grafana.com/grafana/download",children:"grafana\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740"})}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.a,{href:"https://grafcdana.com/docs/grafana/latest/installation/configuration/",children:"grafana\u5b98\u65b9\u7ba1\u7406\u914d\u7f6e\u6587\u6863"})}),"\n",(0,e.jsx)(a.h2,{id:"1rpm\u5305\u5b89\u88c5",children:"1.rpm\u5305\u5b89\u88c5"}),"\n",(0,e.jsx)(a.h3,{id:"11-\u4e0b\u8f7d\u5b89\u88c5\u5305\u5e76\u5b89\u88c5",children:"1.1 \u4e0b\u8f7d\u5b89\u88c5\u5305\u5e76\u5b89\u88c5"}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-python",children:"wget https://dl.grafana.com/oss/release/grafana-7.0.3-1.x86_64.rpm\nyum -y localinstall grafana-7.0.3-1.x86_64.rpm\n"})}),"\n",(0,e.jsx)(a.h3,{id:"12-\u542f\u52a8\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f",children:"1.2 \u542f\u52a8\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f"}),"\n",(0,e.jsxs)(a.ul,{children:["\n",(0,e.jsx)(a.li,{children:(0,e.jsx)(a.strong,{children:"grafana\u9ed8\u8ba4\u76d1\u542cTCP/3000\u7aef\u53e3"})}),"\n"]}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-python",children:"systemctl enable grafana-server && systemctl start grafana-server\n"})}),"\n",(0,e.jsx)(a.h3,{id:"13-grafana\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u8bf4\u660e",children:"1.3 grafana\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u8bf4\u660e"}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.a,{href:"https://grafana.com/docs/grafana/latest/installation/rpm/",children:"\u5b98\u65b9\u6587\u6863\u4e2d\u5bf9\u4e8egrafana\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u7684\u8bf4\u660e"})}),"\n",(0,e.jsxs)(a.table,{children:[(0,e.jsx)(a.thead,{children:(0,e.jsxs)(a.tr,{children:[(0,e.jsx)(a.th,{children:(0,e.jsx)(a.strong,{children:"\u6587\u4ef6"})}),(0,e.jsx)(a.th,{children:(0,e.jsx)(a.strong,{children:"\u8def\u5f84"})})]})}),(0,e.jsxs)(a.tbody,{children:[(0,e.jsxs)(a.tr,{children:[(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:"\u5b89\u88c5\u76ee\u5f55"})}),(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:(0,e.jsx)(a.code,{children:"/usr/share/grafana/"})})})]}),(0,e.jsxs)(a.tr,{children:[(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:"grafana-cli \u8def\u5f84"})}),(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:(0,e.jsx)(a.code,{children:"/usr/share/grafana/bin/grafana-cli"})})})]}),(0,e.jsxs)(a.tr,{children:[(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:"\u5168\u5c40\u914d\u7f6e\u6587\u4ef6"})}),(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:(0,e.jsx)(a.code,{children:"/etc/grafana/grafana.ini"})})})]}),(0,e.jsxs)(a.tr,{children:[(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:"\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6"})}),(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:(0,e.jsx)(a.code,{children:"/usr/share/grafana/conf/defaults.ini"})})})]}),(0,e.jsxs)(a.tr,{children:[(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:"plugins \u5b89\u88c5\u76ee\u5f55"})}),(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:(0,e.jsx)(a.code,{children:"/var/lib/grafana/plugins/"})})})]}),(0,e.jsxs)(a.tr,{children:[(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:"\u9ed8\u8ba4\u6570\u636e\u5b58\u50a8\u6587\u4ef6\u8def\u5f84"})}),(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:(0,e.jsx)(a.code,{children:"/var/lib/grafana/grafana.db"})})})]}),(0,e.jsxs)(a.tr,{children:[(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:"\u65e5\u5fd7\u6587\u4ef6\u5b58\u50a8\u8def\u5f84"})}),(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:(0,e.jsx)(a.code,{children:"/var/log/grafana/"})})})]}),(0,e.jsxs)(a.tr,{children:[(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:"\u90ae\u4ef6\u9ed8\u8ba4\u53d1\u9001\u6a21\u677f\u8def\u5f84"})}),(0,e.jsx)(a.td,{children:(0,e.jsx)(a.strong,{children:(0,e.jsx)(a.code,{children:"/usr/share/grafana/public/emails/"})})})]})]})]}),"\n",(0,e.jsx)(a.h2,{id:"2yum\u5b89\u88c5",children:"2.yum\u5b89\u88c5"}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.a,{href:"https://grafana.com/docs/grafana/latest/installation/rpm/#install-from-yum-repository",children:"yum\u5b89\u88c5\u5b98\u65b9\u6587\u6863"})}),"\n",(0,e.jsx)(a.h3,{id:"21-\u7f16\u8f91yum\u6e90",children:"2.1 \u7f16\u8f91yum\u6e90"}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-shell",children:"cat > /etc/yum.repos.d/grafana.repo <<EOF\n[grafana]\nname=grafana\nbaseurl=https://packages.grafana.com/oss/rpm\nrepo_gpgcheck=1\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.grafana.com/gpg.key\nsslverify=1\nsslcacert=/etc/pki/tls/certs/ca-bundle.crt\nEOF\n"})}),"\n",(0,e.jsx)(a.h3,{id:"22-\u5b89\u88c5",children:"2.2 \u5b89\u88c5"}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-shell",children:"# \u9ed8\u8ba4\u5b89\u88c5\u6700\u65b0\u7248\nyum -y install grafana\n\n# \u6307\u5b9a\u7248\u672c\u5b89\u88c5\nyum -y install grafana-7.5.0\n"})}),"\n",(0,e.jsx)(a.h3,{id:"23-\u542f\u52a8",children:"2.3 \u542f\u52a8"}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{children:"systemctl start grafana-server && systemctl enable grafana-server\n"})}),"\n",(0,e.jsx)(a.h2,{id:"3docker\u5b89\u88c5",children:"3.docker\u5b89\u88c5"}),"\n",(0,e.jsx)(a.h3,{id:"31-\u5b89\u88c5\u5e76\u542f\u52a8\u5bb9\u5668",children:"3.1 \u5b89\u88c5\u5e76\u542f\u52a8\u5bb9\u5668"}),"\n",(0,e.jsxs)(a.p,{children:[(0,e.jsx)(a.a,{href:"https://grafana.com/grafana/download?edition=oss&pg=get&platform=docker&plcmt=selfmanaged-box1-cta1",children:"\u5b98\u65b9\u5b89\u88c5\u6587\u6863"}),"\u4e2d\u5b89\u88c5\u7684grafana\u5e76\u6ca1\u6709\u505a\u6301\u4e45\u5316"]}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-shell",children:"docker run -d --name=grafana -p 3000:3000 grafana/grafana\n"})}),"\n",(0,e.jsxs)(a.p,{children:["grafana\u6570\u636e\u5b58\u50a8\u8def\u5f84\u4e3a ",(0,e.jsx)(a.code,{children:"/var/lib/grafana/grafana.db"}),"  \u6587\u4ef6\uff0c\u63d2\u4ef6\u5b58\u50a8\u8def\u5f84\u4e3a ",(0,e.jsx)(a.code,{children:"/var/lib/grafana/plugins"})," \u76ee\u5f55\uff0c\u56e0\u6b64\u9700\u8981\u6301\u4e45\u5316 ",(0,e.jsx)(a.code,{children:"/var/lib/grafana"})," \u8fd9\u4e2a\u76ee\u5f55"]}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.a,{href:"https://grafana.com/docs/grafana/latest/administration/configure-docker/",children:"docker\u5b89\u88c5grafana\u6301\u4e45\u5316\u5b98\u65b9\u6587\u6863"})}),"\n",(0,e.jsx)(a.admonition,{type:"tip",children:(0,e.jsx)(a.p,{children:(0,e.jsx)(a.strong,{children:"\u4ee5\u6302\u8f7d\u5bbf\u4e3b\u673a\u76ee\u5f55\u7684\u5f62\u5f0f\u542f\u52a8grafana\u7684\u65f6\u5019\u5fc5\u987b\u6307\u5b9a\u7528\u6237\u4e3aroot\uff0c\u5426\u5219\u540e\u7eed\u4f1a\u62a5\u6743\u9650\u9519\u8bef\uff1b\u800c\u4ee5volume\u5f62\u5f0f\u6302\u8f7d\u5219\u6ca1\u6709\u95ee\u9898"})})}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-shell",children:"docker run \\\n  -d \\\n  --restart=always \\\n  --name=grafana \\\n  --user=root \\\n  -h grafana \\\n  -p 3000:3000 \\\n  -v /data/docker-volume/grafana:/var/lib/grafana \\\n  grafana/grafana:8.0.2  \n"})}),"\n",(0,e.jsx)(a.h2,{id:"4\u4e8c\u8fdb\u5236\u5b89\u88c5",children:"4.\u4e8c\u8fdb\u5236\u5b89\u88c5"}),"\n",(0,e.jsx)(a.h3,{id:"41-\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305",children:"4.1 \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305"}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-shell",children:"wget https://dl.grafana.com/oss/release/grafana-8.0.2.linux-amd64.tar.gz\n"})}),"\n",(0,e.jsx)(a.h3,{id:"42-\u542f\u52a8",children:"4.2 \u542f\u52a8"}),"\n",(0,e.jsx)(a.pre,{children:(0,e.jsx)(a.code,{className:"language-shell",children:"# \u89e3\u538b\u7f29\u4e8c\u8fdb\u5236\u5305\ntar xf grafana-8.0.2.linux-amd64.tar.gz \n\n# \u540e\u53f0\u542f\u52a8\ncd grafana-8.0.2/\n./bin/grafana-server &\n"})}),"\n",(0,e.jsx)(a.h2,{id:"3\u767b\u9646grafana",children:"3.\u767b\u9646grafana"}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsxs)(a.strong,{children:["\u6d4f\u89c8\u5668\u8bbf\u95ee ",(0,e.jsx)(a.code,{children:"IP:3000"})]})}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsxs)(a.strong,{children:["\u521d\u59cb\u9ed8\u8ba4\u8d26\u6237\u548c\u5bc6\u7801\u90fd\u662f",(0,e.jsx)(a.code,{children:"admin"})]})}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-06-1110.14.33.png",alt:"iShot2020-06-1110.14.33"})}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.strong,{children:"\u767b\u9646\u6210\u529f\u540e\u4f1a\u63d0\u793a\u4fee\u6539\u5bc6\u7801\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u8df3\u8fc7\u4e0d\u4fee\u6539"})}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-06-1110.15.21.png",alt:"iShot2020-06-1110.33.24"})}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.strong,{children:"\u767b\u9646\u540e\u9996\u754c\u9762"})}),"\n",(0,e.jsx)(a.p,{children:(0,e.jsx)(a.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-06-1110.16.16.png",alt:"iShot2020-06-1110.31.49"})})]})}function o(n={}){const{wrapper:a}={...(0,s.R)(),...n.components};return a?(0,e.jsx)(a,{...n,children:(0,e.jsx)(h,{...n})}):h(n)}},28453:(n,a,r)=>{r.d(a,{R:()=>i,x:()=>c});var e=r(96540);const s={},l=e.createContext(s);function i(n){const a=e.useContext(l);return e.useMemo((function(){return"function"==typeof n?n(a):{...a,...n}}),[a,n])}function c(n){let a;return a=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),e.createElement(l.Provider,{value:a},n.children)}}}]);