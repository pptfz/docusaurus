"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[832],{62589:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>o});var s=l(74848),i=l(28453);const r={},c="rocky linux",a={id:"linux/linux\u7cfb\u7edf/rocky/rocky linux",title:"rocky linux",description:"rocky linux \u5b98\u7f51",source:"@site/docs/linux/linux\u7cfb\u7edf/rocky/rocky linux.md",sourceDirName:"linux/linux\u7cfb\u7edf/rocky",slug:"/linux/linux\u7cfb\u7edf/rocky/rocky linux",permalink:"/docs/linux/linux\u7cfb\u7edf/rocky/rocky linux",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"kali2020.1\u4f7f\u7528\u8bb0\u5f55",permalink:"/docs/linux/linux\u7cfb\u7edf/kali/kali2020.1\u4f7f\u7528\u8bb0\u5f55"},next:{title:"rocky9\u5b89\u88c5",permalink:"/docs/linux/linux\u7cfb\u7edf/rocky/rocky9\u5b89\u88c5"}},d={},o=[{value:"\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f",id:"\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f",level:2},{value:"\u65f6\u95f4",id:"\u65f6\u95f4",level:2},{value:"\u914d\u7f6e\u65f6\u95f4\u540c\u6b65",id:"\u914d\u7f6e\u65f6\u95f4\u540c\u6b65",level:3},{value:"\u8bbe\u7f6e24\u5c0f\u65f6\u5236",id:"\u8bbe\u7f6e24\u5c0f\u65f6\u5236",level:3},{value:"yum\u6e90",id:"yum\u6e90",level:2},{value:"\u4fee\u6539yum\u6e90\u4e3a \u963f\u91cc\u4e91",id:"\u4fee\u6539yum\u6e90\u4e3a-\u963f\u91cc\u4e91",level:3},{value:"\u4fee\u6539epel\u6e90\u4e3a \u963f\u91cc\u4e91",id:"\u4fee\u6539epel\u6e90\u4e3a-\u963f\u91cc\u4e91",level:3},{value:"\u7f51\u7edc",id:"\u7f51\u7edc",level:2},{value:"networkManager",id:"networkmanager",level:3},{value:"\u91cd\u542f\u7f51\u7edc",id:"\u91cd\u542f\u7f51\u7edc",level:4},{value:"ssh",id:"ssh",level:2},{value:"\u5141\u8bb8root\u8fdc\u7a0b\u767b\u9646",id:"\u5141\u8bb8root\u8fdc\u7a0b\u767b\u9646",level:3},{value:"\u5b89\u88c5\u8f6f\u4ef6\u5305",id:"\u5b89\u88c5\u8f6f\u4ef6\u5305",level:2},{value:"dnf\u5b89\u88c5",id:"dnf\u5b89\u88c5",level:3},{value:"pip\u5b89\u88c5",id:"pip\u5b89\u88c5",level:3},{value:"\u5173\u95ed\u64cd\u4f5c",id:"\u5173\u95ed\u64cd\u4f5c",level:2},{value:"\u5173\u95edswap",id:"\u5173\u95edswap",level:3},{value:"\u5173\u95ed\u9632\u706b\u5899",id:"\u5173\u95ed\u9632\u706b\u5899",level:3},{value:"\u5173\u95edselinux",id:"\u5173\u95edselinux",level:3},{value:"\u4f18\u5316\u64cd\u4f5c",id:"\u4f18\u5316\u64cd\u4f5c",level:2},{value:"\u914d\u7f6e\u5386\u53f2\u547d\u4ee4\u663e\u793a\u65f6\u95f4",id:"\u914d\u7f6e\u5386\u53f2\u547d\u4ee4\u663e\u793a\u65f6\u95f4",level:3},{value:"\u4fee\u6539\u7cfb\u7edf\u6700\u5927\u6587\u4ef6\u63cf\u8ff0\u7b26",id:"\u4fee\u6539\u7cfb\u7edf\u6700\u5927\u6587\u4ef6\u63cf\u8ff0\u7b26",level:3},{value:"\u914d\u7f6epip\u56fd\u5185\u6e90",id:"\u914d\u7f6epip\u56fd\u5185\u6e90",level:3},{value:"\u8bbe\u7f6e\u522b\u540d",id:"\u8bbe\u7f6e\u522b\u540d",level:3}];function t(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"rocky-linux",children:"rocky linux"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://rockylinux.org/",children:"rocky linux \u5b98\u7f51"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/rocky-linux/rocky",children:"rocky linux github"})}),"\n",(0,s.jsx)(n.h2,{id:"\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f",children:"\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f"}),"\n",(0,s.jsx)(n.p,{children:"\u7cfb\u7edf\u7248\u672c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"$ cat /etc/redhat-release \nRocky Linux release 9.3 (Blue Onyx)\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5185\u6838\u7248\u672c\uff08\u8fd9\u91cc\u662f\u5728mac m\u82af\u7247\u4e0b\u7684\u865a\u62df\u673a\u5b9e\u9a8c\uff0c\u56e0\u6b64\u662farm\u67b6\u6784\uff09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"$ uname -a\nLinux localhost.localdomain 5.14.0-362.8.1.el9_3.aarch64 #1 SMP PREEMPT_DYNAMIC Thu Nov 9 05:21:32 UTC 2023 aarch64 aarch64 aarch64 GNU/Linux\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u65f6\u95f4",children:"\u65f6\u95f4"}),"\n",(0,s.jsx)(n.h3,{id:"\u914d\u7f6e\u65f6\u95f4\u540c\u6b65",children:"\u914d\u7f6e\u65f6\u95f4\u540c\u6b65"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'echo "*/10 * * * * /usr/sbin/ntpdate ntp2.aliyun.com &>/dev/null" >> /var/spool/cron/root\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u8bbe\u7f6e24\u5c0f\u65f6\u5236",children:"\u8bbe\u7f6e24\u5c0f\u65f6\u5236"}),"\n",(0,s.jsxs)(n.admonition,{title:"\u8bf4\u660e",type:"tip",children:[(0,s.jsx)(n.p,{children:"rocky9\u9ed8\u8ba4\u662f12\u5c0f\u65f6\u5236"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ date\nWed May 15 02:49:40 PM CST 2024\n"})})]}),"\n",(0,s.jsx)(n.p,{children:"\u4fee\u6539\u4e3a24\u5c0f\u65f6\u5236\uff0c\u9700\u8981\u91cd\u65b0\u767b\u9646"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"localectl set-locale LC_TIME=en_GB.UTF-8\n"})}),"\n",(0,s.jsx)(n.h2,{id:"yum\u6e90",children:"yum\u6e90"}),"\n",(0,s.jsxs)(n.h3,{id:"\u4fee\u6539yum\u6e90\u4e3a-\u963f\u91cc\u4e91",children:["\u4fee\u6539yum\u6e90\u4e3a ",(0,s.jsx)(n.a,{href:"https://developer.aliyun.com/mirror/rockylinux?spm=a2c6h.13651102.0.0.5a511b11685jQw",children:"\u963f\u91cc\u4e91"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sed -e 's|^mirrorlist=|#mirrorlist=|g' \\\n    -e 's|^#baseurl=http://dl.rockylinux.org/$contentdir|baseurl=https://mirrors.aliyun.com/rockylinux|g' \\\n    -i.bak \\\n    /etc/yum.repos.d/rocky*.repo\n\ndnf makecache\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"\u4fee\u6539epel\u6e90\u4e3a-\u963f\u91cc\u4e91",children:["\u4fee\u6539epel\u6e90\u4e3a ",(0,s.jsx)(n.a,{href:"https://developer.aliyun.com/mirror/?serviceType=&tag=&keyword=epel",children:"\u963f\u91cc\u4e91"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://docs.fedoraproject.org/en-US/epel/",children:"epel\u6e90\u5b98\u65b9\u7f51\u7ad9"})}),"\n",(0,s.jsx)(n.p,{children:"\u5b89\u88c5 epel \u6e90"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"dnf config-manager --set-enabled crb\ndnf -y install epel-release\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4fee\u6539epel\u6e90\u4e3a\u963f\u91cc\u4e91"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sed -e 's|^metalink=|#metalink=|g' \\\n    -e 's|#baseurl=https://download.example/pub|baseurl=https://mirrors.aliyun.com|g' \\\n    -i.bak \\\n    /etc/yum.repos.d/epel*.repo\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5220\u9664\u65e0\u7528\u6587\u4ef6"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"mv /etc/yum.repos.d/epel-cisco-openh264.repo{,.old}\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u66f4\u65b0\u8f6f\u4ef6\u5305\u7d22\u5f15\u548c\u5143\u6570\u636e"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"dnf makecache\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u7f51\u7edc",children:"\u7f51\u7edc"}),"\n",(0,s.jsxs)(n.p,{children:["rocky linux 9 \u7684\u7f51\u5361\u914d\u7f6e\u6587\u4ef6\u5728 ",(0,s.jsx)(n.code,{children:"/etc/NetworkManager/system-connections"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"$ ls /etc/NetworkManager/system-connections\nenp0s5.nmconnection\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u7f51\u5361\u914d\u7f6e\u6587\u4ef6 ",(0,s.jsx)(n.code,{children:"enp0s5.nmconnection"})," \u5185\u5bb9\u5982\u4e0b"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"[connection]\nid=enp0s5\nuuid=7a0f760a-1618-3036-8d84-fda65a273071\ntype=ethernet\nautoconnect-priority=-999\ninterface-name=enp0s5\ntimestamp=1714748743\n\n[ethernet]\n\n[ipv4]\naddress1=10.0.0.222/24,10.0.0.254\ndns=223.5.5.5;180.76.76.76;114.114.114.114;\nmethod=manual\n\n[ipv6]\naddr-gen-mode=eui64\nmethod=auto\n\n[proxy]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"networkmanager",children:"networkManager"}),"\n",(0,s.jsxs)(n.p,{children:["rocky linux \u4f7f\u7528 ",(0,s.jsx)(n.a,{href:"https://github.com/BornToBeRoot/NETworkManager",children:"networkManager"})," \u7ba1\u7406\u7f51\u7edc"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://borntoberoot.net/NETworkManager/",children:"networkManager\u5b98\u7f51"})}),"\n",(0,s.jsx)(n.h4,{id:"\u91cd\u542f\u7f51\u7edc",children:"\u91cd\u542f\u7f51\u7edc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"systemctl restart NetworkManager\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ssh",children:"ssh"}),"\n",(0,s.jsx)(n.h3,{id:"\u5141\u8bb8root\u8fdc\u7a0b\u767b\u9646",children:"\u5141\u8bb8root\u8fdc\u7a0b\u767b\u9646"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"\u4fee\u6539\n\tPermitRootLogin prohibit-password\n\u4fee\u6539\u4e3a\n\tPermitRootLogin yes\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u5b89\u88c5\u8f6f\u4ef6\u5305",children:"\u5b89\u88c5\u8f6f\u4ef6\u5305"}),"\n",(0,s.jsx)(n.h3,{id:"dnf\u5b89\u88c5",children:"dnf\u5b89\u88c5"}),"\n",(0,s.jsx)(n.admonition,{title:"\u8bf4\u660e",type:"tip",children:(0,s.jsxs)(n.p,{children:["\u5728rocky9\u4e2d ",(0,s.jsx)(n.code,{children:"ntpdate"})," \u547d\u4ee4\u7684\u5b89\u88c5\u5305\u540d\u662f ",(0,s.jsx)(n.code,{children:"ntpsec"})]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"dnf -y install ntpsec tar wget net-tools git vim tree lrzsz htop iftop iotop psmisc python3-devel zlib zlib-devel gcc gcc-c++ conntrack-tools jq socat bash-completion telnet nload strace tcpdump lsof sysstat telnet curl\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pip\u5b89\u88c5",children:"pip\u5b89\u88c5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"# \u5b89\u88c5 glances mycli \npip3 install --upgrade pip\npip3 install glances mycli==1.24.0\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u5173\u95ed\u64cd\u4f5c",children:"\u5173\u95ed\u64cd\u4f5c"}),"\n",(0,s.jsx)(n.h3,{id:"\u5173\u95edswap",children:"\u5173\u95edswap"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sed -i.bak 's/.*swap.*/#&/' /etc/fstab\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5173\u95ed\u9632\u706b\u5899",children:"\u5173\u95ed\u9632\u706b\u5899"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"systemctl disable firewalld\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5173\u95edselinux",children:"\u5173\u95edselinux"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sed -i.bak 's/^SELINUXTYPE/#&/' /etc/selinux/config\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u4f18\u5316\u64cd\u4f5c",children:"\u4f18\u5316\u64cd\u4f5c"}),"\n",(0,s.jsx)(n.h3,{id:"\u914d\u7f6e\u5386\u53f2\u547d\u4ee4\u663e\u793a\u65f6\u95f4",children:"\u914d\u7f6e\u5386\u53f2\u547d\u4ee4\u663e\u793a\u65f6\u95f4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'cat >> /etc/bashrc << EOF\nHISTFILESIZE=2000\nHISTSIZE=2000\nHISTTIMEFORMAT="%Y-%m-%d %H:%M:%S "\nexport HISTTIMEFORMAT\nEOF\nsource /etc/bashrc\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u4fee\u6539\u7cfb\u7edf\u6700\u5927\u6587\u4ef6\u63cf\u8ff0\u7b26",children:"\u4fee\u6539\u7cfb\u7edf\u6700\u5927\u6587\u4ef6\u63cf\u8ff0\u7b26"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cat >> /etc/security/limits.conf <<'EOF'\nroot soft nofile 65535\nroot hard nofile 65535\n* soft nofile 65535\n* hard nofile 65535\nEOF\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u914d\u7f6epip\u56fd\u5185\u6e90",children:"\u914d\u7f6epip\u56fd\u5185\u6e90"}),"\n",(0,s.jsxs)(n.p,{children:["\u8fd9\u91cc\u9009\u62e9\u914d\u7f6e\u6210 ",(0,s.jsx)(n.a,{href:"https://developer.aliyun.com/mirror/pypi?spm=a2c6h.13651102.0.0.2ac31b112X3ylc",children:"\u963f\u91cc\u4e91\u6e90"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"[ -d ~/.pip ] || mkdir ~/.pip\ncat > ~/.pip/pip.conf << EOF\n[global]\nindex-url = https://mirrors.aliyun.com/pypi/simple/\n\n[install]\ntrusted-host=mirrors.aliyun.com\nEOF\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u8bbe\u7f6e\u522b\u540d",children:"\u8bbe\u7f6e\u522b\u540d"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cat >> ~/.bashrc << EOF\nalias n='netstat -ntpl'\nalias u='netstat -nupl'\nalias a='netstat -natupl'\nEOF\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},28453:(e,n,l)=>{l.d(n,{R:()=>c,x:()=>a});var s=l(96540);const i={},r=s.createContext(i);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);