"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[1988],{47692:(s,e,r)=>{r.r(e),r.d(e,{assets:()=>t,contentTitle:()=>i,default:()=>l,frontMatter:()=>u,metadata:()=>c,toc:()=>d});var n=r(74848),o=r(28453);const u={},i="supervisor\u7ba1\u7406docusaurus",c={id:"linux/linux\u670d\u52a1/supervisor/supervisor\u7ba1\u7406docusaurus",title:"supervisor\u7ba1\u7406docusaurus",description:"supervisor\u914d\u7f6e\u6587\u4ef6 /etc/supervisor/supervisord.conf \u4e2d\u5b9a\u4e49\u4e86include\uff0c\u56e0\u6b64\u5982\u679c\u60f3\u8981\u7ba1\u7406\u670d\u52a1\uff0c\u5c31\u9700\u8981\u7f16\u8f91 /etc/supervisor/config.d/*.ini \u6587\u4ef6",source:"@site/docs/linux/linux\u670d\u52a1/supervisor/supervisor\u7ba1\u7406docusaurus.md",sourceDirName:"linux/linux\u670d\u52a1/supervisor",slug:"/linux/linux\u670d\u52a1/supervisor/supervisor\u7ba1\u7406docusaurus",permalink:"/docs/linux/linux\u670d\u52a1/supervisor/supervisor\u7ba1\u7406docusaurus",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"supervisor\u5b89\u88c5",permalink:"/docs/linux/linux\u670d\u52a1/supervisor/supervisor\u5b89\u88c5"},next:{title:"supervisor\u7ba1\u7406gitbook",permalink:"/docs/linux/linux\u670d\u52a1/supervisor/supervisor\u7ba1\u7406gitbook"}},t={},d=[];function a(s){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...s.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{id:"supervisor\u7ba1\u7406docusaurus",children:"supervisor\u7ba1\u7406docusaurus"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.strong,{children:["supervisor\u914d\u7f6e\u6587\u4ef6 ",(0,n.jsx)(e.code,{children:"/etc/supervisor/supervisord.conf"})," \u4e2d\u5b9a\u4e49\u4e86include\uff0c\u56e0\u6b64\u5982\u679c\u60f3\u8981\u7ba1\u7406\u670d\u52a1\uff0c\u5c31\u9700\u8981\u7f16\u8f91 ",(0,n.jsx)(e.code,{children:"/etc/supervisor/config.d/*.ini"})," \u6587\u4ef6"]})}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-shell",children:"[include] \nfiles = /etc/supervisor/config.d/*.ini\n"})}),"\n",(0,n.jsx)(e.admonition,{type:"tip",children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:"https://github.com/facebook/docusaurus",children:"docusaurus"})," \u662ffacebook\u5f00\u6e90\u7684\u7f51\u7ad9\u6784\u5efa\u5de5\u5177"]})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsxs)(e.strong,{children:["\u7f16\u8f91docusaurus\u670d\u52a1\u914d\u7f6e\u6587\u4ef6",(0,n.jsx)(e.code,{children:"/etc/supervisor/config.d/docusaurus.ini"})]})}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-ini",children:"cat >/etc/supervisor/config.d/php72.ini<<'EOF'\n[program:docusaurus]\ncommand=yarn run start\ndirectory=/docusaurus\nenvironment=PATH=/root/.nvm/versions/node/v16.17.0/bin:%(ENV_PATH)s\nuser=root\nstdout_logfile=/var/log/supervisor/docusaurus.log\nredirect_stderr=true\nautostart=true\nautorestart=true\nEOF\n"})}),"\n",(0,n.jsxs)(e.admonition,{type:"tip",children:[(0,n.jsxs)(e.p,{children:["docusaurus\u9700\u8981 ",(0,n.jsx)(e.a,{href:"https://nodejs.org/en/download/",children:"node.js"})," v16.14 \u6216\u4ee5\u4e0a\u7248\u672c\uff0c\u673a\u5668\u4e0a\u7684node\u662f\u901a\u8fc7 ",(0,n.jsx)(e.a,{href:"https://github.com/nvm-sh/nvm",children:"nvm"})," (node\u591a\u7248\u672c\u7ba1\u7406\u5de5\u5177) \u5b89\u88c5\u7684\uff0c\u5b89\u88c5\u7684node\u8def\u5f84\u4e3a ",(0,n.jsx)(e.code,{children:"root/.nvm/versions/node/v16.17.0"})," \uff0c\u56e0\u6b64\u9700\u8981\u5728 ",(0,n.jsx)(e.code,{children:"ini"})," \u6587\u4ef6\u4e2d\u901a\u8fc7 ",(0,n.jsx)(e.code,{children:"environment"})," \u6765\u6307\u5b9a\u73af\u5883\u53d8\u91cf"]}),(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-shell",children:"environment=PATH=/root/.nvm/versions/node/v16.17.0/bin:%(ENV_PATH)s\n"})})]}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:"\u5c06docusaurus\u52a0\u5165supervisor"})}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-shell",children:"$ supervisorctl update docusaurus\ndocusaurus: added process group\n"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:"\u67e5\u770b\u72b6\u6001"})}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-shell",children:"$ supervisorctl status docusaurus\ndocusaurus                       RUNNING   pid 11037, uptime 0:00:16\n"})})]})}function l(s={}){const{wrapper:e}={...(0,o.R)(),...s.components};return e?(0,n.jsx)(e,{...s,children:(0,n.jsx)(a,{...s})}):a(s)}},28453:(s,e,r)=>{r.d(e,{R:()=>i,x:()=>c});var n=r(96540);const o={},u=n.createContext(o);function i(s){const e=n.useContext(u);return n.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function c(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(o):s.components||o:i(s.components),n.createElement(u.Provider,{value:e},s.children)}}}]);