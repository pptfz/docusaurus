"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[8443],{3797:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>i});var s=n(74848),c=n(28453);const a={},l="centos7\u4e8c\u8fdb\u5236\u5b89\u88c5tomcat8",r={id:"linux/linux\u670d\u52a1/tomcat/centos7\u4e8c\u8fdb\u5236\u5b89\u88c5tomcat8",title:"centos7\u4e8c\u8fdb\u5236\u5b89\u88c5tomcat8",description:"[toc]",source:"@site/docs/linux/linux\u670d\u52a1/tomcat/centos7\u4e8c\u8fdb\u5236\u5b89\u88c5tomcat8.md",sourceDirName:"linux/linux\u670d\u52a1/tomcat",slug:"/linux/linux\u670d\u52a1/tomcat/centos7\u4e8c\u8fdb\u5236\u5b89\u88c5tomcat8",permalink:"/docs/linux/linux\u670d\u52a1/tomcat/centos7\u4e8c\u8fdb\u5236\u5b89\u88c5tomcat8",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"supervisor\u81ea\u5b9a\u4e49\u670d\u52a1\u6587\u4ef6\u53c2\u6570",permalink:"/docs/linux/linux\u670d\u52a1/supervisor/supervisor\u81ea\u5b9a\u4e49\u670d\u52a1\u6587\u4ef6\u53c2\u6570"},next:{title:"jdk\u5b89\u88c5",permalink:"/docs/linux/linux\u670d\u52a1/tomcat/jdk\u5b89\u88c5"}},o={},i=[{value:"1.\u4e0b\u8f7d\u5b89\u88c5\u5305",id:"1\u4e0b\u8f7d\u5b89\u88c5\u5305",level:2},{value:"2.\u89e3\u538b\u7f29\u5305",id:"2\u89e3\u538b\u7f29\u5305",level:2},{value:"3.\u505a\u8f6f\u8fde\u63a5",id:"3\u505a\u8f6f\u8fde\u63a5",level:2},{value:"4.\u5b89\u88c5jdk",id:"4\u5b89\u88c5jdk",level:2},{value:"5.\u4f7f\u7528systemd\u7ba1\u7406tomcat",id:"5\u4f7f\u7528systemd\u7ba1\u7406tomcat",level:2},{value:"5.1 \u4e3aTomcat\u6dfb\u52a0\u542f\u52a8\u53c2\u6570",id:"51-\u4e3atomcat\u6dfb\u52a0\u542f\u52a8\u53c2\u6570",level:3},{value:"5.2 \u7f16\u5199tomcat.service\u6587\u4ef6",id:"52-\u7f16\u5199tomcatservice\u6587\u4ef6",level:3},{value:"5.3 \u4fee\u6539tomcat bin\u76ee\u5f55\u4e0b\u7684catalina.sh",id:"53-\u4fee\u6539tomcat-bin\u76ee\u5f55\u4e0b\u7684catalinash",level:3},{value:"6.\u542f\u52a8tomcat",id:"6\u542f\u52a8tomcat",level:2}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"[toc]"}),"\n",(0,s.jsx)(t.h1,{id:"centos7\u4e8c\u8fdb\u5236\u5b89\u88c5tomcat8",children:"centos7\u4e8c\u8fdb\u5236\u5b89\u88c5tomcat8"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://tomcat.apache.org/",children:"tomcat\u5b98\u7f51"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://tomcat.apache.org/tomcat-8.5-doc/RUNNING.txt",children:"tomcat\u5b98\u65b9\u5b89\u88c5\u6587\u6863"})}),"\n",(0,s.jsx)(t.h2,{id:"1\u4e0b\u8f7d\u5b89\u88c5\u5305",children:"1.\u4e0b\u8f7d\u5b89\u88c5\u5305"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"wget https://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-8/v8.5.56/bin/apache-tomcat-8.5.56.tar.gz\n"})}),"\n",(0,s.jsx)(t.h2,{id:"2\u89e3\u538b\u7f29\u5305",children:"2.\u89e3\u538b\u7f29\u5305"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"tar xf apache-tomcat-8.5.56.tar.gz -C /usr/local/\n"})}),"\n",(0,s.jsx)(t.h2,{id:"3\u505a\u8f6f\u8fde\u63a5",children:"3.\u505a\u8f6f\u8fde\u63a5"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"ln -s /usr/local/apache-tomcat-8.5.56/ /usr/local/tomcat-8.5.56\n"})}),"\n",(0,s.jsx)(t.h2,{id:"4\u5b89\u88c5jdk",children:"4.\u5b89\u88c5jdk"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://www.oracle.com/java/technologies/javase-downloads.html",children:"oracle jdk\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740"})}),"\n",(0,s.jsx)(t.p,{children:"\u8fd9\u91cc\u9009\u62e9\u4e0b\u8f7dtar\u5305\uff0c\u56e0\u4e3a\u4e0b\u8f7djdk\u9700\u8981\u767b\u9646oracle\u8d26\u53f7\uff0c\u56e0\u6b64\u4e0d\u80fd\u4f7f\u7528wget"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"$ ls \njdk-8u251-linux-x64.tar.gz\n"})}),"\n",(0,s.jsx)(t.p,{children:"\u89e3\u538b\u7f29\u5305"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"tar xf jdk-8u251-linux-x64.tar.gz -C /usr/local\n"})}),"\n",(0,s.jsx)(t.p,{children:"\u5bfc\u51fa\u73af\u5883\u53d8\u91cf"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"#\u5bfc\u51fajdk\u73af\u5883\u53d8\u91cf\ncat >/etc/profile.d/jdk8.sh<<'EOF'\nexport JAVA_HOME=/usr/local/jdk1.8.0_251\nexport PATH=$JAVA_HOME/bin:$JAVA_HOME/jre:$JAVA_HOME/lib:$PATH\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport JAVA_HOME PATH CLASSPATH\nEOF\n\n#\u4f7f\u914d\u7f6e\u751f\u6548\nsource /etc/profile.d/jdk8.sh\n\n#\u9a8c\u8bc1\n$ java -version\njava version \"1.8.0_251\"\nJava(TM) SE Runtime Environment (build 1.8.0_251-b08)\nJava HotSpot(TM) 64-Bit Server VM (build 25.251-b08, mixed mode)\n"})}),"\n",(0,s.jsx)(t.h2,{id:"5\u4f7f\u7528systemd\u7ba1\u7406tomcat",children:"5.\u4f7f\u7528systemd\u7ba1\u7406tomcat"}),"\n",(0,s.jsx)(t.h3,{id:"51-\u4e3atomcat\u6dfb\u52a0\u542f\u52a8\u53c2\u6570",children:"5.1 \u4e3aTomcat\u6dfb\u52a0\u542f\u52a8\u53c2\u6570"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"catalina.sh\u5728\u6267\u884c\u7684\u65f6\u5019\u4f1a\u8c03\u7528\u540c\u7ea7\u8def\u5f84\u4e0b\u7684setenv.sh\u6765\u8bbe\u7f6e\u989d\u5916\u7684\u73af\u5883\u53d8\u91cf\uff0c\u56e0\u6b64\u5728/usr/local/tomcat-8.5.56/bin\u8def\u5f84\u4e0b\u521b\u5efasetenv.sh\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:'cat >/usr/local/tomcat-8.5.56/bin/setenv.sh <<\'EOF\' \nexport CATALINA_HOME=/usr/local/tomcat-8.5.56\nexport CATALINA_BASE=/usr/local/tomcat-8.5.56\n#\u8bbe\u7f6eTomcat\u7684PID\u6587\u4ef6\nCATALINA_PID="$CATALINA_BASE/tomcat.pid"\n#\u6dfb\u52a0JVM\u9009\u9879\nJAVA_OPTS="-server -XX:PermSize=20M -XX:MaxPermSize=50m -Xms30M -Xmx50M -XX:MaxNewSize=20m"\nEOF\n'})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"JVM\u9009\u9879\u8bf4\u660e"})}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"JAVA_OPTS='-Xms\u3010\u521d\u59cb\u5316\u5185\u5b58\u5927\u5c0f\u3011 -Xmx\u3010\u53ef\u4ee5\u4f7f\u7528\u7684\u6700\u5927\u5185\u5b58\u3011'"})}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"52-\u7f16\u5199tomcatservice\u6587\u4ef6",children:"5.2 \u7f16\u5199tomcat.service\u6587\u4ef6"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"\u5728/usr/lib/systemd/system\u8def\u5f84\u4e0b\u6dfb\u52a0tomcat.service\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"cat >/usr/lib/systemd/system/tomcat.service<<'EOF'\n[Unit] \nDescription=Tomcat \nAfter=syslog.target network.target remote-fs.target nss-lookup.target \n[Service] \nType=oneshot \nExecStart=/usr/local/tomcat-8.5.56/bin/startup.sh \nExecStop=/usr/local/tomcat-8.5.56/bin/shutdown.sh \nExecReload=/bin/kill -s HUP $MAINPID \nRemainAfterExit=yes \n[Install] \nWantedBy=multi-user.target\nEOF\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"\u53c2\u6570\u8bf4\u660e"})}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"[unit]\t\u914d\u7f6e\u4e86\u670d\u52a1\u7684\u63cf\u8ff0\uff0c\u89c4\u5b9a\u4e86\u5728network\u542f\u52a8\u4e4b\u540e\u6267\u884c"}),"\n",(0,s.jsx)(t.strong,{children:"[service]\t\u914d\u7f6e\u670d\u52a1\u7684pid\uff0c\u670d\u52a1\u7684\u542f\u52a8\uff0c\u505c\u6b62\uff0c\u91cd\u542f"}),"\n",(0,s.jsx)(t.strong,{children:"[install]\t\u914d\u7f6e\u4e86\u4f7f\u7528\u7528\u6237"})]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"53-\u4fee\u6539tomcat-bin\u76ee\u5f55\u4e0b\u7684catalinash",children:"5.3 \u4fee\u6539tomcat bin\u76ee\u5f55\u4e0b\u7684catalina.sh"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"\u5728catalina.sh\u6587\u4ef6\u4e2d\u7b2c2\u884c\u5f00\u59cb\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff0c\u5bfc\u51faJAVA_HOME\u548cJRE_HOME\u73af\u5883\u53d8\u91cf"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"sed -i.bak '2cexport JAVA_HOME=/usr/local/jdk1.8.0_251\\nexport JRE_HOME=/usr/local/jdk1.8.0_251/jre' /usr/local/tomcat-8.5.56/bin/catalina.sh\n"})}),"\n",(0,s.jsx)(t.h2,{id:"6\u542f\u52a8tomcat",children:"6.\u542f\u52a8tomcat"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"systemctl daemon-reload\nsystemctl start tomcat && systemctl enable tomcat\n"})}),"\n",(0,s.jsx)(t.p,{children:"\u6d4f\u89c8\u5668\u8bbf\u95ee8080\u7aef\u53e3"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-06-2309.17.30.png",alt:"iShot2020-06-2309.17.30"})})]})}function h(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var s=n(96540);const c={},a=s.createContext(c);function l(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);