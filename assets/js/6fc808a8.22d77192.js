"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[13],{73771:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>o,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var r=s(74848),i=s(28453);const l={},a="CentOS7\u4e2d\u7528Ambari\u5feb\u901f\u642d\u5efa\u5927\u6570\u636e\u5e73\u53f0",c={id:"linux/big-data/Ambari/CentOS7\u4e2d\u7528Ambari\u5feb\u901f\u642d\u5efa\u5927\u6570\u636e\u5e73\u53f0",title:"CentOS7\u4e2d\u7528Ambari\u5feb\u901f\u642d\u5efa\u5927\u6570\u636e\u5e73\u53f0",description:"[toc]",source:"@site/docs/linux/big-data/Ambari/CentOS7\u4e2d\u7528Ambari\u5feb\u901f\u642d\u5efa\u5927\u6570\u636e\u5e73\u53f0.md",sourceDirName:"linux/big-data/Ambari",slug:"/linux/big-data/Ambari/CentOS7\u4e2d\u7528Ambari\u5feb\u901f\u642d\u5efa\u5927\u6570\u636e\u5e73\u53f0",permalink:"/docs/linux/big-data/Ambari/CentOS7\u4e2d\u7528Ambari\u5feb\u901f\u642d\u5efa\u5927\u6570\u636e\u5e73\u53f0",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"vscode\u914d\u7f6e\u8bb0\u5f55",permalink:"/docs/idea/vscode/vscode\u914d\u7f6e\u8bb0\u5f55"},next:{title:"ambari\u4e0b\u8f7d",permalink:"/docs/linux/big-data/Ambari/ambari\u4e0b\u8f7d"}},t={},d=[{value:"1.Ambari\u7b80\u4ecb",id:"1ambari\u7b80\u4ecb",level:2},{value:"2.\u73af\u5883\u51c6\u5907",id:"2\u73af\u5883\u51c6\u5907",level:2},{value:"2.0 \u5b89\u88c5\u7eaf\u51c0\u7cfb\u7edf\u540e\u6267\u884c\u7684\u811a\u672c",id:"20-\u5b89\u88c5\u7eaf\u51c0\u7cfb\u7edf\u540e\u6267\u884c\u7684\u811a\u672c",level:3},{value:"2.1 \u5b9e\u9a8c\u73af\u5883",id:"21-\u5b9e\u9a8c\u73af\u5883",level:3},{value:"2.2 \u914d\u7f6essh\u514d\u5bc6",id:"22-\u914d\u7f6essh\u514d\u5bc6",level:3},{value:"2.2.1 \u7f16\u8f91\u73af\u5883\u53d8\u91cf\u6587\u4ef6",id:"221-\u7f16\u8f91\u73af\u5883\u53d8\u91cf\u6587\u4ef6",level:4},{value:"2.2.2 \u751f\u6210\u5bc6\u94a5\u5bf9",id:"222-\u751f\u6210\u5bc6\u94a5\u5bf9",level:4},{value:"2.2.3 \u7f16\u8f91expect\u81ea\u52a8\u5316\u4ea4\u4e92\u811a\u672c",id:"223-\u7f16\u8f91expect\u81ea\u52a8\u5316\u4ea4\u4e92\u811a\u672c",level:4},{value:"2.2.4 \u7f16\u8f91shell\u811a\u672c\u5faa\u73af\u6267\u884cexpect\u811a\u672c",id:"224-\u7f16\u8f91shell\u811a\u672c\u5faa\u73af\u6267\u884cexpect\u811a\u672c",level:4},{value:"2.3 \u6bcf\u4e2a\u8282\u70b9\u914d\u7f6ehosts\u4fe1\u606f",id:"23-\u6bcf\u4e2a\u8282\u70b9\u914d\u7f6ehosts\u4fe1\u606f",level:3},{value:"2.4 \u7981\u7528\u9632\u706b\u5899\u548cselinux",id:"24-\u7981\u7528\u9632\u706b\u5899\u548cselinux",level:3},{value:"2.5 \u5b89\u88c5JDK8",id:"25-\u5b89\u88c5jdk8",level:3},{value:"2.5.1 \u5b89\u88c5\u8bf4\u660e",id:"251-\u5b89\u88c5\u8bf4\u660e",level:4},{value:"2.5.2 \u7f16\u5199jdk\u5b89\u88c5\u811a\u672c",id:"252-\u7f16\u5199jdk\u5b89\u88c5\u811a\u672c",level:4},{value:"2.5.3 \u62f7\u8d1djdk\u5b89\u88c5\u5305\u548cjdk\u5b89\u88c5\u811a\u672c\u5230\u5176\u4f59\u8282\u70b9",id:"253-\u62f7\u8d1djdk\u5b89\u88c5\u5305\u548cjdk\u5b89\u88c5\u811a\u672c\u5230\u5176\u4f59\u8282\u70b9",level:4},{value:"2.5.4 \u6240\u6709\u8282\u70b9\u6267\u884cjdk\u5b89\u88c5\u811a\u672c",id:"254-\u6240\u6709\u8282\u70b9\u6267\u884cjdk\u5b89\u88c5\u811a\u672c",level:4},{value:"2.6 \u914d\u7f6e\u65f6\u95f4\u540c\u6b65",id:"26-\u914d\u7f6e\u65f6\u95f4\u540c\u6b65",level:3},{value:"2.6.1 \u5404\u8282\u70b9\u5b89\u88c5chrony",id:"261-\u5404\u8282\u70b9\u5b89\u88c5chrony",level:4},{value:"2.6.2 cdh master\u8282\u70b9\u4fee\u6539\u670d\u52a1\u5668\u5730\u5740\u4e3a\u963f\u91cc\u4e91",id:"262-cdh-master\u8282\u70b9\u4fee\u6539\u670d\u52a1\u5668\u5730\u5740\u4e3a\u963f\u91cc\u4e91",level:4},{value:"2.6.3 alave\u8282\u70b9\u4fee\u6539\u540c\u6b65\u670d\u52a1\u5668\u4e3amaster\u8282\u70b9",id:"263-alave\u8282\u70b9\u4fee\u6539\u540c\u6b65\u670d\u52a1\u5668\u4e3amaster\u8282\u70b9",level:4},{value:"2.6.4 \u542f\u52a8chronyd\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f",id:"264-\u542f\u52a8chronyd\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f",level:4},{value:"2.6.5 \u68c0\u67e5\u7aef\u53e3\uff0cchronyd\u76d1\u542cudp323\u7aef\u53e3",id:"265-\u68c0\u67e5\u7aef\u53e3chronyd\u76d1\u542cudp323\u7aef\u53e3",level:4},{value:"2.6.6 \u68c0\u67e5\u540c\u6b65",id:"266-\u68c0\u67e5\u540c\u6b65",level:4},{value:"2.7 \u5b89\u88c5apache",id:"27-\u5b89\u88c5apache",level:3},{value:"2.8 \u5b89\u88c5mysql",id:"28-\u5b89\u88c5mysql",level:3},{value:"2.8.1 \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305",id:"281-\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305",level:4},{value:"2.8.2 \u89e3\u538b\u7f29mysql\u4e8c\u8fdb\u5236\u5305\u5230/usr/local",id:"282-\u89e3\u538b\u7f29mysql\u4e8c\u8fdb\u5236\u5305\u5230usrlocal",level:4},{value:"2.8.3 \u4fee\u6539\u540d\u79f0\u3001\u505a\u8f6f\u8fde\u63a5",id:"283-\u4fee\u6539\u540d\u79f0\u505a\u8f6f\u8fde\u63a5",level:4},{value:"2.8.4 \u521b\u5efamysql\u7528\u6237",id:"284-\u521b\u5efamysql\u7528\u6237",level:4},{value:"2.8.5 \u7f16\u8f91\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0cmyql-5.7.30\u4e8c\u8fdb\u5236\u5305\u9ed8\u8ba4\u6ca1\u6709mysql\u914d\u7f6e\u6587\u4ef6",id:"285-\u7f16\u8f91\u4e3b\u914d\u7f6e\u6587\u4ef6myql-5730\u4e8c\u8fdb\u5236\u5305\u9ed8\u8ba4\u6ca1\u6709mysql\u914d\u7f6e\u6587\u4ef6",level:4},{value:"2.8.6 \u521b\u5efasocker\u6587\u4ef6\u76ee\u5f55\u3001\u76ee\u5f55\u6587\u4ef6\u6388\u6743",id:"286-\u521b\u5efasocker\u6587\u4ef6\u76ee\u5f55\u76ee\u5f55\u6587\u4ef6\u6388\u6743",level:4},{value:"2.8.7 \u62f7\u8d1d\u542f\u52a8\u811a\u672c",id:"287-\u62f7\u8d1d\u542f\u52a8\u811a\u672c",level:4},{value:"2.8.8 \u521d\u59cb\u5316mysql",id:"288-\u521d\u59cb\u5316mysql",level:4},{value:"2.8.9 \u6dfb\u52a0mysql\u547d\u4ee4\u73af\u5883\u53d8\u91cf",id:"289-\u6dfb\u52a0mysql\u547d\u4ee4\u73af\u5883\u53d8\u91cf",level:4},{value:"2.8.10 \u914d\u7f6esystemd\u7ba1\u7406mysql",id:"2810-\u914d\u7f6esystemd\u7ba1\u7406mysql",level:4},{value:"2.8.11 \u542f\u52a8mysql\u3001\u68c0\u67e5\u542f\u52a8",id:"2811-\u542f\u52a8mysql\u68c0\u67e5\u542f\u52a8",level:4},{value:"2.8.12 \u521b\u5efaambari\u6570\u636e\u5e93\u53ca\u6388\u6743",id:"2812-\u521b\u5efaambari\u6570\u636e\u5e93\u53ca\u6388\u6743",level:4},{value:"3.\u5b89\u88c5ambari",id:"3\u5b89\u88c5ambari",level:2},{value:"3.1 \u5236\u4f5cambari\u672c\u5730\u6e90",id:"31-\u5236\u4f5cambari\u672c\u5730\u6e90",level:3},{value:"3.2 \u5b89\u88c5\u5236\u4f5c\u672c\u5730yum\u6e90\u5de5\u5177",id:"32-\u5b89\u88c5\u5236\u4f5c\u672c\u5730yum\u6e90\u5de5\u5177",level:3},{value:"3.3 \u521b\u5efaambari\u3001HDP\u3001HDP-UTILS\u7684repo\u4ed3\u5e93",id:"33-\u521b\u5efaambarihdphdp-utils\u7684repo\u4ed3\u5e93",level:3},{value:"3.3.1 \u521b\u5efaambari\u7684repo\u4ed3\u5e93",id:"331-\u521b\u5efaambari\u7684repo\u4ed3\u5e93",level:4},{value:"3.3.2 \u521b\u5efaHDP\u3001HDP-UTILS\u7684repo\u4ed3\u5e93",id:"332-\u521b\u5efahdphdp-utils\u7684repo\u4ed3\u5e93",level:4},{value:"3.3.3 \u751f\u6210\u672c\u5730\u7f13\u5b58",id:"333-\u751f\u6210\u672c\u5730\u7f13\u5b58",level:4},{value:"3.3.4 \u901a\u8fc7\u672c\u5730\u6e90\u5b89\u88c5ambari",id:"334-\u901a\u8fc7\u672c\u5730\u6e90\u5b89\u88c5ambari",level:4},{value:"4.\u914d\u7f6eambari",id:"4\u914d\u7f6eambari",level:2},{value:"4.1 \u4e0b\u8f7dmysql\u9a71\u52a8",id:"41-\u4e0b\u8f7dmysql\u9a71\u52a8",level:3},{value:"4.2 \u542f\u52a8\u914d\u7f6e\u7a0b\u5e8f",id:"42-\u542f\u52a8\u914d\u7f6e\u7a0b\u5e8f",level:3},{value:"4.2.1 \u63d0\u793a\u662f\u5426\u81ea\u5b9a\u4e49\u8bbe\u7f6e\t\u8f93\u5165\uff1ay",id:"421-\u63d0\u793a\u662f\u5426\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u8f93\u5165y",level:4},{value:"4.2.2 \u8bbe\u7f6eambari-server \u8d26\u53f7\t\u8f93\u5165\uff1aambari",id:"422-\u8bbe\u7f6eambari-server-\u8d26\u53f7\u8f93\u5165ambari",level:4},{value:"4.2.3 \u8bbe\u7f6eJDK\t\u8f93\u5165\uff1a3",id:"423-\u8bbe\u7f6ejdk\u8f93\u51653",level:4},{value:"4.2.4 \u8bbe\u7f6eJDK\u5bb6\u76ee\u5f55\t\u8f93\u5165\uff1a/usr/local/jdk1.8.0_251",id:"424-\u8bbe\u7f6ejdk\u5bb6\u76ee\u5f55\u8f93\u5165usrlocaljdk180_251",level:4},{value:"4.2.5 \u662f\u5426\u5141\u8bb8Ambari\u670d\u52a1\u5668\u4e0b\u8f7d\u548c\u5b89\u88c5GPL\u8bb8\u53ef\u7684LZO\u5305\t\u8f93\u5165\uff1ay",id:"425-\u662f\u5426\u5141\u8bb8ambari\u670d\u52a1\u5668\u4e0b\u8f7d\u548c\u5b89\u88c5gpl\u8bb8\u53ef\u7684lzo\u5305\u8f93\u5165y",level:4},{value:"4.2.6 \u6570\u636e\u5e93\u914d\u7f6e\t\u8f93\u5165\uff1ay",id:"426-\u6570\u636e\u5e93\u914d\u7f6e\u8f93\u5165y",level:4},{value:"4.2.7 \u9009\u62e9\u6570\u636e\u5e93\u7c7b\u578b\t\u8f93\u5165\uff1a3",id:"427-\u9009\u62e9\u6570\u636e\u5e93\u7c7b\u578b\u8f93\u51653",level:4},{value:"4.2.8 \u6570\u636e\u5e93\u4fe1\u606f\u586b\u5199",id:"428-\u6570\u636e\u5e93\u4fe1\u606f\u586b\u5199",level:4},{value:"4.2.9 \u7ee7\u7eed\u914d\u7f6e\u8fdc\u7a0b\u6570\u636e\u5e93\u8fde\u63a5\u5c5e\u6027\t\u8f93\u5165\uff1ay",id:"429-\u7ee7\u7eed\u914d\u7f6e\u8fdc\u7a0b\u6570\u636e\u5e93\u8fde\u63a5\u5c5e\u6027\u8f93\u5165y",level:4},{value:"4.2.10 \u5bfc\u5165\u6570\u636e\u5e93",id:"4210-\u5bfc\u5165\u6570\u636e\u5e93",level:4},{value:"4.3 \u542f\u52a8ambari",id:"43-\u542f\u52a8ambari",level:3},{value:"4.4 \u767b\u9646ambari",id:"44-\u767b\u9646ambari",level:3},{value:"5.\u4f7f\u7528Ambari\u754c\u9762\u5b89\u88c5\u5927\u6570\u636e\u7ec4\u4ef6",id:"5\u4f7f\u7528ambari\u754c\u9762\u5b89\u88c5\u5927\u6570\u636e\u7ec4\u4ef6",level:2},{value:"5.1 \u542f\u52a8\u5b89\u88c5\u5411\u5bfc",id:"51-\u542f\u52a8\u5b89\u88c5\u5411\u5bfc",level:3},{value:"5.2 \u9009\u62e9\u96c6\u7fa4\u7248\u672c\u3001\u914d\u7f6e\u96c6\u7fa4\u672c\u5730\u6e90",id:"52-\u9009\u62e9\u96c6\u7fa4\u7248\u672c\u914d\u7f6e\u96c6\u7fa4\u672c\u5730\u6e90",level:3},{value:"5.3 \u914d\u7f6e\u5b89\u88c5\u9009\u9879",id:"53-\u914d\u7f6e\u5b89\u88c5\u9009\u9879",level:3},{value:"5.3.1 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6",id:"531-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",level:4},{value:"5.3.2 \u914d\u7f6e\u96c6\u7fa4\u8282\u70b9\u4fe1\u606f",id:"532-\u914d\u7f6e\u96c6\u7fa4\u8282\u70b9\u4fe1\u606f",level:4},{value:"5.3.3 ambari\u5b89\u88c5\u5230 <code>Confirm Hosts</code>\u9047\u5230\u7684\u62a5\u9519",id:"533-ambari\u5b89\u88c5\u5230-confirm-hosts\u9047\u5230\u7684\u62a5\u9519",level:4},{value:"5.3.3.1 \u62a5\u95191\t\u627e\u4e0d\u5230 ambari server",id:"5331-\u62a5\u95191\u627e\u4e0d\u5230-ambari-server",level:4},{value:"5.3.3.2 \u62a5\u95192 SSLError",id:"5332-\u62a5\u95192-sslerror",level:4},{value:"5.4 \u9009\u62e9\u9700\u8981\u5b89\u88c5\u7684\u7ec4\u4ef6",id:"54-\u9009\u62e9\u9700\u8981\u5b89\u88c5\u7684\u7ec4\u4ef6",level:3},{value:"5.5 \u5206\u914d\u7ba1\u7406\u7aef\u670d\u52a1",id:"55-\u5206\u914d\u7ba1\u7406\u7aef\u670d\u52a1",level:3},{value:"5.6 \u5b9a\u5236\u670d\u52a1",id:"56-\u5b9a\u5236\u670d\u52a1",level:3},{value:"5.6.1 HDFS",id:"561-hdfs",level:4},{value:"5.6.2 YARN",id:"562-yarn",level:4},{value:"5.6.3 HIVE",id:"563-hive",level:4},{value:"5.6.4 Ambari Metrics",id:"564-ambari-metrics",level:4},{value:"5.6.5 Atlas",id:"565-atlas",level:4},{value:"5.6.6 SmartSense",id:"566-smartsense",level:4},{value:"5.7 \u786e\u8ba4\u96c6\u7fa4\u4fe1\u606f\u5e76\u90e8\u7f72",id:"57-\u786e\u8ba4\u96c6\u7fa4\u4fe1\u606f\u5e76\u90e8\u7f72",level:3},{value:"5.8 \u5b8c\u6210\u5b89\u88c5",id:"58-\u5b8c\u6210\u5b89\u88c5",level:3}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"[toc]"}),"\n",(0,r.jsx)(n.h1,{id:"centos7\u4e2d\u7528ambari\u5feb\u901f\u642d\u5efa\u5927\u6570\u636e\u5e73\u53f0",children:"CentOS7\u4e2d\u7528Ambari\u5feb\u901f\u642d\u5efa\u5927\u6570\u636e\u5e73\u53f0"}),"\n",(0,r.jsxs)(n.p,{children:["\u516c\u53f8\u7684\u4ea7\u54c1\u662f\u57fa\u4e8e\u5927\u6570\u636e\u5e73\u53f0\u7684\uff0c\u8fd1\u671f\u8981\u505a\u516c\u53f8\u4ea7\u54c1\u79c1\u6709\u5316\u90e8\u7f72\uff0c\u56e0\u6b64\u5b66\u4e60\u4e00\u4e0b ",(0,r.jsx)(n.a,{href:"http://ambari.apache.org/",children:"Ambari"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u672c\u6587\u53c2\u8003\u5730\u5740 ",(0,r.jsx)(n.a,{href:"https://blog.csdn.net/jiaowoshouzi/article/details/80675007?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.edu_weight&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.edu_weight",children:"\u539f\u6587\u94fe\u63a5"})]}),"\n",(0,r.jsx)(n.h2,{id:"1ambari\u7b80\u4ecb",children:"1.Ambari\u7b80\u4ecb"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://ambari.apache.org/",children:"Ambari\u5b98\u7f51"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/apache/ambari",children:"Ambari github\u5730\u5740"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ambari\u662f\u4ec0\u4e48"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"http://ambari.apache.org/",children:"Ambari"})," \u662f\u521b\u5efa\u3001\u7ba1\u7406\u3001\u76d1\u89c6 ",(0,r.jsx)(n.a,{href:"http://hadoop.apache.org/",children:"Hadoop"})," \u7684\u96c6\u7fa4\u7684\u8f6f\u4ef6\u3002\u8fd9\u91cc\u7684 Hadoop \u662f\u5e7f\u4e49\uff0c\u6307\u7684\u662f Hadoop \u6574\u4e2a\u751f\u6001\u5708\uff08\u4f8b\u5982 ",(0,r.jsx)(n.a,{href:"https://hive.apache.org/",children:"Hive"}),"\uff0c",(0,r.jsx)(n.a,{href:"https://hbase.apache.org/",children:"Hbase"}),"\uff0c",(0,r.jsx)(n.a,{href:"https://sqoop.apache.org/",children:"Sqoop"}),"\uff0c",(0,r.jsx)(n.a,{href:"https://zookeeper.apache.org/",children:"Zookeeper"})," \uff0c",(0,r.jsx)(n.a,{href:"https://spark.apache.org/",children:"Spark"})," \uff0c",(0,r.jsx)(n.a,{href:"https://flink.apache.org/",children:"Flink"})," \uff0c",(0,r.jsx)(n.a,{href:"https://flume.apache.org/",children:"Flume"})," \uff0c",(0,r.jsx)(n.a,{href:"https://oozie.apache.org/",children:"Oozie"})," \u7b49\uff09\uff0c\u800c\u5e76\u4e0d\u4ec5\u662f\u7279\u6307 Hadoop\u3002\u7528\u4e00\u53e5\u8bdd\u6765\u8bf4\uff0cAmbari \u5c31\u662f\u4e3a\u4e86\u8ba9 Hadoop \u4ee5\u53ca\u76f8\u5173\u7684\u5927\u6570\u636e\u8f6f\u4ef6\u66f4\u5bb9\u6613\u4f7f\u7528\u7684\u4e00\u4e2a\u5de5\u5177\u3002 Ambari \u73b0\u5728\u6240\u652f\u6301\u7684\u5e73\u53f0\u7ec4\u4ef6\u4e5f\u8d8a\u6765\u8d8a\u591a\uff0c\u4f8b\u5982\u6d41\u884c\u7684 Spark\uff0cStorm \u7b49\u8ba1\u7b97\u6846\u67b6\uff0c\u4ee5\u53ca\u8d44\u6e90\u8c03\u5ea6\u5e73\u53f0 YARN \u7b49\uff0c\u6211\u4eec\u90fd\u80fd\u8f7b\u677e\u5730\u901a\u8fc7 Ambari \u6765\u8fdb\u884c\u90e8\u7f72\uff0c\u4e3a\u60f3\u6784\u5efa\u5927\u6570\u636e\u5e73\u53f0\u7684\u521d\u5b66\u8005\u63d0\u4f9b\u4e86\u5f88\u5927\u7684\u4fbf\u6377\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["Ambari \u81ea\u8eab\u4e5f\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u67b6\u6784\u7684\u8f6f\u4ef6\uff0c\u4e3b\u8981\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a",(0,r.jsx)(n.code,{children:"Ambari Server"})," \u548c ",(0,r.jsx)(n.code,{children:"Ambari Agent"}),"\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u7528\u6237\u901a\u8fc7 ",(0,r.jsx)(n.code,{children:"Ambari Server"})," \u901a\u77e5 ",(0,r.jsx)(n.code,{children:"Ambari Agent"})," \u5b89\u88c5\u5bf9\u5e94\u7684\u8f6f\u4ef6\uff1bAgent \u4f1a\u5b9a\u65f6\u5730\u53d1\u9001\u5404\u4e2a\u673a\u5668\u6bcf\u4e2a\u8f6f\u4ef6\u6a21\u5757\u7684\u72b6\u6001\u7ed9 ",(0,r.jsx)(n.code,{children:"Ambari Server"}),"\uff0c\u6700\u7ec8\u8fd9\u4e9b\u72b6\u6001\u4fe1\u606f\u4f1a\u5448\u73b0\u5728 Ambari \u7684 GUI\uff0c\u65b9\u4fbf\u7528\u6237\u4e86\u89e3\u5230\u96c6\u7fa4\u7684\u5404\u79cd\u72b6\u6001\uff0c\u5e76\u8fdb\u884c\u76f8\u5e94\u7684\u7ef4\u62a4\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ambari"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u57fa\u4e8eWeb\u7684\u5de5\u5177\uff0c\u652f\u6301Apache Hadoop\u96c6\u7fa4\u7684\u521b\u5efa\u3001\u7ba1\u7406\u548c\u76d1\u63a7\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HDP"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u5305\u542b\u4e86hadoop\u751f\u6001\u7cfb\u7edf\u7684\u6240\u6709\u8f6f\u4ef6\u9879\u76ee\uff0c\u6bd4\u5982HBase\u3001Zookeeper\u3001Hive"}),"\n",(0,r.jsx)(n.p,{children:"\u3001Pig\u7b49\u7b49\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HDP-UTILS"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u5de5\u5177\u7c7b\u5e93\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HDP-GPL"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"LZO\u538b\u7f29\u5e93\u8f6f\u4ef6\u5305\u5b58\u50a8\u5728\u5355\u72ec\u7684HDP-GPL\u5b58\u50a8\u5e93\u4e2d\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ambari\u5b89\u88c5\u8bf4\u660e"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Ambari\u7c7b\u4f3c\u4e8eAnsible\uff0c\u5e76\u6ca1\u6709\u660e\u786e\u7684 master/slave \u4e4b\u5206"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"2\u73af\u5883\u51c6\u5907",children:"2.\u73af\u5883\u51c6\u5907"}),"\n",(0,r.jsx)(n.h3,{id:"20-\u5b89\u88c5\u7eaf\u51c0\u7cfb\u7edf\u540e\u6267\u884c\u7684\u811a\u672c",children:"2.0 \u5b89\u88c5\u7eaf\u51c0\u7cfb\u7edf\u540e\u6267\u884c\u7684\u811a\u672c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"#!/usr/bin/env bash\n#\n\n# \u4fee\u6539\u7cfb\u7edfyum\u6e90\u4e3aaliyun\u5e76\u6dfb\u52a0epel\u6e90\nmv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak\n[ ! -e /etc/yum.repos.d/CentOS-Base.repo ] && curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo && sed -i -e '/mirrors.cloud.aliyuncs.com/d' -e '/mirrors.aliyuncs.com/d' /etc/yum.repos.d/CentOS-Base.repo\n\n[ ! -e /etc/yum.repos.d/epel.repo ] && curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo\nyum makecache\nyum -y install tar wget net-tools git vim tree lrzsz htop iftop iotop psmisc python36 python3-devel zlib zlib-devel gcc gcc-c++ conntrack-tools jq socat bash-completion telnet nload strace tcpdump lsof sysstat\n\n# \u5173\u95ed\u9632\u706b\u5899\u3001selinux\u3001NetworkManager\nsystemctl disable firewalld NetworkManager\nsed -i '7s/enforcing/disabled/' /etc/selinux/config\n\n# \u540c\u6b65\u65f6\u95f4\u8ba1\u5212\u4efb\u52a1 \u7531\u4e8e\u540e\u7eed\u8981\u7528\u5230ntpserver\uff0c\u56e0\u6b64ntpdate\u9009\u62e9\u4e0d\u6267\u884c\n#sed -i '/*\\/10 \\* \\* \\* \\* \\/usr\\/sbin\\/ntpdate ntp2\\.aliyun\\.com &>\\/dev\\/null/d' /var/spool/cron/root\n#echo \"*/10 * * * * /usr/sbin/ntpdate ntp2.aliyun.com &>/dev/null\" >>/var/spool/cron/root\n\n# \u5386\u53f2\u547d\u4ee4\u663e\u793a\u65f6\u95f4\nsed -i '/HISTFILESIZE=2000/d' /etc/bashrc\nsed -i '/HISTSIZE=2000/d' /etc/bashrc\nsed -i '/HISTTIMEFORMAT=\"%Y-%m-%d %H:%M:%S \"/d' /etc/bashrc\nsed -i '/export HISTTIMEFORMAT/d' /etc/bashrc\ncat >>/etc/bashrc<<'EOF'\nHISTFILESIZE=2000\nHISTSIZE=2000\nHISTTIMEFORMAT=\"%Y-%m-%d %H:%M:%S \"\nexport HISTTIMEFORMAT\nEOF\nsource /etc/bashrc\n\n# \u4fee\u6539\u7cfb\u7edf\u6700\u5927\u6587\u4ef6\u63cf\u8ff0\u7b26\nsed -i '/root soft nofile 65535/d' /etc/security/limits.conf\nsed -i '/root hard nofile 65535/d' /etc/security/limits.conf\nsed -i '/* soft nofile 65535/d' /etc/security/limits.conf\nsed -i '/* hard nofile 65535/d' /etc/security/limits.conf\ncat >>/etc/security/limits.conf<<'EOF'\nroot soft nofile 65535\nroot hard nofile 65535\n* soft nofile 65535\n* hard nofile 65535\nEOF\n\n# \u8bbe\u7f6epip\u56fd\u5185\u6e90\nmkdir ~/.pip\ncat >~/.pip/pip.conf<<EOF\n[global]\nindex-url = https://pypi.tuna.tsinghua.edu.cn/simple/\nEOF\n\n# \u4e2a\u4eba\u4e60\u60ef\u6267\u884c\u547d\u4ee4 netstat -ntpl\uff0c\u6240\u4ee5\u505a\u4e00\u4e2a\u522b\u540d\nsed -i.bak \"8c alias n='netstat -ntpl'\" ~/.bashrc && source ~/.bashrc\n\nreboot\n"})}),"\n",(0,r.jsx)(n.h3,{id:"21-\u5b9e\u9a8c\u73af\u5883",children:"2.1 \u5b9e\u9a8c\u73af\u5883"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u89d2\u8272"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"IP\u5730\u5740"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u4e3b\u673a\u540d"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"ambari\u7248\u672c"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u786c\u4ef6\u914d\u7f6e"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u7cfb\u7edf"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u5185\u6838"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"master"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"10.0.0.136"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ambari-server01.test.com"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"2.6.2.2"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"2c8g"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"CentOS7.8"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"3.10.0-1127.el7.x86_64"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"slave"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"10.0.0.137"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ambari-agent01.test.com"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"2.6.2.2"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"2c8g"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"CentOS7.8"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"3.10.0-1127.el7.x86_64"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"slave"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"10.0.0.138"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ambari-agent02.test.com"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"2.6.2.2"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"2c8g"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"CentOS7.8"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"3.10.0-1127.el7.x86_64"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"22-\u914d\u7f6essh\u514d\u5bc6",children:"2.2 \u914d\u7f6essh\u514d\u5bc6"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["\u5982\u65e0\u7279\u6b8a\u8bf4\u660e\uff0c\u4ee5\u4e0b\u64cd\u4f5c\u5747\u5728 ",(0,r.jsx)(n.code,{children:"ambari-server01"})," \u8282\u70b9"]})}),"\n",(0,r.jsx)(n.h4,{id:"221-\u7f16\u8f91\u73af\u5883\u53d8\u91cf\u6587\u4ef6",children:"2.2.1 \u7f16\u8f91\u73af\u5883\u53d8\u91cf\u6587\u4ef6"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u73af\u5883\u53d8\u91cf\u6587\u4ef6\u4e2dIP\u3001\u4e3b\u673a\u540d\u3001\u5b50\u7f51\u7f51\u6bb5\u53ef\u81ea\u884c\u4fee\u6539"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"[ -d /opt/ambari/script ] || mkdir -p /opt/ambari/script && cd /opt/ambari/script\ncat > env.sh <<EOF\nexport NODE_IPS=(10.0.0.136 10.0.0.137 10.0.0.138)\nexport NODE_NAMES=(ambari-server01.test.com ambari-agent01.test.com ambari-agent02.test.com)\nexport NODE_SUBNET='10.0.0.0/24'\nEOF\n"})}),"\n",(0,r.jsx)(n.h4,{id:"222-\u751f\u6210\u5bc6\u94a5\u5bf9",children:"2.2.2 \u751f\u6210\u5bc6\u94a5\u5bf9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsa &>/dev/null\n"})}),"\n",(0,r.jsx)(n.h4,{id:"223-\u7f16\u8f91expect\u81ea\u52a8\u5316\u4ea4\u4e92\u811a\u672c",children:"2.2.3 \u7f16\u8f91expect\u81ea\u52a8\u5316\u4ea4\u4e92\u811a\u672c"}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u8fd9\u91cc\u673a\u5668\u7528\u6237\u540d\u662f ",(0,r.jsx)(n.code,{children:"root"}),"\uff0c\u5bc6\u7801\u662f\u56fd\u9645\u6807\u51c6\u901a\u7528\u5bc6\u7801 ",(0,r.jsx)(n.code,{children:"1"}),"\uff0cssh\u7aef\u53e3 ",(0,r.jsx)(n.code,{children:"22"})]})}),(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u26a0\ufe0f\u6267\u884c\u8def\u5f84\u5728 ",(0,r.jsx)(n.code,{children:"/opt/ambari/script"})]})})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'cat > ssh.exp <<\'EOF\'\n#!/usr/bin/expect\nif { $argc !=2 } {\n  send_user "usage: expect ssh.exp file ip\\n"\n  exit\n}\n\nset file [lindex $argv 0]\nset ip [lindex $argv 1]\nset password "1"\n\nspawn ssh-copy-id -i $file -p 22 root@$ip\nexpect {\n  "yes/no" {send "yes\\r";exp_continue}\n  "*password" {send "$password\\r"}\n}\nexpect eof\nEOF\n'})}),"\n",(0,r.jsx)(n.h4,{id:"224-\u7f16\u8f91shell\u811a\u672c\u5faa\u73af\u6267\u884cexpect\u811a\u672c",children:"2.2.4 \u7f16\u8f91shell\u811a\u672c\u5faa\u73af\u6267\u884cexpect\u811a\u672c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u7f16\u8f91\u811a\u672c\nsource env.sh\ncat > ssh.sh <<'EOF'\n#!/bin/bash\nfor i in ${NODE_IPS[@]}\ndo\n  expect ./ssh.exp ~/.ssh/id_rsa.pub $i\ndone\nEOF\n\n# \u5b89\u88c5expect\nyum -y install expect\n\n# \u6267\u884c\u811a\u672c\nsource ssh.sh\n"})}),"\n",(0,r.jsx)(n.h3,{id:"23-\u6bcf\u4e2a\u8282\u70b9\u914d\u7f6ehosts\u4fe1\u606f",children:"2.3 \u6bcf\u4e2a\u8282\u70b9\u914d\u7f6ehosts\u4fe1\u606f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'source /opt/ambari/script/env.sh \nfor node_ip in ${NODE_IPS[@]}\n  do\n    echo ">>> ${node_ip}"\n    ssh root@${node_ip} "cat >> /etc/hosts <<EOF\n${NODE_IPS[0]} ${NODE_NAMES[0]}\n${NODE_IPS[1]} ${NODE_NAMES[1]}\n${NODE_IPS[2]} ${NODE_NAMES[2]}\nEOF"\ndone\n'})}),"\n",(0,r.jsx)(n.h3,{id:"24-\u7981\u7528\u9632\u706b\u5899\u548cselinux",children:"2.4 \u7981\u7528\u9632\u706b\u5899\u548cselinux"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8fd9\u4e00\u6b65\u5df2\u57282.0\u5b89\u88c5\u7eaf\u51c0\u7cfb\u7edf\u540e\u6267\u884c\u7684\u811a\u672c\u4e2d\u6267\u884c\u8fc7\u4e86"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u7981\u7528\u9632\u706b\u5899\nsystemctl stop firewalld && systemctl disable firewalld\n\n# \u7981\u7528selinux\t\u4e34\u65f6\u4fee\u6539\nsetenforce 0\n\n# \u7981\u7528selinux\t\u6c38\u4e45\u4fee\u6539\uff0c\u91cd\u542f\u670d\u52a1\u5668\u540e\u751f\u6548\nsed -i '7s/enforcing/disabled/' /etc/selinux/config\n"})}),"\n",(0,r.jsx)(n.h3,{id:"25-\u5b89\u88c5jdk8",children:"2.5 \u5b89\u88c5JDK8"}),"\n",(0,r.jsx)(n.h4,{id:"251-\u5b89\u88c5\u8bf4\u660e",children:"2.5.1 \u5b89\u88c5\u8bf4\u660e"}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)("span",{style:{color:"red"},children:"\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u96c6\u7fa4\u4e2d\u6bcf\u4e00\u4e2a\u8282\u70b9\u90fd\u9700\u8981\u5b89\u88c5jdk"})})}),(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u26a0\ufe0fjdk\u9700\u8981\u767b\u9646\u5230 ",(0,r.jsx)(n.a,{href:"https://www.oracle.com/",children:"oracle"})," \u5b98\u7f51\u624d\u53ef\u4ee5\u4e0b\u8f7d\uff0c\u8fd9\u91cc\u4e0b\u8f7d\u7684\u662f\u7248\u672c\u662f ",(0,r.jsx)(n.code,{children:"jdk-8u251"})]})}),(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["jdk\u5b89\u88c5\u5305\u4e0b\u8f7d\u81f3 ",(0,r.jsx)(n.code,{children:"/opt/ambari/pkg"})]})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.oracle.com/technetwork/java/javase/downloads/index.html",children:"jdk\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740"})})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mkdir -p /opt/ambari/pkg\n"})}),"\n",(0,r.jsx)(n.h4,{id:"252-\u7f16\u5199jdk\u5b89\u88c5\u811a\u672c",children:"2.5.2 \u7f16\u5199jdk\u5b89\u88c5\u811a\u672c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cat >/opt/ambari/script/jdk8_install.sh <<'ABC'\n#!/usr/bin/env bash\nPWD=`pwd`\nJDK_PKG=jdk-8u251-linux-x64.tar.gz\n\n# \u5b89\u88c5jdk1.8.0_251\ntar xf $PWD/$JDK_PKG -C /usr/local\ncat >/etc/profile.d/jdk8.sh<<'EOF'\nexport JAVA_HOME=/usr/local/jdk1.8.0_251\nexport PATH=$JAVA_HOME/bin:$JAVA_HOME/jre:$JAVA_HOME/lib:$PATH\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport JAVA_HOME PATH CLASSPATH\nEOF\n\n# \u4f7fjdk\u547d\u4ee4\u73af\u5883\u53d8\u91cf\u751f\u6548\nsource /etc/profile.d/jdk8.sh\n\n# \u505a\u4e00\u4e2a\u8f6f\u8fde\u63a5\nln -sf $JAVA_HOME/bin/java /usr/bin/java\nABC\n"})}),"\n",(0,r.jsx)(n.h4,{id:"253-\u62f7\u8d1djdk\u5b89\u88c5\u5305\u548cjdk\u5b89\u88c5\u811a\u672c\u5230\u5176\u4f59\u8282\u70b9",children:"2.5.3 \u62f7\u8d1djdk\u5b89\u88c5\u5305\u548cjdk\u5b89\u88c5\u811a\u672c\u5230\u5176\u4f59\u8282\u70b9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'source /opt/ambari/script/env.sh\nexport NODE_IPS=(${NODE_IPS[1]} ${NODE_IPS[2]})\nfor node_ip in ${NODE_IPS[@]}\n  do\n    echo ">>> ${node_ip}"\n    scp ${NODE_NAMES}:/opt/ambari/script/jdk8_install.sh ${node_ip}:/opt/ambari/script\n    scp ${NODE_NAMES}:/opt/ambari/pkg/jdk-8u251-linux-x64.tar.gz ${node_ip}:/opt/ambari/pkg \n  done  \n'})}),"\n",(0,r.jsx)(n.h4,{id:"254-\u6240\u6709\u8282\u70b9\u6267\u884cjdk\u5b89\u88c5\u811a\u672c",children:"2.5.4 \u6240\u6709\u8282\u70b9\u6267\u884cjdk\u5b89\u88c5\u811a\u672c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"source /opt/ambari/script/env.sh\nexport NODE_IPS=(${NODE_IPS[1]} ${NODE_IPS[2]})\nfor node_ip in ${NODE_IPS[@]}\n  do\n    echo \">>> ${node_ip}\"  \n    ssh root@${node_ip} 'source /opt/ambari/script/jdk8_install.sh'\n  done\n"})}),"\n",(0,r.jsx)(n.h3,{id:"26-\u914d\u7f6e\u65f6\u95f4\u540c\u6b65",children:"2.6 \u914d\u7f6e\u65f6\u95f4\u540c\u6b65"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u65f6\u95f4\u540c\u6b65\u53ef\u9009 ntp \u548c chrony\uff0c\u8fd9\u91cc\u9009\u62e9 chrony"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://www.ntp.org",children:"ntp\u5b98\u7f51"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://chrony.tuxfamily.org/",children:"chrony\u5b98\u7f51"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u26a0\ufe0fsed\u4e2d\u6709\u53d8\u91cf\u66ff\u6362\uff0c\u9700\u8981\u4f7f\u7528\u53cc\u5f15\u53f7"})})}),"\n",(0,r.jsx)(n.h4,{id:"261-\u5404\u8282\u70b9\u5b89\u88c5chrony",children:"2.6.1 \u5404\u8282\u70b9\u5b89\u88c5chrony"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'source /opt/ambari/script/env.sh\nfor node_ip in ${NODE_IPS[@]}\n  do\n    echo ">>> ${node_ip}"\n    ssh root@${node_ip} yum -y install chrony\n  done\n'})}),"\n",(0,r.jsx)(n.h4,{id:"262-cdh-master\u8282\u70b9\u4fee\u6539\u670d\u52a1\u5668\u5730\u5740\u4e3a\u963f\u91cc\u4e91",children:"2.6.2 cdh master\u8282\u70b9\u4fee\u6539\u670d\u52a1\u5668\u5730\u5740\u4e3a\u963f\u91cc\u4e91"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"sed -i.bak '3,6d' /etc/chrony.conf && sed -i -e '3cserver ntp1.aliyun.com iburst' -e \"/^#allow/callow ${NODE_SUBNET}\" /etc/chrony.conf\n"})}),"\n",(0,r.jsx)(n.h4,{id:"263-alave\u8282\u70b9\u4fee\u6539\u540c\u6b65\u670d\u52a1\u5668\u4e3amaster\u8282\u70b9",children:"2.6.3 alave\u8282\u70b9\u4fee\u6539\u540c\u6b65\u670d\u52a1\u5668\u4e3amaster\u8282\u70b9"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'# \u8fd9\u91cc\u9009\u62e9\u53e6\u5916\u4e24\u4e2a\u8282\u70b9\u6267\u884c\nexport NODE_IPS=(${NODE_IPS[1]} ${NODE_IPS[2]})\nfor node_ip in ${NODE_IPS[@]}\n  do\n    echo ">>> ${node_ip}"\n    ssh root@${node_ip} sed -i.bak \'3,6d\' /etc/chrony.conf && sed -i "3cserver ${NODE_NAMES[0]} iburst" /etc/chrony.conf\n  done\n'})}),"\n",(0,r.jsx)(n.h4,{id:"264-\u542f\u52a8chronyd\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f",children:"2.6.4 \u542f\u52a8chronyd\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"for node_ip in ${NODE_IPS[@]}\n  do\n    echo \">>> ${node_ip}\"\n    ssh root@${node_ip} 'systemctl enable chronyd && systemctl start chronyd'\n  done\n"})}),"\n",(0,r.jsx)(n.h4,{id:"265-\u68c0\u67e5\u7aef\u53e3chronyd\u76d1\u542cudp323\u7aef\u53e3",children:"2.6.5 \u68c0\u67e5\u7aef\u53e3\uff0cchronyd\u76d1\u542cudp323\u7aef\u53e3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'for node_ip in ${NODE_IPS[@]}\n  do\n    echo ">>> ${node_ip}"\n    ssh root@${node_ip} netstat -nupl|grep chronyd\n  done\n'})}),"\n",(0,r.jsx)(n.h4,{id:"266-\u68c0\u67e5\u540c\u6b65",children:"2.6.6 \u68c0\u67e5\u540c\u6b65"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'for node_ip in ${NODE_IPS[@]}\n  do\n    echo ">>> ${node_ip}"\n    ssh root@${node_ip} chronyc sources\n  done\n'})}),"\n",(0,r.jsx)(n.h3,{id:"27-\u5b89\u88c5apache",children:"2.7 \u5b89\u88c5apache"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://httpd.apache.org/",children:"httpd\u5b98\u7f51"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8bf4\u660e"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8fd9\u91cc\u5b89\u88c5 HTTP \u4e3b\u8981\u4f5c\u7528\u5728\u4e3a\u540e\u671f\u5b89\u88c5 ambari \u5236\u4f5c\u672c\u5730\u6e90\u65f6\u5019\u7528\u7684"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"CentOS7.8\u9ed8\u8ba4\u7684httpd\u7248\u672c\u662f2.4.6"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum -y install httpd\nsystemctl enable httpd && systemctl start httpd\n"})}),"\n",(0,r.jsx)(n.h3,{id:"28-\u5b89\u88c5mysql",children:"2.8 \u5b89\u88c5mysql"}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u4e8c\u8fdb\u5236\u5b89\u88c5\u7684mysql\u542f\u52a8\u811a\u672c ",(0,r.jsx)(n.code,{children:"/etc/init.d/mysql"})," \u548c  ",(0,r.jsx)(n.code,{children:"\u5b89\u88c5\u76ee\u5f55/mysql/bin/mysqld_safe"}),"  \u8fd9\u4e24\u4e2a\u6587\u4ef6\u4e2d\u90fd\u662f\u9ed8\u8ba4\u5728 ",(0,r.jsx)(n.code,{children:"/usr/local/mysql"}),"\uff0c\u5982\u679c\u5b89\u88c5\u76ee\u5f55\u4e0d\u5728 ",(0,r.jsx)(n.code,{children:"/usr/local/"})," \u4e0b\uff0c\u9700\u8981\u4fee\u6539\u8fd9\u4e24\u4e2a\u6587\u4ef6\u4e2d\u7684\u8def\u5f84\uff0c\u5373\u628a ",(0,r.jsx)(n.code,{children:"/usr/local"})," \u66ff\u6362\u4e3amysql\u5b89\u88c5\u76ee\u5f55\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4"]})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"sed -i 's#/usr/local#\u4f60\u7684mysql\u5b89\u88c5\u76ee\u5f55#g' /etc/init.d/mysql /\u4f60\u7684mysql\u5b89\u88c5\u76ee\u5f55/mysql/bin/mysqld_safe\n"})})]}),"\n",(0,r.jsx)(n.h4,{id:"281-\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305",children:"2.8.1 \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://downloads.mysql.com/archives/community/",children:"mysql\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["mysql5.7.30 md5\u503c  ",(0,r.jsx)(n.code,{children:"611be3b18a30498b705db773293ad341"})]})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.7.30-linux-glibc2.12-x86_64.tar.gz\n"})}),"\n",(0,r.jsx)(n.h4,{id:"282-\u89e3\u538b\u7f29mysql\u4e8c\u8fdb\u5236\u5305\u5230usrlocal",children:"2.8.2 \u89e3\u538b\u7f29mysql\u4e8c\u8fdb\u5236\u5305\u5230/usr/local"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"tar xf mysql-5.7.30-linux-glibc2.12-x86_64.tar.gz -C /usr/local\n"})}),"\n",(0,r.jsx)(n.h4,{id:"283-\u4fee\u6539\u540d\u79f0\u505a\u8f6f\u8fde\u63a5",children:"2.8.3 \u4fee\u6539\u540d\u79f0\u3001\u505a\u8f6f\u8fde\u63a5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mv /usr/local/mysql-5.7.30-linux-glibc2.12-x86_64 /usr/local/mysql-5.7.30 && \nln -s /usr/local/mysql-5.7.30 /usr/local/mysql\n"})}),"\n",(0,r.jsx)(n.h4,{id:"284-\u521b\u5efamysql\u7528\u6237",children:"2.8.4 \u521b\u5efamysql\u7528\u6237"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"useradd -M -s /bin/nologin mysql \n"})}),"\n",(0,r.jsx)(n.h4,{id:"285-\u7f16\u8f91\u4e3b\u914d\u7f6e\u6587\u4ef6myql-5730\u4e8c\u8fdb\u5236\u5305\u9ed8\u8ba4\u6ca1\u6709mysql\u914d\u7f6e\u6587\u4ef6",children:"2.8.5 \u7f16\u8f91\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0cmyql-5.7.30\u4e8c\u8fdb\u5236\u5305\u9ed8\u8ba4\u6ca1\u6709mysql\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u26a0\ufe0f\u5982\u679c\u6307\u5b9a\u4e86mysql\u7684socket\u6587\u4ef6\u4f4d\u7f6e\uff0c\u5219\u5fc5\u987b\u6dfb\u52a0\xa0",(0,r.jsx)(n.code,{children:"[client]"})," \u6807\u7b7e\u5e76\u540c\u65f6\u6307\u5b9asocket\u6587\u4ef6\u4f4d\u7f6e\uff0c\u5426\u5219\u5ba2\u6237\u7aef\u4f1a\u9ed8\u8ba4\u4ece ",(0,r.jsx)(n.code,{children:"/tmp"})," \u4e0b\u627esocket\u6587\u4ef6"]})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# \u5907\u4efd/etc/my.cnf\nmv /etc/my.cnf /etc/my.cnf.old\n\n# \u4ee5\u4e0b\u914d\u7f6e\u4e3a\u6700\u7cbe\u7b80\u7248\uff0c\u53ef\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8fdb\u884c\u76f8\u5e94\u8bbe\u7f6e\ncat >> /etc/my.cnf <<'EOF'\n[mysqld]\nbasedir=/usr/local/mysql\ndatadir=/usr/local/mysql/data\nsocket=/var/lib/mysql/mysql.sock\nuser=mysql\nlog-error=/usr/local/mysql/data/error.log\n\n[client]\nsocket=/var/lib/mysql/mysql.sock\nEOF\n"})}),"\n",(0,r.jsx)(n.h4,{id:"286-\u521b\u5efasocker\u6587\u4ef6\u76ee\u5f55\u76ee\u5f55\u6587\u4ef6\u6388\u6743",children:"2.8.6 \u521b\u5efasocker\u6587\u4ef6\u76ee\u5f55\u3001\u76ee\u5f55\u6587\u4ef6\u6388\u6743"}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u5982\u679cmysql\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u4e86socket\u6587\u4ef6\u76ee\u5f55\uff0c\u5219\u8fd9\u4e2a\u76ee\u5f55\u7684\u6743\u9650\u5fc5\u987b\u662fmysql\uff0c\u5426\u5219mysql\u4f1a\u542f\u52a8\u5931\u8d25"})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mkdir -p /var/lib/mysql\nchown -R mysql.mysql /usr/local/mysql* /var/lib/mysql\nchown mysql.mysql /etc/my.cnf\n"})}),"\n",(0,r.jsx)(n.h4,{id:"287-\u62f7\u8d1d\u542f\u52a8\u811a\u672c",children:"2.8.7 \u62f7\u8d1d\u542f\u52a8\u811a\u672c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld\n"})}),"\n",(0,r.jsx)(n.h4,{id:"288-\u521d\u59cb\u5316mysql",children:"2.8.8 \u521d\u59cb\u5316mysql"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0fmysql-5.7.22\u521d\u59cb\u5316\u6ca1\u6709\u63d0\u793a\uff01\uff01\uff01"})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"/usr/local/mysql/bin/mysqld --initialize-insecure --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u53c2\u6570\u8bf4\u660e"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u53c2\u6570"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"\u8bf4\u660e"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"--user"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u6307\u5b9amysql\u7528\u6237"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"--basedir"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u6307\u5b9amysql\u5b89\u88c5\u76ee\u5f55"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"--datadir"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u6307\u5b9amysql\u6570\u636e\u76ee\u5f55"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"--initialize-insecure"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\u4e0d\u751f\u6210\u968f\u673a\u5bc6\u7801"})})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"289-\u6dfb\u52a0mysql\u547d\u4ee4\u73af\u5883\u53d8\u91cf",children:"2.8.9 \u6dfb\u52a0mysql\u547d\u4ee4\u73af\u5883\u53d8\u91cf"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# \u5bfc\u51famysql\u547d\u4ee4\u73af\u5883\u53d8\u91cf\necho "export PATH=/usr/local/mysql/bin:$PATH" > /etc/profile.d/mysql.sh\n\n# \u4f7f\u914d\u7f6e\u751f\u6548\nsource /etc/profile\n'})}),"\n",(0,r.jsx)(n.h4,{id:"2810-\u914d\u7f6esystemd\u7ba1\u7406mysql",children:"2.8.10 \u914d\u7f6esystemd\u7ba1\u7406mysql"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"cat >> /etc/systemd/system/mysqld.service <<'EOF'\n[Unit]\nDescription=MySQL Server\nDocumentation=man:mysqld(8)\nDocumentation=http://dev.mysql.com/doc/refman/en/using-systemd.html\nAfter=network.target\nAfter=syslog.target\n\n[Install]\nWantedBy=multi-user.target\n\n[Service]\nUser=mysql\nGroup=mysql\nExecStart=/usr/local/mysql/bin/mysqld --defaults-file=/etc/my.cnf\nLimitNOFILE = 5000\nEOF\n"})}),"\n",(0,r.jsx)(n.h4,{id:"2811-\u542f\u52a8mysql\u68c0\u67e5\u542f\u52a8",children:"2.8.11 \u542f\u52a8mysql\u3001\u68c0\u67e5\u542f\u52a8"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# \u91cd\u65b0\u52a0\u8f7dsystemd\u7cfb\u7edf\u670d\u52a1\nsystemctl daemon-reload\n\n# \u542f\u52a8mysql\u5e76\u52a0\u5165\u5f00\u673a\u81ea\u542f\nsystemctl start mysqld && systemctl enable mysqld\n\n# \u67e5\u770bmysql\u7aef\u53e3\n$ netstat -ntpl  | grep 3306\ntcp6       0      0 :::3306                 :::*                    LISTEN      31349/mysqld  \n"})}),"\n",(0,r.jsx)(n.h4,{id:"2812-\u521b\u5efaambari\u6570\u636e\u5e93\u53ca\u6388\u6743",children:"2.8.12 \u521b\u5efaambari\u6570\u636e\u5e93\u53ca\u6388\u6743"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mysql -uroot -e \"create database ambari character set utf8mb4\"\nmysql -uroot -e \"grant all on ambari.* to ambari@'localhost' identified by 'ambari'\"\nmysql -uroot -e \"grant all on ambari.* to ambari@'%' identified by 'ambari'\"\nmysql -uroot -e \"flush privileges\"\n"})}),"\n",(0,r.jsx)(n.h2,{id:"3\u5b89\u88c5ambari",children:"3.\u5b89\u88c5ambari"}),"\n",(0,r.jsx)(n.h3,{id:"31-\u5236\u4f5cambari\u672c\u5730\u6e90",children:"3.1 \u5236\u4f5cambari\u672c\u5730\u6e90"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u5404\u5305\u5927\u5c0f"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"HDP-2.6.5.0-centos7-rpm.tar.gz"})," 6.8G"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ambari-2.6.2.2-centos7.tar.gz"})," 1.7G"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"HDP-UTILS-1.1.0.22-centos7.tar.gz"})," 87M"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u4e0b\u8f7d ambari \u3001HDP-UTILS\u3001 HDP \u5305"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://supportmatrix.hortonworks.com/",children:"\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740"}),"\uff0c\u53ef\u4ee5\u4ece\u8fd9\u91cc\u4e0b\u8f7d\u4e0d\u540c\u7248\u672c\u7684\u5305"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mkdir /opt/ambari/yum && cd /opt/ambari/yum\n\nwget http://public-repo-1.hortonworks.com/ambari/centos7/2.x/updates/2.6.2.2/ambari-2.6.2.2-centos7.tar.gz\n\nwget http://public-repo-1.hortonworks.com/HDP/centos7/2.x/updates/2.6.5.0/HDP-2.6.5.0-centos7-rpm.tar.gz\n\nwget http://public-repo-1.hortonworks.com/HDP-UTILS-1.1.0.22/repos/centos7/HDP-UTILS-1.1.0.22-centos7.tar.gz\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u5c063\u4e2a\u538b\u7f29\u5305\u89e3\u538b\u81f3 ",(0,r.jsx)(n.code,{children:"/var/www/html/ambari"})]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mkdir /var/www/html/ambari\ntar xf ambari-2.6.2.2-centos7.tar.gz -C /var/www/html/ambari\ntar xf HDP-UTILS-1.1.0.22-centos7.tar.gz -C /var/www/html/ambari\ntar xf HDP-2.6.5.0-centos7-rpm.tar.gz -C /var/www/html/ambari\n"})}),"\n",(0,r.jsx)(n.h3,{id:"32-\u5b89\u88c5\u5236\u4f5c\u672c\u5730yum\u6e90\u5de5\u5177",children:"3.2 \u5b89\u88c5\u5236\u4f5c\u672c\u5730yum\u6e90\u5de5\u5177"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum -y install yum-utils createrepo\n"})}),"\n",(0,r.jsx)(n.h3,{id:"33-\u521b\u5efaambarihdphdp-utils\u7684repo\u4ed3\u5e93",children:"3.3 \u521b\u5efaambari\u3001HDP\u3001HDP-UTILS\u7684repo\u4ed3\u5e93"}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u26a0\ufe0f\u5982\u679c\u4e0b\u8f7d\u7684\u7248\u672c\u4e0d\u540c\uff0c\u5219\u9700\u8981\u4fee\u6539 \xa0",(0,r.jsx)(n.code,{children:"baseurl"})," \u548c\xa0",(0,r.jsx)(n.code,{children:"gpgcheck"})," \u4e2d\u7684url\u8def\u5f84"]})})}),"\n",(0,r.jsx)(n.h4,{id:"331-\u521b\u5efaambari\u7684repo\u4ed3\u5e93",children:"3.3.1 \u521b\u5efaambari\u7684repo\u4ed3\u5e93"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"source /opt/ambari/script/env.sh\ncat > /etc/yum.repos.d/ambari.repo <<EOF\n[ambari-2.6.2.2]\nname=ambari-2.6.2.2-1\nbaseurl=http://${NODE_IPS}/ambari/ambari/centos7/2.6.2.2-1/\ngpgcheck=1\ngpgkey=http://${NODE_IPS}/ambari/ambari/centos7/2.6.2.2-1/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins\nenabled=1\npriority=1\nEOF\n"})}),"\n",(0,r.jsx)(n.h4,{id:"332-\u521b\u5efahdphdp-utils\u7684repo\u4ed3\u5e93",children:"3.3.2 \u521b\u5efaHDP\u3001HDP-UTILS\u7684repo\u4ed3\u5e93"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cat > /etc/yum.repos.d/hdp.repo <<EOF\n[HDP-2.6.5.0]\nname=HDP-2.6.5.0\nbaseurl=http://${NODE_IPS}/ambari/HDP/centos7/2.6.5.0-292/\ngpgcheck=1\ngpgkey=http://${NODE_IPS}/ambari/HDP/centos7/2.6.5.0-292/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins\nenabled=1\npriority=1\n \n[HDP-UTILS-1.1.0.22]\nname=HDP-UTILS-1.1.0.22\nbaseurl=http://${NODE_IPS}/ambari/HDP-UTILS/centos7/1.1.0.22/\ngpgcheck=1\ngpgkey=http://${NODE_IPS}/ambari/HDP-UTILS/centos7/1.1.0.22/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins\nenabled=1\npriority=1\nEOF\n"})}),"\n",(0,r.jsx)(n.h4,{id:"333-\u751f\u6210\u672c\u5730\u7f13\u5b58",children:"3.3.3 \u751f\u6210\u672c\u5730\u7f13\u5b58"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum clean all && yum makecache\n"})}),"\n",(0,r.jsx)(n.h4,{id:"334-\u901a\u8fc7\u672c\u5730\u6e90\u5b89\u88c5ambari",children:"3.3.4 \u901a\u8fc7\u672c\u5730\u6e90\u5b89\u88c5ambari"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u26a0\ufe0f\u6267\u884c\u6b64\u547d\u4ee4\u4f1a\u5b89\u88c5 ambari2.6.2.2 \u548c pg9.2.24"})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"yum -y install ambari-server\n"})}),"\n",(0,r.jsx)(n.h2,{id:"4\u914d\u7f6eambari",children:"4.\u914d\u7f6eambari"}),"\n",(0,r.jsx)(n.h3,{id:"41-\u4e0b\u8f7dmysql\u9a71\u52a8",children:"4.1 \u4e0b\u8f7dmysql\u9a71\u52a8"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://downloads.mysql.com/archives/c-j/",children:"mysql\u9a71\u52a8\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740"})}),"\n",(0,r.jsxs)(n.admonition,{type:"caution",children:[(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u7531\u4e8e\u4f7f\u7528\u7684\u662fmysql5.7\uff0c\u56e0\u6b64\u5fc5\u987b\u4e0b\u8f7dmysql5.7\u9a71\u52a8\uff0c",(0,r.jsxs)("span",{style:{color:"red"},children:["\u4e14\u5fc5\u987b\u653e\u4e8e ",(0,r.jsx)(n.code,{children:"/usr/share/java"})," \u4e0b"]})]})}),(0,r.jsx)(n.p,{children:"\u5426\u5219\u540e\u7eed\u4f1a\u6709\u5982\u4e0b\u62a5\u9519\uff0c\u539f\u56e0\u662f ambari \u9ed8\u8ba4\u7684 mysql jdbc \u9a71\u52a8\u4e0d\u652f\u6301 5.6 \u4ee5\u4e0a\u7248\u672c"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'Configuring ambari database...\nWARNING: Before starting Ambari Server, you must copy the MySQL JDBC driver JAR file to /usr/share/java and set property "server.jdbc.driver.path=[path/to/custom_jdbc_driver]" in ambari.properties.\nPress <enter> to continue.\nERROR: Before starting Ambari Server, you must copy the MySQL JDBC driver JAR file to /usr/share/java and set property "server.jdbc.driver.path=[path/to/custom_jdbc_driver]" in ambari.properties.\nERROR: Exiting with exit code -1. \nREASON: Before starting Ambari Server, you must copy the MySQL JDBC driver JAR file to /usr/share/java and set property "server.jdbc.driver.path=[path/to/custom_jdbc_driver]" in ambari.properties.\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u521b\u5efa/usr/share/java\u76ee\u5f55\n[ -d /usr/share/java ] || mkdir /usr/share/java && cd /usr/share/java\n\n# \u4e0b\u8f7dmysql\u9a71\u52a8\nwget https://downloads.mysql.com/archives/get/p/3/file/mysql-connector-java-5.1.46.tar.gz\n\n# \u89e3\u538b\u7f29\u5305\ntar xf mysql-connector-java-5.1.46.tar.gz \n\n# \u79fb\u52a8mysql\u9a71\u52a8\u5230/usr/share/java\uff0c\u4e14\u540d\u79f0\u5fc5\u987b\u4e3a mysql-connector-java.jar\nmv mysql-connector-java-5.1.46/mysql-connector-java-5.1.46.jar /usr/share/java/mysql-connector-java.jar\n"})}),"\n",(0,r.jsx)(n.h3,{id:"42-\u542f\u52a8\u914d\u7f6e\u7a0b\u5e8f",children:"4.2 \u542f\u52a8\u914d\u7f6e\u7a0b\u5e8f"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ambari-server setup\n"})}),"\n",(0,r.jsx)(n.h4,{id:"421-\u63d0\u793a\u662f\u5426\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u8f93\u5165y",children:"4.2.1 \u63d0\u793a\u662f\u5426\u81ea\u5b9a\u4e49\u8bbe\u7f6e\t\u8f93\u5165\uff1ay"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Customize user account for ambari-server daemon [y/n] (n)?\n"})}),"\n",(0,r.jsx)(n.h4,{id:"422-\u8bbe\u7f6eambari-server-\u8d26\u53f7\u8f93\u5165ambari",children:"4.2.2 \u8bbe\u7f6eambari-server \u8d26\u53f7\t\u8f93\u5165\uff1aambari"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Enter user account for ambari-server daemon (root):\n"})}),"\n",(0,r.jsx)(n.h4,{id:"423-\u8bbe\u7f6ejdk\u8f93\u51653",children:"4.2.3 \u8bbe\u7f6eJDK\t\u8f93\u5165\uff1a3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Checking JDK...\n[1] Oracle JDK 1.8 + Java Cryptography Extension (JCE) Policy Files 8\n[2] Oracle JDK 1.7 + Java Cryptography Extension (JCE) Policy Files 7\n[3] Custom JDK\n==============================================================================\nEnter choice (1): \n"})}),"\n",(0,r.jsx)(n.h4,{id:"424-\u8bbe\u7f6ejdk\u5bb6\u76ee\u5f55\u8f93\u5165usrlocaljdk180_251",children:"4.2.4 \u8bbe\u7f6eJDK\u5bb6\u76ee\u5f55\t\u8f93\u5165\uff1a/usr/local/jdk1.8.0_251"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"jdk\u7684\u5bb6\u76ee\u5f55\u8def\u5f84\u662f /usr/local/jdk1.8.0_251"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"WARNING: JDK must be installed on all hosts and JAVA_HOME must be valid on all hosts.\nWARNING: JCE Policy files are required for configuring Kerberos security. If you plan to use Kerberos,please make sure JCE Unlimited Strength Jurisdiction Policy Files are valid on all hosts.\nPath to JAVA_HOME:\n"})}),"\n",(0,r.jsx)(n.h4,{id:"425-\u662f\u5426\u5141\u8bb8ambari\u670d\u52a1\u5668\u4e0b\u8f7d\u548c\u5b89\u88c5gpl\u8bb8\u53ef\u7684lzo\u5305\u8f93\u5165y",children:"4.2.5 \u662f\u5426\u5141\u8bb8Ambari\u670d\u52a1\u5668\u4e0b\u8f7d\u548c\u5b89\u88c5GPL\u8bb8\u53ef\u7684LZO\u5305\t\u8f93\u5165\uff1ay"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Enable Ambari Server to download and install GPL Licensed LZO packages [y/n] (n)?\n"})}),"\n",(0,r.jsx)(n.h4,{id:"426-\u6570\u636e\u5e93\u914d\u7f6e\u8f93\u5165y",children:"4.2.6 \u6570\u636e\u5e93\u914d\u7f6e\t\u8f93\u5165\uff1ay"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Enter advanced database configuration [y/n] (n)? \n"})}),"\n",(0,r.jsx)(n.h4,{id:"427-\u9009\u62e9\u6570\u636e\u5e93\u7c7b\u578b\u8f93\u51653",children:"4.2.7 \u9009\u62e9\u6570\u636e\u5e93\u7c7b\u578b\t\u8f93\u5165\uff1a3"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8f93\u51653\u9009\u62e9mysql"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Configuring database...\n==============================================================================\nChoose one of the following options:\n[1] - PostgreSQL (Embedded)\n[2] - Oracle\n[3] - MySQL / MariaDB\n[4] - PostgreSQL\n[5] - Microsoft SQL Server (Tech Preview)\n[6] - SQL Anywhere\n[7] - BDB\n==============================================================================\nEnter choice (1): \n"})}),"\n",(0,r.jsx)(n.h4,{id:"428-\u6570\u636e\u5e93\u4fe1\u606f\u586b\u5199",children:"4.2.8 \u6570\u636e\u5e93\u4fe1\u606f\u586b\u5199"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Enter choice (1): 3\nHostname (localhost): \t\t#\u9ed8\u8ba4\u5373\u53ef\nPort (3306): \t\t#\u9ed8\u8ba43306\nDatabase name (ambari): \t#\u8fd9\u91cc\u6570\u636e\u5e93\u540d\u79f0\u4e3aambari\nUsername (ambari): \t\t#\u6570\u636e\u5e93\u7528\u6237\u540d\u662fambari\nEnter Database Password (bigdata): \t\t#\u7528\u6237ambari\u7684\u5bc6\u7801\u662fambari\nRe-enter password: \t\t#\u786e\u8ba4\u5bc6\u7801\nConfiguring ambari database...\n"})}),"\n",(0,r.jsx)(n.h4,{id:"429-\u7ee7\u7eed\u914d\u7f6e\u8fdc\u7a0b\u6570\u636e\u5e93\u8fde\u63a5\u5c5e\u6027\u8f93\u5165y",children:"4.2.9 \u7ee7\u7eed\u914d\u7f6e\u8fdc\u7a0b\u6570\u636e\u5e93\u8fde\u63a5\u5c5e\u6027\t\u8f93\u5165\uff1ay"}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u26a0\ufe0f\u9700\u8981\u5bfc\u5165 ",(0,r.jsx)(n.code,{children:"/var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql"}),"\u5230ambari\u6570\u636e\u5e93\u4e2d"]})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"WARNING: Before starting Ambari Server, you must run the following DDL against the database to create the schema: /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql\nProceed with configuring remote database connection properties [y/n] (y)?\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u63d0\u793a\u5982\u4e0b\u5373\u4e3a\u6210\u529f"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Extracting system views...\nambari-admin-2.6.2.2.1.jar\n...........\nAdjusting ambari-server permissions and ownership...\nAmbari Server 'setup' completed successfully.\n"})}),"\n",(0,r.jsx)(n.h4,{id:"4210-\u5bfc\u5165\u6570\u636e\u5e93",children:"4.2.10 \u5bfc\u5165\u6570\u636e\u5e93"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'mysql -uroot -D ambari -e "source /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"43-\u542f\u52a8ambari",children:"4.3 \u542f\u52a8ambari"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ambari-server start\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u63d0\u793a\u5982\u4e0b\u5373\u4e3a\u6210\u529f"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Using python  /usr/bin/python\nStarting ambari-server\nAmbari Server running with administrator privileges.\nOrganizing resource files at /var/lib/ambari-server/resources...\nAmbari database consistency check started...\nServer PID at: /var/run/ambari-server/ambari-server.pid\nServer out at: /var/log/ambari-server/ambari-server.out\nServer log at: /var/log/ambari-server/ambari-server.log\nWaiting for server start........................\nServer started listening on 8080\n\nDB configs consistency check: no errors and warnings were found.\nAmbari Server 'start' completed successfully.\n"})}),"\n",(0,r.jsx)(n.h3,{id:"44-\u767b\u9646ambari",children:"4.4 \u767b\u9646ambari"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u6d4f\u89c8\u5668\u8bbf\u95ee ",(0,r.jsx)(n.code,{children:"http://IP:8080"})]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2010.12.43.png",alt:"iShot2020-09-15 10.12.43"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u767b\u9646\u540e\u9996\u754c\u9762"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2010.13.09.png",alt:"iShot2020-09-15 10.13.09"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)("span",{style:{color:"red"},children:"\u5230\u6b64\uff0cambari\u5b89\u88c5\u6210\u529f\uff01\uff01\uff01"})})}),"\n",(0,r.jsx)(n.h2,{id:"5\u4f7f\u7528ambari\u754c\u9762\u5b89\u88c5\u5927\u6570\u636e\u7ec4\u4ef6",children:"5.\u4f7f\u7528Ambari\u754c\u9762\u5b89\u88c5\u5927\u6570\u636e\u7ec4\u4ef6"}),"\n",(0,r.jsx)(n.h3,{id:"51-\u542f\u52a8\u5b89\u88c5\u5411\u5bfc",children:"5.1 \u542f\u52a8\u5b89\u88c5\u5411\u5bfc"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u9009\u62e9 ",(0,r.jsx)(n.code,{children:"Launch Install Wizard"})]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2010.17.22.png",alt:"iShot2020-09-15 10.17.22"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8f93\u5165\u96c6\u7fa4\u540d\u79f0"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2010.20.01.png",alt:"iShot2020-09-15 10.20.01"})}),"\n",(0,r.jsx)(n.h3,{id:"52-\u9009\u62e9\u96c6\u7fa4\u7248\u672c\u914d\u7f6e\u96c6\u7fa4\u672c\u5730\u6e90",children:"5.2 \u9009\u62e9\u96c6\u7fa4\u7248\u672c\u3001\u914d\u7f6e\u96c6\u7fa4\u672c\u5730\u6e90"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u91cc\u9009\u62e9 HDP-2.6.5.0 \u7248\u672c"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2010.22.13.png",alt:"iShot2020-09-15 10.22.13"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u4fdd\u7559 redhat7 \u4e00\u5904\uff0c\u5220\u9664\u5176\u4ed6"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2010.24.07.png",alt:"iShot2020-09-15 10.24.07"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8bbe\u7f6eHDP\u5b89\u88c5\u6e90\uff0c\u4fee\u6539\u4e3a\u672c\u5730\u6e90"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u539f\u5148\u9ed8\u8ba4\u6e90"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"HDP-2.6\thttp://public-repo-1.hortonworks.com/HDP/centos7/2.x/updates/2.6.5.0\n\nHDP-2.6-GPL\thttp://public-repo-1.hortonworks.com/HDP-GPL/centos7/2.x/updates/2.6.5.0\n\nHDP-UTILS-1.1.0.22\thttp://public-repo-1.hortonworks.com/HDP-UTILS-1.1.0.22/repos/centos7\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HDP-2.6\u3001HDP-2.6-GPL\u3001HDP-UTILS-1.1.0.22 \u4f9d\u6b21\u4fee\u6539\u4e3a\u5982\u4e0b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"http://10.0.0.136/ambari/ambari/centos7/2.6.2.2-1\nhttp://10.0.0.136/ambari/HDP/centos7/2.6.5.0-292\nhttp://10.0.0.136/ambari/HDP-UTILS/centos7/1.1.0.22\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u4fee\u6539\u5b8c\u6210\u540e\u70b9\u51fb\u4e0b\u4e00\u6b65"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2010.28.55.png",alt:"iShot2020-09-15 10.28.55"})}),"\n",(0,r.jsx)(n.h3,{id:"53-\u914d\u7f6e\u5b89\u88c5\u9009\u9879",children:"5.3 \u914d\u7f6e\u5b89\u88c5\u9009\u9879"}),"\n",(0,r.jsx)(n.h4,{id:"531-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",children:"5.3.1 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,r.jsx)(n.p,{children:"\u9700\u8981\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2dhttps\u4e3ahttp\uff0c\u5426\u5219\u540e\u7eed\u4f1a\u6709\u7c7b\u4f3c\u5982\u4e0b\u62a5\u9519"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ERROR 2020-09-15 01:34:45,716 NetUtil.py:96-EOF occurred in vic lation of protocol (_ssl.c:618)\n\nERROR 2020-09-15 01:34:45,716 NetUtil.py:97-SSLError:Failed to connect. Please check openssl Library versions.\nRefer to:https://bugzilla.redhat.com/show_bug.cgi?id=1022468 for more details.\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["1.\u4fee\u6539 ",(0,r.jsx)(n.code,{children:"/etc/python/cert-verification.cfg"})," \u4e2d ",(0,r.jsx)(n.code,{children:"verify=platform_default"}),"  \u4e3a ",(0,r.jsx)(n.code,{children:"verify=disable"})]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"sed -i.bak '/^verify/cverify=disable' /etc/python/cert-verification.cfg\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["2.\u4fee\u6539 ",(0,r.jsx)(n.code,{children:"/etc/ambari-agent/conf/ambari-agent.ini"})," \u4e2d ",(0,r.jsx)(n.code,{children:"[security]"})," \u6807\u7b7e\u540e\u52a0\u5165\u4ee5\u4e0b\u4e24\u884c\u5185\u5bb9"]})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u26a0\ufe0f\u8fd9\u4e00\u6b65\u5fc5\u987b\u5728 ",(0,r.jsx)(n.code,{children:"Confirm Hosts"})," \u8fdb\u884c\u5b89\u88c5\u540e\u624d\u4f1a\u6709\u76f8\u5e94\u7684\u6587\u4ef6\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fdb\u5165\u5230 ",(0,r.jsx)(n.code,{children:"Confirm\xa0Hosts"}),"\xa0\u8fd9\u4e00\u6b65\u4e2d\u6ce8\u518c\u4e3b\u673a\u7a0d\u7b49\u4e00\u4f1a\u624d\u53ef\u4ee5\u8fdb\u884c\u4fee\u6539\u6587\u4ef6\u64cd\u4f5c(\u76ee\u524d\u4e86\u89e3\u662f\u8fd9\u6837\uff0c\u4e0d\u77e5\u9053\u6709\u6ca1\u6709\u66f4\u597d\u7684\u65b9\u6cd5)"]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-17%2018.38.49.png",alt:"iShot2020-09-17 18.38.49"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u4e0a\u56fe\u754c\u9762\u7a0d\u7b49\u51e0\u5341\u79d2\u7136\u540e\u518d\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"ssl_verify_cert=0"})}),"\n",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"force_https_protocol=PROTOCOL_TLSv1_2"})})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"sed -i.bak -e '/^credential_shell_cmd/assl_verify_cert=0\\nforce_https_protocol=PROTOCOL_TLSv1_2' /etc/ambari-agent/conf/ambari-agent.ini\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u4ee5\u4e0a\u4e24\u6b65\u4fee\u6539\u5b8c\u6210\u540e\u9700\u8981\u91cd\u542f ambari-agent"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ambari-agent restart\n"})}),"\n",(0,r.jsx)(n.h4,{id:"532-\u914d\u7f6e\u96c6\u7fa4\u8282\u70b9\u4fe1\u606f",children:"5.3.2 \u914d\u7f6e\u96c6\u7fa4\u8282\u70b9\u4fe1\u606f"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8f93\u5165\u96c6\u7fa4\u8282\u70b9FQDN\u5f0f\u4e3b\u673a\u540d\u3001ambari-server\u7684\u79c1\u94a5\u3001ambari-server\u7684\u7528\u6237\u540d\u548cssh\u7aef\u53e3"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u5404\u8282\u70b9 hosts \u4fe1\u606f"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"10.0.0.136 ambari-server01.test.com\n10.0.0.137 ambari-agent01.test.com\n10.0.0.138 ambari-agent02.test.com\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f",(0,r.jsxs)("span",{style:{color:"red"},children:[(0,r.jsx)(n.code,{children:"Target Hosts"})," \u5904\u4e00\u5b9a\u4e0d\u8981\u5199IP\u5730\u5740\uff0c\u4e00\u5b9a\u8981\u5199\u6210FQDN\u5f0f\u7684\u4e3b\u673a\u540d"]})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u96c6\u7fa4\u8282\u70b9 ",(0,r.jsx)(n.code,{children:"Target Hosts"})," \u5904\u8981\u5199\u6210\u5982\u4e0b"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ambari-server01.test.com\nambari-agent01.test.com\nambari-agent02.test.com\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2010.45.51.png",alt:"iShot2020-09-15 10.45.51"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u5426\u5219\u5c31\u4f1a\u62a5\u9519\u5982\u4e0b\uff0c\u975e\u5e38\u5751"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ERROR 2020-09-14 17:07:52,075 main.py:246 - Ambari agent machine hostname (ambari01.hadoop) does not match expected ambari server hostname (10.0.0.136). Aborting registration. Please check hostname, hostname -f and /etc/hosts file to confirm your hostname is setup correctly\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6ce8\u518c\u6210\u529f\u540e\u663e\u793a\u5982\u4e0b"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2014.07.53.png",alt:"iShot2020-09-15 14.07.53"})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u26a0\ufe0f5.3.3\u4e3a\u9047\u5230\u7684\u95ee\u53ca\u8bb0\u5f55"})})}),"\n",(0,r.jsxs)(n.h4,{id:"533-ambari\u5b89\u88c5\u5230-confirm-hosts\u9047\u5230\u7684\u62a5\u9519",children:["5.3.3 ambari\u5b89\u88c5\u5230 ",(0,r.jsx)(n.code,{children:"Confirm Hosts"}),"\u9047\u5230\u7684\u62a5\u9519"]}),"\n",(0,r.jsx)(n.h4,{id:"5331-\u62a5\u95191\u627e\u4e0d\u5230-ambari-server",children:"5.3.3.1 \u62a5\u95191\t\u627e\u4e0d\u5230 ambari server"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-14%2017.00.15.png",alt:"iShot2020-09-14 17.00.15"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u91cd\u8981\u65e5\u5fd7"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-14%2017.01.54.png",alt:"iShot2020-09-14 17.01.54"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6cd5"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u96c6\u7fa4\u8282\u70b9 ",(0,r.jsx)(n.code,{children:"Target Hosts"})," \u5904\u4e3b\u673a\u4fe1\u606f\u8981\u5199\u6210\u5982\u4e0bFQDN\u5f0f"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ambari-server01.test.com\nambari-agent01.test.com\nambari-agent02.test.com\n"})}),"\n",(0,r.jsx)(n.h4,{id:"5332-\u62a5\u95192-sslerror",children:"5.3.3.2 \u62a5\u95192 SSLError"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2011.08.04.png",alt:"iShot2020-09-15 11.08.04"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"5.2\u6b65\u9aa4\u4e2d\u4fee\u6539\u4e86HDP\u6e90\u4e3a\u672c\u5730"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HDP-2.6\u3001HDP-2.6-GPL\u3001HDP-UTILS-1.1.0.22 \u4f9d\u6b21\u4fee\u6539\u4e3a\u5982\u4e0b"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"http://10.0.0.136/ambari/ambari/centos7/2.6.2.2-1\nhttp://10.0.0.136/ambari/HDP/centos7/2.6.5.0-292\nhttp://10.0.0.136/ambari/HDP-UTILS/centos7/1.1.0.22\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6cd5"})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u26a0\ufe0f",(0,r.jsx)("span",{style:{color:"red"},children:"\u4ee5\u4e0b\u64cd\u4f5c\u9700\u8981\u5728\u6240\u6709\u8282\u70b9\u4fee\u6539"})]})})}),"\n",(0,r.jsxs)(n.p,{children:["1.\u4fee\u6539 ",(0,r.jsx)(n.code,{children:"/etc/python/cert-verification.cfg"})," \u4e2d ",(0,r.jsx)(n.code,{children:"verify=platform_default"}),"  \u4e3a ",(0,r.jsx)(n.code,{children:"verify=disable"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"sed -i.bak '/^verify/cverify=disable' /etc/python/cert-verification.cfg\n"})}),"\n",(0,r.jsxs)(n.p,{children:["2.\u4fee\u6539 ",(0,r.jsx)(n.code,{children:"/etc/ambari-agent/conf/ambari-agent.ini"})," \u4e2d ",(0,r.jsx)(n.code,{children:"[security]"})," \u6807\u7b7e\u540e\u52a0\u5165\u4ee5\u4e0b\u4e24\u884c\u5185\u5bb9"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ssl_verify_cert=0"}),"\n",(0,r.jsx)(n.code,{children:"force_https_protocol=PROTOCOL_TLSv1_2"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"sed -i.bak -e '/^credential_shell_cmd/assl_verify_cert=0\\nforce_https_protocol=PROTOCOL_TLSv1_2' /etc/ambari-agent/conf/ambari-agent.ini\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u91cd\u542f ambari-agent"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ambari-agent restart\n"})}),"\n",(0,r.jsx)(n.h3,{id:"54-\u9009\u62e9\u9700\u8981\u5b89\u88c5\u7684\u7ec4\u4ef6",children:"5.4 \u9009\u62e9\u9700\u8981\u5b89\u88c5\u7684\u7ec4\u4ef6"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u8981\u5b89\u88c5\u7684\u7ec4\u4ef6"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2014.18.23.png",alt:"iShot2020-09-15 14.18.23"})}),"\n",(0,r.jsx)(n.h3,{id:"55-\u5206\u914d\u7ba1\u7406\u7aef\u670d\u52a1",children:"5.5 \u5206\u914d\u7ba1\u7406\u7aef\u670d\u52a1"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u5404\u7ec4\u4ef6\u5b89\u88c5\u7684\u8282\u70b9"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2014.35.15.png",alt:"iShot2020-09-15 14.35.15"})}),"\n",(0,r.jsx)(n.h3,{id:"56-\u5b9a\u5236\u670d\u52a1",children:"5.6 \u5b9a\u5236\u670d\u52a1"}),"\n",(0,r.jsx)(n.h4,{id:"561-hdfs",children:"5.6.1 HDFS"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2016.00.36.png",alt:"iShot2020-09-15 16.00.36"})}),"\n",(0,r.jsx)(n.p,{children:"\u53ea\u4fdd\u7559\u4e00\u4e2a\u8def\u5f84"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2016.01.23.png",alt:"iShot2020-09-15 16.01.23"})}),"\n",(0,r.jsx)(n.h4,{id:"562-yarn",children:"5.6.2 YARN"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2016.05.09.png",alt:"iShot2020-09-15 16.05.09"})}),"\n",(0,r.jsx)(n.p,{children:"\u53ea\u4fdd\u7559\u4e00\u4e2a\u8def\u5f84"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2016.14.29.png",alt:"iShot2020-09-15 16.14.29"})}),"\n",(0,r.jsx)(n.h4,{id:"563-hive",children:"5.6.3 HIVE"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2016.27.42.png",alt:"iShot2020-09-15 16.27.42"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u6307\u5b9amysql\u9a71\u52a8\u4f4d\u7f6e\uff0c\u5426\u5219hive\u8fde\u63a5\u6570\u636e\u5e93\u4f1a\u5931\u8d25"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"ambari-server setup --jdbc-db=mysql --jdbc-driver=/usr/share/java/mysql-connector-java.jar\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8f93\u51fa\u5982\u4e0b\u5373\u4e3a\u6210\u529f"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Using python  /usr/bin/python\nSetup ambari-server\nCopying /usr/share/java/mysql-connector-java.jar to /var/lib/ambari-server/resources\nIf you are updating existing jdbc driver jar for mysql with mysql-connector-java.jar. Please remove the old driver jar, from all hosts. Restarting services that need the driver, will automatically copy the new jar to the hosts.\nJDBC driver was successfully initialized.\nAmbari Server 'setup' completed successfully.\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u521b\u5efahive\u6570\u636e\u5e93\u53ca\u6388\u6743"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mysql -uroot -e \"create database hive character set utf8mb4\"\nmysql -uroot -e \"grant all on hive.* to hivei@'localhost' identified by 'hive'\"\nmysql -uroot -e \"grant all on hive.* to hive@'%' identified by 'hive'\"\nmysql -uroot -e \"flush privileges\"\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["\u9009\u62e9 ",(0,r.jsx)(n.code,{children:"Existing MySQL / MariaDB Database"})," \uff0c\u8f93\u5165hive\u6570\u636e\u5e93\u5bc6\u7801\uff0c\u4fee\u6539 ",(0,r.jsx)(n.code,{children:"Database URL"})," \u8fde\u63a5\u5730\u5740\uff0c\u6d4b\u8bd5\u8fde\u63a5\u6210\u529f\u5373\u53ef"]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2016.37.23.png",alt:"iShot2020-09-15 16.37.23"})}),"\n",(0,r.jsx)(n.h4,{id:"564-ambari-metrics",children:"5.6.4 Ambari Metrics"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u9700\u8981\u8bbe\u7f6egrafana\u7ba1\u7406\u5458\u7528\u6237\u7684\u5bc6\u7801"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2016.41.09.png",alt:"iShot2020-09-15 16.41.09"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2016.43.35.png",alt:"iShot2020-09-15 16.43.35"})}),"\n",(0,r.jsx)(n.h4,{id:"565-atlas",children:"5.6.5 Atlas"}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u6700\u597d\u4e0d\u8981\u9009\u62e9\u8fd9\u4e2aAtlas\uff0c\u7f51\u4e0a\u67e5\u4e86\u534a\u5929\u4e5f\u4e0d\u77e5\u9053\u6807\u7ea2\u7684\u8fd9\u4e24\u5904\u8be5\u600e\u4e48\u5199\u4ee5\u53ca\u600e\u4e48\u67e5\u627e"})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2017.08.42.png",alt:"iShot2020-09-15 17.08.42"})}),"\n",(0,r.jsx)(n.h4,{id:"566-smartsense",children:"5.6.6 SmartSense"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u9700\u8981\u8f93\u5165\u5bc6\u7801\uff0c\u9ed8\u8ba4admin\u5373\u53ef"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2016.48.25.png",alt:"iShot2020-09-15 16.48.25"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2017.12.39.png",alt:"iShot2020-09-15 17.12.39"})}),"\n",(0,r.jsx)(n.h3,{id:"57-\u786e\u8ba4\u96c6\u7fa4\u4fe1\u606f\u5e76\u90e8\u7f72",children:"5.7 \u786e\u8ba4\u96c6\u7fa4\u4fe1\u606f\u5e76\u90e8\u7f72"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2017.14.28.png",alt:"iShot2020-09-15 17.14.28"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2017.15.07.png",alt:"iShot2020-09-15 17.15.07"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2017.16.19.png",alt:"iShot2020-09-15 17.16.19"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2018.45.14.png",alt:"iShot2020-09-15 18.45.14"})}),"\n",(0,r.jsx)(n.h3,{id:"58-\u5b8c\u6210\u5b89\u88c5",children:"5.8 \u5b8c\u6210\u5b89\u88c5"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2018.45.58.png",alt:"iShot2020-09-15 18.45.58"})}),"\n",(0,r.jsx)(n.p,{children:"\u5b8c\u6210\u5b89\u88c5"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-09-15%2018.46.54.png",alt:"iShot2020-09-15 18.46.54"})})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var r=s(96540);const i={},l=r.createContext(i);function a(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);