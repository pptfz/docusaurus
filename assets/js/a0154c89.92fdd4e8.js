"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4532],{5980:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>r,toc:()=>l});var i=c(74848),s=c(28453);const t={},o="\u4f7f\u7528kubeconfig\u6587\u4ef6\u914d\u7f6e\u5bf9\u591a\u96c6\u7fa4\u7684\u8bbf\u95ee",r={id:"\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/kubeconfig/\u4f7f\u7528kubeconfig\u6587\u4ef6\u914d\u7f6e\u5bf9\u591a\u96c6\u7fa4\u7684\u8bbf\u95ee",title:"\u4f7f\u7528kubeconfig\u6587\u4ef6\u914d\u7f6e\u5bf9\u591a\u96c6\u7fa4\u7684\u8bbf\u95ee",description:"\u4f7f\u7528kubeconfig\u6587\u4ef6\u7ec4\u7ec7\u96c6\u7fa4\u8bbf\u95ee",source:"@site/docs/\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/kubeconfig/\u4f7f\u7528kubeconfig\u6587\u4ef6\u914d\u7f6e\u5bf9\u591a\u96c6\u7fa4\u7684\u8bbf\u95ee.md",sourceDirName:"\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/kubeconfig",slug:"/\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/kubeconfig/\u4f7f\u7528kubeconfig\u6587\u4ef6\u914d\u7f6e\u5bf9\u591a\u96c6\u7fa4\u7684\u8bbf\u95ee",permalink:"/docs/\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/kubeconfig/\u4f7f\u7528kubeconfig\u6587\u4ef6\u914d\u7f6e\u5bf9\u591a\u96c6\u7fa4\u7684\u8bbf\u95ee",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u4f7f\u7528kubecm\u7ba1\u7406\u591a\u96c6\u7fa4kubeconfig",permalink:"/docs/\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/kubeconfig/\u4f7f\u7528kubecm\u7ba1\u7406\u591a\u96c6\u7fa4kubeconfig"},next:{title:"Downward API",permalink:"/docs/\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/pod/Downward API"}},u={},l=[{value:"\u5b9a\u4e49\u96c6\u7fa4\u3001\u7528\u6237\u3001\u4e0a\u4e0b\u6587",id:"\u5b9a\u4e49\u96c6\u7fa4\u7528\u6237\u4e0a\u4e0b\u6587",level:2},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u5c06\u96c6\u7fa4\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d",id:"\u5c06\u96c6\u7fa4\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d",level:3},{value:"\u5c06\u7528\u6237\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d",id:"\u5c06\u7528\u6237\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d",level:3},{value:"\u5c06\u4e0a\u4e0b\u6587\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d",id:"\u5c06\u4e0a\u4e0b\u6587\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"\u4f7f\u7528kubeconfig\u6587\u4ef6\u914d\u7f6e\u5bf9\u591a\u96c6\u7fa4\u7684\u8bbf\u95ee",children:"\u4f7f\u7528kubeconfig\u6587\u4ef6\u914d\u7f6e\u5bf9\u591a\u96c6\u7fa4\u7684\u8bbf\u95ee"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://kubernetes.io/zh-cn/docs/concepts/configuration/organize-cluster-access-kubeconfig/",children:"\u4f7f\u7528kubeconfig\u6587\u4ef6\u7ec4\u7ec7\u96c6\u7fa4\u8bbf\u95ee"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://kubernetes.io/zh-cn/docs/tasks/access-application-cluster/configure-access-multiple-clusters/",children:"\u4f7f\u7528kubeconfig\u6587\u4ef6\u914d\u7f6e\u5bf9\u591a\u96c6\u7fa4\u7684\u8bbf\u95ee"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b9a\u4e49\u96c6\u7fa4\u7528\u6237\u4e0a\u4e0b\u6587",children:"\u5b9a\u4e49\u96c6\u7fa4\u3001\u7528\u6237\u3001\u4e0a\u4e0b\u6587"}),"\n",(0,i.jsxs)(n.p,{children:["\u5047\u8bbe\u73b0\u5728\u6709 ",(0,i.jsx)(n.code,{children:"qa"})," \u548c ",(0,i.jsx)(n.code,{children:"pre"})," 2\u4e2a\u96c6\u7fa4\uff0c\u9700\u8981\u5c062\u4e2a\u96c6\u7fa4\u7684config\u4fe1\u606f\u5408\u5e76\uff0c\u9996\u5148\u521b\u5efa ",(0,i.jsx)(n.code,{children:"config"})," \u6587\u4ef6\uff0c\u914d\u7f6e\u6587\u4ef6\u63cf\u8ff0\u4e86\u96c6\u7fa4\u3001\u7528\u6237\u540d\u548c\u4e0a\u4e0b\u6587"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"cat > config << EOF\napiVersion: v1\nkind: Config\npreferences: {}\n\nclusters:\n- cluster:\n  name: qa\n- cluster:\n  name: pre\n\nusers:\n- name: qa\n- name: pre\n\ncontexts:\n- context:\n  name: qa\n- context:\n  name: pre\nEOF\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,i.jsx)(n.h3,{id:"\u5c06\u96c6\u7fa4\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d",children:"\u5c06\u96c6\u7fa4\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"kubectl config --kubeconfig=config set-cluster pre --server=https://x.x.x.x --certificate-authority=pre-config\nkubectl config --kubeconfig=config set-cluster qa --server=https://x.x.x.x --certificate-authority=qa-config\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5c06\u7528\u6237\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d",children:"\u5c06\u7528\u6237\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"kubectl config --kubeconfig=config set-credentials pre --client-certificate=pre-config --client-key=pre-config\nkubectl config --kubeconfig=config set-credentials qa --client-certificate=qa-config --client-key=qa-config\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5c06\u4e0a\u4e0b\u6587\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d",children:"\u5c06\u4e0a\u4e0b\u6587\u8be6\u7ec6\u4fe1\u606f\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"kubectl config --kubeconfig=config set-context pre --cluster=pre --user=pre\nkubectl config --kubeconfig=config set-context qa --cluster=qa --user=qa\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"kubectl config --kubeconfig=config view\n"})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,c)=>{c.d(n,{R:()=>o,x:()=>r});var i=c(96540);const s={},t=i.createContext(s);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);