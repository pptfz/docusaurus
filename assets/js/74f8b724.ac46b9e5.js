"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[9188],{24824:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>h,contentTitle:()=>i,default:()=>a,frontMatter:()=>r,metadata:()=>t,toc:()=>o});var l=s(74848),c=s(28453);const r={},i="shell\u811a\u672c\u5c0f\u64cd\u4f5c",t={id:"linux/shell/shell\u811a\u672c\u5c0f\u64cd\u4f5c",title:"shell\u811a\u672c\u5c0f\u64cd\u4f5c",description:"[toc]",source:"@site/docs/linux/shell/shell\u811a\u672c\u5c0f\u64cd\u4f5c.md",sourceDirName:"linux/shell",slug:"/linux/shell/shell\u811a\u672c\u5c0f\u64cd\u4f5c",permalink:"/docs/linux/shell/shell\u811a\u672c\u5c0f\u64cd\u4f5c",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"shell\u7b80\u4ecb",permalink:"/docs/linux/shell/shell\u7b80\u4ecb"},next:{title:"shell\u811a\u672c\u6267\u884c\u65b9\u6cd5",permalink:"/docs/linux/shell/shell\u811a\u672c\u6267\u884c\u65b9\u6cd5"}},h={},o=[{value:"1.\u83b7\u53d6\u672c\u673a\u516c\u7f51IP",id:"1\u83b7\u53d6\u672c\u673a\u516c\u7f51ip",level:2},{value:"2.\u83b7\u53d6\u811a\u672c\u7edd\u5bf9\u8def\u5f84",id:"2\u83b7\u53d6\u811a\u672c\u7edd\u5bf9\u8def\u5f84",level:2},{value:"3.\u83b7\u53d6\u811a\u672c\u6267\u884c\u65f6\u95f4",id:"3\u83b7\u53d6\u811a\u672c\u6267\u884c\u65f6\u95f4",level:2},{value:"4.shell\u811a\u672c\u4e2d\u7cbe\u51c6\u8fc7\u6ee4\u8fdb\u7a0b",id:"4shell\u811a\u672c\u4e2d\u7cbe\u51c6\u8fc7\u6ee4\u8fdb\u7a0b",level:2},{value:"5.shell\u663e\u793aok\u6216\u8005faild",id:"5shell\u663e\u793aok\u6216\u8005faild",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:"[toc]"}),"\n",(0,l.jsx)(e.h1,{id:"shell\u811a\u672c\u5c0f\u64cd\u4f5c",children:"shell\u811a\u672c\u5c0f\u64cd\u4f5c"}),"\n",(0,l.jsx)(e.h2,{id:"1\u83b7\u53d6\u672c\u673a\u516c\u7f51ip",children:"1.\u83b7\u53d6\u672c\u673a\u516c\u7f51IP"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u573a\u666f\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"\u4e91\u4e3b\u673a\u4f7f\u7528ip\u6216\u8005ifconfig\u547d\u4ee4\u662f\u770b\u4e0d\u5230\u672c\u673a\u516c\u7f51IP\u7684\uff0c\u60f3\u8981\u83b7\u53d6\u672c\u673a\u516c\u7f51IP"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"\u83b7\u53d6\u672c\u5730\u7f51\u7edc\u516c\u7f51IP"})}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"curl ifconfig.me"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"$ curl ifconfig.me\n8.8.8.8\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"curl icanhazip.com"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"$ curl icanhazip.com\n8.8.8.8\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"curl ident.me"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"$ curl ident.me\n8.8.8.8\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"curl ipecho.net/plain"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"$ curl ipecho.net/plain\n8.8.8.8\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"curl whatismyip.akamai.com"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"$ curl whatismyip.akamai.com\n8.8.8.8\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"curl myip.dnsomatic.com"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"$ curl myip.dnsomatic.com\n8.8.8.8\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"curl myip.dnsomatic.com"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"$ curl myip.dnsomatic.com\n8.8.8.8\n"})}),"\n",(0,l.jsx)(e.h2,{id:"2\u83b7\u53d6\u811a\u672c\u7edd\u5bf9\u8def\u5f84",children:"2.\u83b7\u53d6\u811a\u672c\u7edd\u5bf9\u8def\u5f84"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"#\u7f16\u8f91\u811a\u672c\n$ cat >/usr/src/test.sh <<'EOF'\nbase_dir=`dirname $(readlink -f $0)`\necho \"\u811a\u672c\u7edd\u5bf9\u8def\u5f84\u662f$base_dir\"\nEOF\n\n#\u6267\u884c\u811a\u672c\n$ sh /usr/src/test.sh\n\u811a\u672c\u7edd\u5bf9\u8def\u5f84\u662f/usr/src\n"})}),"\n",(0,l.jsx)(e.h2,{id:"3\u83b7\u53d6\u811a\u672c\u6267\u884c\u65f6\u95f4",children:"3.\u83b7\u53d6\u811a\u672c\u6267\u884c\u65f6\u95f4"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:'#\u7f16\u8f91\u811a\u672c\n$ cat >/opt/test.sh <<\'EOF\'\n#!/bin/bash\nBEGIN_TIME=`date +%s`\nsleep 3\nEND_TIME=`date +%s`\nTOTAL_TIME_S=$((END_TIME-BEGIN_TIME))\nTOTAL_TIME_M=`echo "scale=3;$TOTAL_TIME_S/60" |bc -l`\necho -e "The execution time of this script is \\e[32m${TOTAL_TIME_S}s\\e[0m \\e[35m${TOTAL_TIME_M}min\\e[0m"\nEOF\n\n#\u6267\u884c\u811a\u672c\n$ sh /opt/test.sh\nThe execution time of this script is 3s .050min\n'})}),"\n",(0,l.jsx)(e.h2,{id:"4shell\u811a\u672c\u4e2d\u7cbe\u51c6\u8fc7\u6ee4\u8fdb\u7a0b",children:"4.shell\u811a\u672c\u4e2d\u7cbe\u51c6\u8fc7\u6ee4\u8fdb\u7a0b"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u793a\u4f8b\uff1a\u8fc7\u6ee4crond\u8fdb\u7a0b\uff0c\u4f1a\u628agrep\u547d\u4ee4\u540c\u6837\u663e\u793a\u51fa\u6765"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"$ ps aux|grep crond\nroot       771  0.0  0.0 126388  1616 ?        Ss   08:57   0:00 /usr/sbin/crond -n\nroot     20996  0.0  0.0 112828   980 pts/0    S+   21:11   0:00 grep --color=auto crond\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u7cbe\u51c6\u8fc7\u6ee4"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"$ ps aux|grep '[c]rond'\nroot       771  0.0  0.0 126388  1616 ?        Ss   08:57   0:00 /usr/sbin/crond -n\n    \n$ ps aux|grep crond |grep -v grep\nroot       771  0.0  0.0 126388  1616 ?        Ss   08:57   0:00 /usr/sbin/crond -n    \n"})}),"\n",(0,l.jsx)(e.h2,{id:"5shell\u663e\u793aok\u6216\u8005faild",children:"5.shell\u663e\u793aok\u6216\u8005faild"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"#\u7f16\u8f91\u811a\u672c\n$ cat >test.sh <<'EOF'\n#!/bin/bash\n. /etc/init.d/functions\n#true\u53ef\u4ee5\u7701\u7565\u4e0d\u5c51\naction hehe true\t\t\naction hehe false\nEOF\n\n#\u6267\u884c\u811a\u672c\n$ sh test.sh \nhehe                                                       [  OK  ]\nhehe                                                       [FAILED]\n"})})]})}function a(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>i,x:()=>t});var l=s(96540);const c={},r=l.createContext(c);function i(n){const e=l.useContext(r);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:i(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);