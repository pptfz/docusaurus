"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6579],{17679:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>o});var l=s(74848),t=s(28453);const i={},r="awk\u51fd\u6570",a={id:"linux/linux\u547d\u4ee4/awk/awk\u51fd\u6570",title:"awk\u51fd\u6570",description:"[toc]",source:"@site/docs/linux/linux\u547d\u4ee4/awk/8.awk\u51fd\u6570.md",sourceDirName:"linux/linux\u547d\u4ee4/awk",slug:"/linux/linux\u547d\u4ee4/awk/awk\u51fd\u6570",permalink:"/docs/linux/linux\u547d\u4ee4/awk/awk\u51fd\u6570",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"awk\u6570\u7ec4",permalink:"/docs/linux/linux\u547d\u4ee4/awk/awk\u6570\u7ec4"},next:{title:"date\u547d\u4ee4",permalink:"/docs/linux/linux\u547d\u4ee4/date\u547d\u4ee4"}},c={},o=[{value:"1.awk\u5185\u7f6e\u51fd\u6570",id:"1awk\u5185\u7f6e\u51fd\u6570",level:2},{value:"1.1 gsub",id:"11-gsub",level:3},{value:"1.1.1\u8bed\u6cd5",id:"111\u8bed\u6cd5",level:4},{value:"1.1.2 \u793a\u4f8b",id:"112-\u793a\u4f8b",level:4},{value:"1.2 substr",id:"12-substr",level:3},{value:"1.2.1 \u8bed\u6cd5",id:"121-\u8bed\u6cd5",level:4},{value:"1.2.2 \u793a\u4f8b",id:"122-\u793a\u4f8b",level:4},{value:"1.3 split",id:"13-split",level:3},{value:"1.3.1 \u8bed\u6cd5",id:"131-\u8bed\u6cd5",level:4},{value:"1.3.2 \u793a\u4f8b",id:"132-\u793a\u4f8b",level:4},{value:"1.4 system",id:"14-system",level:3},{value:"1.3.1 \u542b\u4e49",id:"131-\u542b\u4e49",level:4},{value:"1.3.2\u793a\u4f8b",id:"132\u793a\u4f8b",level:3},{value:"2.awk\u81ea\u5b9a\u4e49\u51fd\u6570",id:"2awk\u81ea\u5b9a\u4e49\u51fd\u6570",level:2}];function d(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:"[toc]"}),"\n",(0,l.jsx)(e.h1,{id:"awk\u51fd\u6570",children:"awk\u51fd\u6570"}),"\n",(0,l.jsx)(e.h2,{id:"1awk\u5185\u7f6e\u51fd\u6570",children:"1.awk\u5185\u7f6e\u51fd\u6570"}),"\n",(0,l.jsx)(e.h3,{id:"11-gsub",children:"1.1 gsub"}),"\n",(0,l.jsx)(e.h4,{id:"111\u8bed\u6cd5",children:"1.1.1\u8bed\u6cd5"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"gsub(/\u8981\u66ff\u6362\u7684\u5185\u5bb9/,'\u66ff\u6362\u540e\u7684\u5185\u5bb9',\u66ff\u6362\u54ea\u4e00\u5217)"})}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"112-\u793a\u4f8b",children:"1.1.2 \u793a\u4f8b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"//\u5c06/etc/passwd\u6587\u4ef6\u4e2droot\u4e00\u884c\u4e2d\u7684\u5192\u53f7\u66ff\u6362\u4e3a\u52a0\u53f7\n[root@test1 ~]# awk '$1~/^root/{gsub(/:/,\"+\",$NF);print $0}' /etc/passwd\nroot+x+0+0+root+/root+/bin/bash\n"})}),"\n",(0,l.jsx)(e.h3,{id:"12-substr",children:"1.2 substr"}),"\n",(0,l.jsx)(e.h4,{id:"121-\u8bed\u6cd5",children:"1.2.1 \u8bed\u6cd5"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"substr(\u67d0\u4e00\u5217,\u4ece\u7b2c\u51e0\u4e2a\u5b57\u7b26\u5f00\u59cb,\u622a\u53d6\u51e0\u4e2a\u5b57\u7b26\u7ed3\u675f)"})}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"122-\u793a\u4f8b",children:"1.2.2 \u793a\u4f8b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"//\u7b80\u5355\u4f7f\u7528\u793a\u4f8b\n[root@test1 ~]# echo 'abcdefg'|awk '{print substr($1,3,3)}'\ncde\n"})}),"\n",(0,l.jsx)(e.h3,{id:"13-split",children:"1.3 split"}),"\n",(0,l.jsx)(e.h4,{id:"131-\u8bed\u6cd5",children:"1.3.1 \u8bed\u6cd5"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"split(\u67d0\u4e00\u5217,\u6570\u7ec4\u540d,/\u8981\u66ff\u6362\u7684\u5185\u5bb9/)"}),"\n",(0,l.jsx)(e.p,{children:"\u628a\u67d0\u4e00\u5217\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u5207\u5272\u7136\u540e\u653e\u5230\u6570\u7ec4\u4e2d"}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"132-\u793a\u4f8b",children:"1.3.2 \u793a\u4f8b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"[root@test1 ~]# echo GET /a/b/c/d/e.jpg|awk '{split($2,a,/\\./);print a[1]}'\n/a/b/c/d/e\n[root@test1 ~]# echo GET /a/b/c/d/e.jpg|awk '{split($2,a,/\\./);print a[2]}'\njpg\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"14-system",children:"1.4 system"}),"\n",(0,l.jsx)(e.h4,{id:"131-\u542b\u4e49",children:"1.3.1 \u542b\u4e49"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"awk\u8c03\u7528shell\u547d\u4ee4"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"132\u793a\u4f8b",children:"1.3.2\u793a\u4f8b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"//\u26a0\ufe0f\u547d\u4ee4\u5916\u5fc5\u987b\u7528\u53cc\u5f15\u53f7\u5305\u88f9\nawk 'BEGIN{system(\"ls\")}'\n"})}),"\n",(0,l.jsx)(e.h2,{id:"2awk\u81ea\u5b9a\u4e49\u51fd\u6570",children:"2.awk\u81ea\u5b9a\u4e49\u51fd\u6570"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"//\u7f16\u8f91awk\u6587\u4ef6function.awk\ncat >function.awk<<EOF\n#!/usr/bin/awk\nfunction sum(num1,num2)\n{\n  s=num1+num2;\n  print s;\n}\n\nBEGIN{\n  sum(1,2)\n}\nEOF\n\n//\u8fd0\u884cfunction.awk\u6587\u4ef6\n[root@test1 ~]# awk -f function.awk \n3\n"})})]})}function u(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>r,x:()=>a});var l=s(96540);const t={},i=l.createContext(t);function r(n){const e=l.useContext(i);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),l.createElement(i.Provider,{value:e},n.children)}}}]);