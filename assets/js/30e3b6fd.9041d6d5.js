"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[9716],{89121:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>a});var l=s(74848),t=s(28453);const r={},i="gvm\u5b89\u88c5",o={id:"linux/\u5305\u7ba1\u7406\u5de5\u5177/gvm/gvm\u5b89\u88c5",title:"gvm\u5b89\u88c5",description:"gvm github\u5730\u5740",source:"@site/docs/linux/\u5305\u7ba1\u7406\u5de5\u5177/gvm/gvm\u5b89\u88c5.md",sourceDirName:"linux/\u5305\u7ba1\u7406\u5de5\u5177/gvm",slug:"/linux/\u5305\u7ba1\u7406\u5de5\u5177/gvm/gvm\u5b89\u88c5",permalink:"/docs/linux/\u5305\u7ba1\u7406\u5de5\u5177/gvm/gvm\u5b89\u88c5",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u5faa\u73af\u63a7\u5236\u53ca\u72b6\u6001\u8fd4\u56de\u503c",permalink:"/docs/linux/shell/\u5faa\u73af\u63a7\u5236\u53ca\u72b6\u6001\u8fd4\u56de\u503c"},next:{title:"nvm\u5b89\u88c5",permalink:"/docs/linux/\u5305\u7ba1\u7406\u5de5\u5177/nvm/nvm\u5b89\u88c5"}},c={},a=[{value:"1.\u7b80\u4ecb",id:"1\u7b80\u4ecb",level:2},{value:"2.\u5b89\u88c5",id:"2\u5b89\u88c5",level:2},{value:"3.\u4f7f\u7528",id:"3\u4f7f\u7528",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"gvm\u5b89\u88c5",children:"gvm\u5b89\u88c5"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://github.com/moovweb/gvm",children:"gvm github\u5730\u5740"})}),"\n",(0,l.jsx)(n.h2,{id:"1\u7b80\u4ecb",children:"1.\u7b80\u4ecb"}),"\n",(0,l.jsx)(n.p,{children:"gvm\u662f\u4e00\u4e2ago\u7248\u672c\u7ba1\u7406\u5de5\u5177\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5207\u6362\u5f53\u524d\u7cfb\u7edf\u4f7f\u7528\u7684go\u7684\u4e0d\u540c\u7248\u672c\uff0c\u4ee5\u89e3\u51b3\u5728\u4e0d\u540c\u5f00\u53d1\u73af\u5883\u4e0bgo\u7248\u672c\u548capi\u7b49\u7684\u4f9d\u8d56\u5173\u7cfb"}),"\n",(0,l.jsx)(n.h2,{id:"2\u5b89\u88c5",children:"2.\u5b89\u88c5"}),"\n",(0,l.jsx)(n.p,{children:":::tip\u8bf4\u660e"}),"\n",(0,l.jsxs)(n.p,{children:["\u5982\u679c\u7cfb\u7edf\u4f7f\u7528\u7684\u662f ",(0,l.jsx)(n.code,{children:"zsh"})," \u5219\u9700\u8981\u5c06 ",(0,l.jsx)(n.code,{children:"bash"})," \u4fee\u6539\u4e3a ",(0,l.jsx)(n.code,{children:"zsh"})]}),"\n",(0,l.jsx)(n.p,{children:"mac\u64cd\u4f5c\u7cfb\u7edf\u8981\u6c42"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://www.mercurial-scm.org/downloads",children:"\u4ecehttps://www.mercurial-scm.org/downloads"}),"\u5b89\u88c5 Mercurial"]}),"\n",(0,l.jsx)(n.li,{children:"\u4ece App Store \u5b89\u88c5 Xcode \u547d\u4ee4\u884c\u5de5\u5177\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"xcode-select --install\nbrew update\nbrew install mercurial\n"})}),"\n",(0,l.jsx)(n.p,{children:":::"}),"\n",(0,l.jsx)(n.p,{children:"\u53ef\u4ee5\u4f7f\u7528\u5b98\u65b9\u7684\u4e00\u952e\u5b89\u88c5\u811a\u672c\u8fdb\u884c\u5b89\u88c5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"bash < <(curl -s -S -L https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer)\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u811a\u672c\u5185\u5bb9\u5982\u4e0b\uff0c\u5176\u4e2d\u6709\u4e00\u884c\u914d\u7f6e ",(0,l.jsx)(n.code,{children:"SRC_REPO=${SRC_REPO:-https://github.com/moovweb/gvm.git}"})," \uff0c\u8fd9\u91cc\u7684\u5730\u5740\u662f ",(0,l.jsx)(n.code,{children:"github.com"})," \uff0c\u7531\u4e8e\u67d0\u4e9b\u7279\u6b8a\u539f\u56e0\uff0c\u6211\u4eec\u9700\u8981\u5c06\u8fd9\u4e2a\u5730\u5740\u4fee\u6539\u4e3a\u52a0\u901f\u5730\u5740"]}),"\n",(0,l.jsx)(n.p,{children:":::tip\u8bf4\u660e"}),"\n",(0,l.jsx)(n.p,{children:"\u4fee\u6539"}),"\n",(0,l.jsxs)(n.p,{children:["\u200b\t",(0,l.jsx)(n.code,{children:"https://github.com/moovweb/gvm.git"})]}),"\n",(0,l.jsxs)(n.p,{children:["\u4fee\u6539\u4e3a\t",(0,l.jsx)(n.code,{children:"https://gh.api.99988866.xyz/https://github.com/moovweb/gvm.git"})]}),"\n",(0,l.jsx)(n.p,{children:":::"}),"\n",(0,l.jsxs)(n.p,{children:["\u811a\u672c\u4e2d\u5df2\u7ecf\u6709 ",(0,l.jsx)(n.code,{children:"EOF"})," \u4e86\uff0c\u56e0\u6b64\u8fd9\u91cc\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"AAA"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'cat > gvm-install.sh << \'AAA\'\n#!/usr/bin/env bash\n\ndisplay_error() {\n\ttput sgr0\n\ttput setaf 1\n\techo "ERROR: $1"\n\ttput sgr0\n\texit 1\n}\n\nupdate_profile() {\n\t[ -f "$1" ] || return 1\n\n\tgrep -F "$source_line" "$1" > /dev/null 2>&1\n\tif [ $? -ne 0 ]; then\n\t\techo -e "\\n$source_line" >> "$1"\n\tfi\n}\n\ncheck_existing_go() {\n\n\tif [ "$GOROOT" = "" ]; then\n\t\tif which go > /dev/null; then\n\t\t\tGOROOT=$(go env | grep GOROOT | cut -d"=" -f2)\n\t\telse\n\t\t\techo "No existing Go versions detected"\n\t\t\treturn\n\t\tfi\n\tfi\n\techo "Created profile for existing install of Go at $GOROOT"\n\tmkdir -p "$GVM_DEST/$GVM_NAME/environments" &> /dev/null || display_error "Failed to create environment directory"\n\tmkdir -p "$GVM_DEST/$GVM_NAME/pkgsets/system/global" &> /dev/null || display_error "Failed to create new package set"\n\tmkdir -p "$GVM_DEST/$GVM_NAME/gos/system" &> /dev/null || display_error "Failed to create new Go folder"\n\tcat << EOF > $GVM_DEST/$GVM_NAME/environments/system\n# Automatically generated file. DO NOT EDIT!\nexport GVM_ROOT; GVM_ROOT="$GVM_DEST/$GVM_NAME"\nexport gvm_go_name; gvm_go_name="system"\nexport gvm_pkgset_name; gvm_pkgset_name="global"\nexport GOROOT; GOROOT="$GOROOT"\nexport GOPATH; GOPATH="$GVM_DEST/$GVM_NAME/pkgsets/system/global"\nexport PATH; PATH="$GVM_DEST/$GVM_NAME/pkgsets/system/global/bin:$GOROOT/bin:$GVM_ROOT/bin:\\$PATH"\nEOF\n}\n\nBRANCH=${1:-master}\nGVM_DEST=${2:-$HOME}\nGVM_NAME="gvm"\n# SRC_REPO=${SRC_REPO:-https://github.com/moovweb/gvm.git}\nSRC_REPO=${SRC_REPO:-https://ghproxy.com/https://github.com/moovweb/gvm.git}\n\n[ "$GVM_DEST" = "$HOME" ] && GVM_NAME=".gvm"\n\n[ -d "$GVM_DEST/$GVM_NAME" ] && display_error \\\n    "Already installed! Remove old installation by running\n\n    rm -rf $GVM_DEST/$GVM_NAME"\n\n[ -d "$GVM_DEST" ] || mkdir -p "$GVM_DEST" > /dev/null 2>&1 || display_error "Failed to create $GVM_DEST"\n[ -z "$(which git)" ] && display_error "Could not find git\n\n  debian/ubuntu: apt-get install git\n  redhat/centos: yum install git\n  archlinux: pacman -S git\n  mac:   brew install git\n"\n\n# Is gvm-installer being called from the origin repo?\n# If so, skip the clone and source locally!\n# This prevents CI from breaking on non-merge commits.\n\nGIT_ROOT=$(git rev-parse --show-toplevel 2>/dev/null)\n\nif [[ -z "$GIT_ROOT" || "$(basename "$GIT_ROOT")" != "gvm" ]]\nthen\n  echo "Cloning from $SRC_REPO to $GVM_DEST/$GVM_NAME"\n\n  git clone --quiet "$SRC_REPO" "$GVM_DEST/$GVM_NAME" 2> /dev/null ||\n\t  display_error "Failed to clone from $SRC_REPO into $GVM_DEST/$GVM_NAME"\nelse\n  if [[ $GVM_DEST == *"$GIT_ROOT"* ]]\n  then\n    ln -s "$GIT_ROOT" "$GVM_DEST"\n  else\n    cp -r "$GIT_ROOT" "$GVM_DEST/$GVM_NAME"\n  fi\nfi\n\n# GVM_DEST may be a non-relative path\n# i.e: gvm-installer master foo\npushd . > /dev/null\n\ncd "$GVM_DEST/$GVM_NAME" && git checkout --quiet "$BRANCH" 2> /dev/null ||\tdisplay_error "Failed to checkout $BRANCH branch"\n\npopd > /dev/null\n\n[ -z "$GVM_NO_GIT_BAK" ] && mv "$GVM_DEST/$GVM_NAME/.git" "$GVM_DEST/$GVM_NAME/git.bak"\n\nsource_line="[[ -s \\"${GVM_DEST}/$GVM_NAME/scripts/gvm\\" ]] && source \\"${GVM_DEST}/$GVM_NAME/scripts/gvm\\""\nsource_file="${GVM_DEST}/$GVM_NAME/scripts/gvm"\n\nif [ -z "$GVM_NO_UPDATE_PROFILE" ] ; then\n  if [ -n "$ZSH_NAME" ]; then\n    update_profile "$HOME/.zshrc"\n  elif [ "$(uname)" == "Linux" ]; then\n    update_profile "$HOME/.bashrc" || update_profile "$HOME/.bash_profile"\n  elif [ "$(uname)" == "Darwin" ]; then\n    update_profile "$HOME/.profile" || update_profile "$HOME/.bash_profile"\n  fi\nfi\n\nif [ -z "$GVM_NO_UPDATE_PROFILE" ] && [ "$?" != "0" ]; then\n\techo "Unable to locate profile settings file(Something like $HOME/.bashrc or $HOME/.bash_profile)"\n\techo\n\techo " You will have to manually add the following line:"\n\techo\n\techo "  $source_line"\n\techo\nfi\n\necho "export GVM_ROOT=$GVM_DEST/$GVM_NAME" > "$GVM_DEST/$GVM_NAME/scripts/gvm"\necho ". \\$GVM_ROOT/scripts/gvm-default" >> "$GVM_DEST/$GVM_NAME/scripts/gvm"\ncheck_existing_go\n[[ -s "$GVM_DEST/$GVM_NAME/scripts/gvm" ]] && source "$GVM_DEST/$GVM_NAME/scripts/gvm"\necho "Installed GVM v${GVM_VERSION}"\necho\necho "Please restart your terminal session or to get started right away run"\necho " \\`source ${source_file}\\`"\necho\nAAA\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u624b\u52a8\u6267\u884c\u811a\u672c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"zsh gvm-install.sh\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b89\u88c5\u5b8c\u6210\u540e\u4f1a\u63d0\u793a\u5982\u4e0b\uff0c\u6839\u636e\u63d0\u793a\u91cd\u542f\u7ec8\u7aef\u6216\u8005\u8fd0\u884c\u547d\u4ee4\u5373\u53ef"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"Please restart your terminal session or to get started right away run\n `source /Users/pptfz/.gvm/scripts/gvm`\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u9a8c\u8bc1\u5b89\u88c5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"$ gvm version\nGo Version Manager v1.0.22 installed at /Users/pptfz/.gvm\n"})}),"\n",(0,l.jsx)(n.h2,{id:"3\u4f7f\u7528",children:"3.\u4f7f\u7528"}),"\n",(0,l.jsx)(n.p,{children:"\u5217\u51fa\u6240\u6709\u5df2\u5b89\u88c5\u7684go\u7248\u672c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"gvm list\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5217\u51fa\u6240\u6709\u53ef\u4f9b\u4e0b\u8f7d\u7684go\u7248\u672c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"gvm listall\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b89\u88c5\u6700\u65b0\u7248"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"gvm install go\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b89\u88c5\u6307\u5b9a\u7248\u672c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"gvm install go1.17.7\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4ece\u4e8c\u8fdb\u5236\u5b89\u88c5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"gvm install go1.17.7 -B\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5220\u9664\u67d0\u4e00\u4e2ago\u7248\u672c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"gvm uninstall go1.19.8\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b8c\u5168\u5220\u9664gvm\u548c\u6240\u6709\u5df2\u5b89\u88c5\u7684go\u7248\u672c\u548c\u5305"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"gvm implode\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b8c\u5168\u5220\u9664gvm\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5220\u9664\u76ee\u5f55"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"rm -rf ~/.gvm\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var l=s(96540);const t={},r=l.createContext(t);function i(e){const n=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);