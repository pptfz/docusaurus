"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6567],{426:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>d,frontMatter:()=>l,metadata:()=>r,toc:()=>u});var s=t(74848),i=t(28453);const l={},c="linux\u914d\u7f6e\u4f01\u4e1a\u90ae\u7bb1smtps 465\u7aef\u53e3\u53d1\u9001\u90ae\u4ef6",r={id:"linux/linux\u670d\u52a1/\u90ae\u4ef6\u670d\u52a1/linux\u914d\u7f6e\u4f01\u4e1a\u90ae\u7bb1smtps 465\u7aef\u53e3\u53d1\u9001\u90ae\u4ef6",title:"linux\u914d\u7f6e\u4f01\u4e1a\u90ae\u7bb1smtps 465\u7aef\u53e3\u53d1\u9001\u90ae\u4ef6",description:"\u53c2\u8003\u94fe\u63a5",source:"@site/docs/linux/linux\u670d\u52a1/\u90ae\u4ef6\u670d\u52a1/linux\u914d\u7f6e\u4f01\u4e1a\u90ae\u7bb1smtps 465\u7aef\u53e3\u53d1\u9001\u90ae\u4ef6.md",sourceDirName:"linux/linux\u670d\u52a1/\u90ae\u4ef6\u670d\u52a1",slug:"/linux/linux\u670d\u52a1/\u90ae\u4ef6\u670d\u52a1/linux\u914d\u7f6e\u4f01\u4e1a\u90ae\u7bb1smtps 465\u7aef\u53e3\u53d1\u9001\u90ae\u4ef6",permalink:"/docs/linux/linux\u670d\u52a1/\u90ae\u4ef6\u670d\u52a1/linux\u914d\u7f6e\u4f01\u4e1a\u90ae\u7bb1smtps 465\u7aef\u53e3\u53d1\u9001\u90ae\u4ef6",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"linux\u4f7f\u7528\u547d\u4ee4\u53d1\u9001\u90ae\u4ef6",permalink:"/docs/linux/linux\u670d\u52a1/\u90ae\u4ef6\u670d\u52a1/linux\u4f7f\u7528\u547d\u4ee4\u53d1\u9001\u90ae\u4ef6"},next:{title:"deepin15.11\u4f7f\u7528\u8bb0\u5f55",permalink:"/docs/linux/linux\u7cfb\u7edf/deepin/deepin15.11\u4f7f\u7528\u8bb0\u5f55"}},a={},u=[{value:"1.\u751f\u6210\u8bc1\u4e66",id:"1\u751f\u6210\u8bc1\u4e66",level:2},{value:"2.\u7f16\u8f91 <code>/etc/mail.rc </code>",id:"2\u7f16\u8f91-etcmailrc-",level:2},{value:"3.\u9a8c\u8bc1",id:"3\u9a8c\u8bc1",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"linux\u914d\u7f6e\u4f01\u4e1a\u90ae\u7bb1smtps-465\u7aef\u53e3\u53d1\u9001\u90ae\u4ef6",children:"linux\u914d\u7f6e\u4f01\u4e1a\u90ae\u7bb1smtps 465\u7aef\u53e3\u53d1\u9001\u90ae\u4ef6"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://blog.csdn.net/u010452388/article/details/100052020?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.pc_relevant_paycolumn_v2&spm=1001.2101.3001.4242.1&utm_relevant_index=3",children:"\u53c2\u8003\u94fe\u63a5"})}),"\n",(0,s.jsx)(n.h2,{id:"1\u751f\u6210\u8bc1\u4e66",children:"1.\u751f\u6210\u8bc1\u4e66"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'mkdir -p /etc/mail/.certs\necho -n | openssl s_client -connect smtp.exmail.qq.com:465 | sed -ne \'/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p\' > /etc/mail/.certs/qq.crt\ncertutil -A -n "GeoTrust SSL CA" -t "C,," -d /etc/mail/.certs -i /etc/mail/.certs/qq.crt\ncertutil -A -n "GeoTrust Global CA" -t "C,," -d /etc/mail/.certs -i /etc/mail/.certs/qq.crt\ncertutil -L -d /etc/mail/.certs/\ncd /etc/mail/.certs/ && certutil -A -n "GeoTrust SSL CA \u2013 G3" -t "Pu,Pu,Pu" -d ./ -i qq.crt\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u6700\u540e\u4f1a\u63d0\u793a\u5982\u4e0b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"Notice: Trust flag u is set automatically if the private key is present.\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"2\u7f16\u8f91-etcmailrc-",children:["2.\u7f16\u8f91 ",(0,s.jsx)(n.code,{children:"/etc/mail.rc "})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cp /etc/mail.rc{,.bak}\ncat >> /etc/mail.rc <<EOF\n# \u53d1\u4ef6\u4eba\nset from=xxx\n\n# \u8bbe\u7f6esmtps\u670d\u52a1\u5668\nset smtp=smtps://smtp.exmail.qq.com:465\u3000\n\n# \u4f01\u4e1a\u90ae\u7bb1\nset smtp-auth-user=xxx\n\n# \u4f01\u4e1a\u90ae\u7bb1\u5bc6\u7801\nset smtp-auth-password=xxx\u3000\u3000\u3000\u3000  \n\n# \u8bc1\u4e66\u6240\u5728\u76ee\u5f55\nset nss-config-dir=/etc/mail/.certs \n\nset smtp-auth=login\nset ssl-verify=ignore\nEOF\n"})}),"\n",(0,s.jsx)(n.h2,{id:"3\u9a8c\u8bc1",children:"3.\u9a8c\u8bc1"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'echo message | mail -s " title" xxx@163.com\n'})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>r});var s=t(96540);const i={},l=s.createContext(i);function c(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);