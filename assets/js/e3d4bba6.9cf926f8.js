"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7182],{80291:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var t=n(74848),l=n(28453);const r={},a="mysql\u666e\u901a\u4e3b\u4ece\u590d\u5236",i={id:"\u6570\u636e\u5e93/mysql/mysql\u8fdb\u9636/mysql\u666e\u901a\u4e3b\u4ece\u590d\u5236",title:"mysql\u666e\u901a\u4e3b\u4ece\u590d\u5236",description:"[toc]",source:"@site/docs/\u6570\u636e\u5e93/mysql/mysql\u8fdb\u9636/mysql\u666e\u901a\u4e3b\u4ece\u590d\u5236.md",sourceDirName:"\u6570\u636e\u5e93/mysql/mysql\u8fdb\u9636",slug:"/\u6570\u636e\u5e93/mysql/mysql\u8fdb\u9636/mysql\u666e\u901a\u4e3b\u4ece\u590d\u5236",permalink:"/docs/\u6570\u636e\u5e93/mysql/mysql\u8fdb\u9636/mysql\u666e\u901a\u4e3b\u4ece\u590d\u5236",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"mysql\u591a\u5b9e\u4f8b-5.7.23",permalink:"/docs/\u6570\u636e\u5e93/mysql/mysql\u8fdb\u9636/mysql\u591a\u5b9e\u4f8b-5.7.23"},next:{title:"CentOS7.5\u5b89\u88c5redis-5.0.7",permalink:"/docs/\u6570\u636e\u5e93/redis/CentOS7.5\u5b89\u88c5redis-5.0.7"}},o={},d=[{value:"1.mysql\u4e3b\u4ece\u590d\u5236\u8fc7\u7a0b",id:"1mysql\u4e3b\u4ece\u590d\u5236\u8fc7\u7a0b",level:2},{value:"2.\u5b9e\u9a8c\u73af\u5883",id:"2\u5b9e\u9a8c\u73af\u5883",level:2},{value:"3.\u5b9e\u9a8c\u8fc7\u7a0b",id:"3\u5b9e\u9a8c\u8fc7\u7a0b",level:2},{value:"1.master\u7f16\u8f91/etc/my.cnf\uff0c\u6307\u5b9aserverid\uff0c\u5e76\u5f00\u542fbinlog\u548cbinlog\u7d22\u5f15",id:"1master\u7f16\u8f91etcmycnf\u6307\u5b9aserverid\u5e76\u5f00\u542fbinlog\u548cbinlog\u7d22\u5f15",level:3},{value:"2.\u521b\u5efa\u4e13\u7528\u590d\u5236\u7528\u6237\uff0c\u5141\u8bb8\u4eceslave\u4e0a\u8fde\u63a5\u8fc7\u6765\u7684\u590d\u5236\u7528\u6237",id:"2\u521b\u5efa\u4e13\u7528\u590d\u5236\u7528\u6237\u5141\u8bb8\u4eceslave\u4e0a\u8fde\u63a5\u8fc7\u6765\u7684\u590d\u5236\u7528\u6237",level:3},{value:"3.\u67e5\u770bmaster\u5f53\u524d\u7684binlog\u65e5\u5fd7\u53ca\u4f4d\u7f6e\u4fe1\u606f",id:"3\u67e5\u770bmaster\u5f53\u524d\u7684binlog\u65e5\u5fd7\u53ca\u4f4d\u7f6e\u4fe1\u606f",level:3},{value:"1.slave\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6/etc/my.cnf\uff0c\u6307\u5b9aserverid\uff0c\u5e76\u5f00\u542f\u4e2d\u7ee7\u65e5\u5fd7",id:"1slave\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6etcmycnf\u6307\u5b9aserverid\u5e76\u5f00\u542f\u4e2d\u7ee7\u65e5\u5fd7",level:3},{value:"2.\u8bbe\u7f6eslave\u4ecemaster\u62c9\u53d6binlog\uff0c\u53ca\u62c9\u53d6\u7684\u4f4d\u7f6e",id:"2\u8bbe\u7f6eslave\u4ecemaster\u62c9\u53d6binlog\u53ca\u62c9\u53d6\u7684\u4f4d\u7f6e",level:3},{value:"3.\u542f\u52a8slave\u5e76\u67e5\u770bslave\u72b6\u6001",id:"3\u542f\u52a8slave\u5e76\u67e5\u770bslave\u72b6\u6001",level:3},{value:"4.\u9a8c\u8bc1\uff0c\u5728master\u4e0a\u521b\u5efa\u6570\u636e\u5e93\u548c\u8868\uff0c\u7136\u540e\u5728slave\u4e0a\u770b\u662f\u5426\u53ef\u4ee5\u540c\u6b65",id:"4\u9a8c\u8bc1\u5728master\u4e0a\u521b\u5efa\u6570\u636e\u5e93\u548c\u8868\u7136\u540e\u5728slave\u4e0a\u770b\u662f\u5426\u53ef\u4ee5\u540c\u6b65",level:3},{value:"4.\u5ef6\u65f6\u4ece\u5e93",id:"4\u5ef6\u65f6\u4ece\u5e93",level:2},{value:"4.1 \u5ef6\u65f6\u4ece\u5e93\u4f18\u70b9",id:"41-\u5ef6\u65f6\u4ece\u5e93\u4f18\u70b9",level:3},{value:"4.2 \u914d\u7f6e\u5ef6\u65f6\u4ece\u5e93",id:"42-\u914d\u7f6e\u5ef6\u65f6\u4ece\u5e93",level:3}];function c(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"[toc]"}),"\n",(0,t.jsx)(s.h1,{id:"mysql\u666e\u901a\u4e3b\u4ece\u590d\u5236",children:"mysql\u666e\u901a\u4e3b\u4ece\u590d\u5236"}),"\n",(0,t.jsx)(s.h2,{id:"1mysql\u4e3b\u4ece\u590d\u5236\u8fc7\u7a0b",children:"1.mysql\u4e3b\u4ece\u590d\u5236\u8fc7\u7a0b"}),"\n",(0,t.jsx)(s.p,{children:"1.master\u5f00\u542fbinlog\uff08\u4e8c\u8fdb\u5236\uff09\u65e5\u5fd7\u3001\u6388\u6743slave\u590d\u5236\u7528\u6237\uff0cslave\u5f00\u542frelay-log\uff08\u4e2d\u7ee7\uff09\u65e5\u5fd7"}),"\n",(0,t.jsx)(s.p,{children:"2.slave IO\u7ebf\u7a0b\u4f1a\u901a\u8fc7\u5728master\u4e0a\u5df2\u7ecf\u6388\u6743\u7684\u590d\u5236\u7528\u6237\u6743\u9650\u8bf7\u6c42\u8fde\u63a5master\u670d\u52a1\u5668\uff0c\u5e26\u7740change master to\u4fe1\u606f\uff08user\u3001host\u3001password\u3001binlog\u3001binlog_pos\u3001port\uff09\u53bb\u95eemaster dump\u7ebf\u7a0b\u6709\u6ca1\u6709slave\u6307\u5b9a\u7684binlog\u3001binlog_pos,\u6709\u5219\u62c9\u53d6binlog"}),"\n",(0,t.jsx)(s.p,{children:"2.slave IO\u7ebf\u7a0b\u4f1a\u901a\u8fc7\u5728master\u4e0a\u5df2\u7ecf\u6388\u6743\u7684\u590d\u5236\u7528\u6237\u6743\u9650\u8bf7\u6c42\u8fde\u63a5master\u670d\u52a1\u5668\uff0c\u5e26\u7740change master to\u4fe1\u606f\uff08user\u3001host\u3001password\u3001binlog\u3001binlog_pos\u3001port\uff09\u53bb\u95eemaster dump\u7ebf\u7a0b\u6709\u6ca1\u6709slave\u6307\u5b9a\u7684binlog\u3001binlog_pos,\u6709\u5219\u62c9\u53d6binlog"}),"\n",(0,t.jsx)(s.p,{children:"4.SQL\u7ebf\u7a0b\u4f1a\u4ecerelay-log\u4e2d\u8bfb\u53d6binlog\u89e3\u6790\u6210sql\u8bed\u53e5\u6267\u884c\uff0c\u540c\u65f6\u4f1a\u628a\u4e0a\u4e00\u6b21\u8bfb\u53d6\u7684relay-log\u4f4d\u7f6e\u8bb0\u5f55\u5230relay-log.info\uff0c\u4ee5\u4fbf\u4e8e\u4e0b\u4e00\u6b21\u8bfb\u53d6\u7684\u65f6\u5019\u77e5\u9053\u4ece\u4ec0\u4e48\u4f4d\u7f6e\u8bfb\u53d6\uff0c\u56e0\u4e3aSQL\u7ebf\u7a0b\u4ecerelay-log\u4e2d\u8bfb\u53d6binlog\u5e76\u4e0d\u662f\u4e00\u6b21\u5168\u90e8\u8bfb\u5b8c\u7684"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2022-03-27%2016.48.07.png",alt:"iShot2022-03-27 16.48.07"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u5b98\u65b9\u793a\u610f\u56fe"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2022-03-27%2016.49.26.png",alt:"iShot2022-03-27 16.49.26"})}),"\n",(0,t.jsx)(s.h2,{id:"2\u5b9e\u9a8c\u73af\u5883",children:"2.\u5b9e\u9a8c\u73af\u5883"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"\u89d2\u8272"}),(0,t.jsx)(s.th,{children:"IP"}),(0,t.jsx)(s.th,{children:"\u4e3b\u673a\u540d"}),(0,t.jsx)(s.th,{children:"mysql\u7248\u672c"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"master"}),(0,t.jsx)(s.td,{children:"10.0.0.100"}),(0,t.jsx)(s.td,{children:"db01"}),(0,t.jsx)(s.td,{children:"5.7.22"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"slave"}),(0,t.jsx)(s.td,{children:"10.0.0.101"}),(0,t.jsx)(s.td,{children:"db02"}),(0,t.jsx)(s.td,{children:"5.7.22"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"3\u5b9e\u9a8c\u8fc7\u7a0b",children:"3.\u5b9e\u9a8c\u8fc7\u7a0b"}),"\n",(0,t.jsx)("h3",{style:{color:"hotpink"},children:"master10.0.0.100\u64cd\u4f5c"}),"\n",(0,t.jsx)(s.h3,{id:"1master\u7f16\u8f91etcmycnf\u6307\u5b9aserverid\u5e76\u5f00\u542fbinlog\u548cbinlog\u7d22\u5f15",children:"1.master\u7f16\u8f91/etc/my.cnf\uff0c\u6307\u5b9aserverid\uff0c\u5e76\u5f00\u542fbinlog\u548cbinlog\u7d22\u5f15"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"[root@db01 ~]# vim /etc/my.cnf\t\t#\u5728[mysqld]\u4e0b\u65b9\u5199\u5165\u4ee5\u4e0b3\u884c\nserver_id=1\t\t\t\t\t\t    #\u6307\u5b9aserverid\uff0c\u8d8a\u5c0f\u4f18\u5148\u7ea7\u8d8a\u5927\nlog_bin=binlog\t\t\t\t\t\t#\u5f00\u542fbinlog\u65e5\u5fd7\nlog_bin_index=binlog.index\t\t\t#\u5f00\u542fbinlog\u65e5\u5fd7\u7d22\u5f15\n\n#\u91cd\u542fmysql\n[root@db01 ~]# systemctl restart mysqld\n"})}),"\n",(0,t.jsx)(s.h3,{id:"2\u521b\u5efa\u4e13\u7528\u590d\u5236\u7528\u6237\u5141\u8bb8\u4eceslave\u4e0a\u8fde\u63a5\u8fc7\u6765\u7684\u590d\u5236\u7528\u6237",children:"2.\u521b\u5efa\u4e13\u7528\u590d\u5236\u7528\u6237\uff0c\u5141\u8bb8\u4eceslave\u4e0a\u8fde\u63a5\u8fc7\u6765\u7684\u590d\u5236\u7528\u6237"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"mysql> grant replication slave on *.* to backup@'10.0.0.%' identified by '123';\n"})}),"\n",(0,t.jsx)(s.h3,{id:"3\u67e5\u770bmaster\u5f53\u524d\u7684binlog\u65e5\u5fd7\u53ca\u4f4d\u7f6e\u4fe1\u606f",children:"3.\u67e5\u770bmaster\u5f53\u524d\u7684binlog\u65e5\u5fd7\u53ca\u4f4d\u7f6e\u4fe1\u606f"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"mysql> show master status;\n+---------------+----------+--------------+------------------+-------------------+\n| File          | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |\n+---------------+----------+--------------+------------------+-------------------+\n| binlog.000001 |      154 |              |                  |                   |\n+---------------+----------+--------------+------------------+-------------------+\n1 row in set (0.00 sec)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)("h3",{style:{color:"green"},children:"slave10.0.0.101\u64cd\u4f5c"}),"\n",(0,t.jsx)(s.h3,{id:"1slave\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6etcmycnf\u6307\u5b9aserverid\u5e76\u5f00\u542f\u4e2d\u7ee7\u65e5\u5fd7",children:"1.slave\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6/etc/my.cnf\uff0c\u6307\u5b9aserverid\uff0c\u5e76\u5f00\u542f\u4e2d\u7ee7\u65e5\u5fd7"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"[root@db02 ~]# vim /etc/my.cnf\t\t\t\t    #\u5728[mysqld]\u4e0b\u653e\u5199\u5165\u4ee5\u4e0b3\u884c\nserver_id=2\t\t\t\t\t\t\t\t        #\u6307\u5b9aserverid\uff0c\u8981\u6bd4mysql-master\u5927\nrelay_log=/var/lib/mysql/relay_log      \t\t\t#\u5f00\u542f\u4e2d\u7ee7\u65e5\u5fd7\nrelay_log_index=/var/lib/mysql/relay_log.index\t#\u5f00\u542f\u4e2d\u7ee7\u65e5\u5fd7\u7d22\u5f15\n\n#\u91cd\u542fmysql\n[root@db02 ~]# systemctl restart mysqld\n"})}),"\n",(0,t.jsx)(s.h3,{id:"2\u8bbe\u7f6eslave\u4ecemaster\u62c9\u53d6binlog\u53ca\u62c9\u53d6\u7684\u4f4d\u7f6e",children:"2.\u8bbe\u7f6eslave\u4ecemaster\u62c9\u53d6binlog\uff0c\u53ca\u62c9\u53d6\u7684\u4f4d\u7f6e"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"mysql> change master to master_host='10.0.0.100', \\\n                        master_port=3306, \\\n                        master_user='backup', \\\n                        master_password='123', \\\n                        master_log_file='binlog.000001', \\\n                        master_log_pos=155;\nQuery OK, 0 rows affected, 2 warnings (0.02 sec)\n\nmysql> show warnings;\t\t\t#\u4f1a\u6709\u8b66\u544a\uff0c\u4f46\u4e0d\u5f71\u54cd\n| Note  | 1759 | Sending passwords in plain text without SSL/TLS is extremely insecure.                                                                                                                                                                                                               \n| Note  | 1760 | Storing MySQL user name or password information in the master info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START SLAVE; see the 'START SLAVE Syntax' in the MySQL Manual for more information. |\n\n\u6ca1\u6709SSL/TLS\u7684\u7eaf\u6587\u672c\u53d1\u9001\u5bc6\u7801\u662f\u975e\u5e38\u4e0d\u5b89\u5168\u7684\n\u5728\u4e3b\u4fe1\u606f\u5b58\u50a8\u5e93\u4e2d\u5b58\u50a8MySQL\u7528\u6237\u540d\u6216\u5bc6\u7801\u4fe1\u606f\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\u3002\u8bf7\u8003\u8651\u4f7f\u7528\u7528\u6237\u548c\u5bc6\u7801\u8fde\u63a5\u9009\u9879\u542f\u52a8\u4ece;\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605MySQL\u624b\u518c\u4e2d\u7684\u201c\u5f00\u59cb\u4ece\u5c5e\u8bed\u6cd5\u201d\u3002\n\n\n\u8bed\u53e5\u8bf4\u660e\nchange master to master_host='10.0.0.100',\t\t#mysql-master\u4e3b\u673aIP\u5730\u5740\nmaster_port=3306,\t\t\t\t\t\t\t\t#mysql-master\u7aef\u53e3\nmaster_user='backup',\t\t\t\t\t\t\t#slave\u62c9\u53d6\u7684\u7528\u6237\nmaster_password='123456',\t\t\t\t\t    #slave\u62c9\u53bb\u7684\u7528\u6237\u7684\u5bc6\u7801\nmaster_log_file='binlog.000001',\t\t\t\t#mysql-master\u7684binlog\u6587\u4ef6\uff0c\u5728master\u4e2dshow master status\u67e5\u770b\nmaster_log_pos=155;\t\t\t\t\t\n"})}),"\n",(0,t.jsx)(s.h3,{id:"3\u542f\u52a8slave\u5e76\u67e5\u770bslave\u72b6\u6001",children:"3.\u542f\u52a8slave\u5e76\u67e5\u770bslave\u72b6\u6001"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"//\u542f\u52a8slave\nmysql> start slave;\t\t\n\n//\u67e5\u770bslave\u72b6\u6001\uff0cIO\u7ebf\u7a0b\u3001SQL\u7ebf\u7a0b\u90fd\u4e3ayes\u624d\u7b97\u6b63\u786e\t\t\t\nmysql> show slave status\\G\t\t\t\t\nSlave_IO_Running: Yes\nSlave_SQL_Running: Yes\n"})}),"\n",(0,t.jsx)(s.h3,{id:"4\u9a8c\u8bc1\u5728master\u4e0a\u521b\u5efa\u6570\u636e\u5e93\u548c\u8868\u7136\u540e\u5728slave\u4e0a\u770b\u662f\u5426\u53ef\u4ee5\u540c\u6b65",children:"4.\u9a8c\u8bc1\uff0c\u5728master\u4e0a\u521b\u5efa\u6570\u636e\u5e93\u548c\u8868\uff0c\u7136\u540e\u5728slave\u4e0a\u770b\u662f\u5426\u53ef\u4ee5\u540c\u6b65"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"//master\u64cd\u4f5c\nmysql> show databases;\t\t#\u6b64\u65f6mysql-master\u4e0a\u67094\u4e2a\u5e93\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n4 rows in set (0.01 sec)\n\nmysql> create database DB1;\t\t\t\t#\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93DB1\nQuery OK, 1 row affected (0.01 sec)\n\n\n//slave\u9a8c\u8bc1\nmysql> show databases;\t\t\t#\u53ef\u4ee5\u770b\u5230\uff0c\u5728master\u4e0a\u521b\u5efa\u7684\u6570\u636e\u5e93DB1\u5df2\u7ecf\u540c\u6b65\u81f3slave\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| DB1                |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n5 rows in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"4\u5ef6\u65f6\u4ece\u5e93",children:"4.\u5ef6\u65f6\u4ece\u5e93"}),"\n",(0,t.jsx)(s.h3,{id:"41-\u5ef6\u65f6\u4ece\u5e93\u4f18\u70b9",children:"4.1 \u5ef6\u65f6\u4ece\u5e93\u4f18\u70b9"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"1.\u8bef\u5220\u9664\u65f6\uff0c\u80fd\u66f4\u5feb\u6062\u590d\u6570\u636e\u3002"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u6709\u65f6\u5019\u624b\u6296\u4e86\uff0c\u628a\u7ebf\u4e0a\u6570\u636e\u7ed9\u8bef\u5220\u9664\u4e86\uff0c\u6216\u8005\u8bef\u5220\u9664\u5e93\u3001\u8868\u3001\u5176\u4ed6\u5bf9\u8c61\uff0c\u6216\u4e0d\u52a0WHERE\u6761\u4ef6\u7684\u66f4\u65b0\u3001\u5220\u9664\uff0c\u90fd\u53ef\u4ee5\u8ba9\u5ef6\u8fdf\u4ece\u5e93\u5728\u8bef\u64cd\u4f5c\u524d\u7684\u65f6\u95f4\u70b9\u505c\u4e0b\uff0c\u7136\u540e\u8fdb\u884c\u6062\u590d\u3002"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"2.\u628a\u5ef6\u8fdf\u4ece\u5e93\u4f5c\u4e3a\u4e13\u7528\u7684\u5907\u4efd\u8282\u70b9\u3002\u867d\u7136\u6709\u4e00\u5b9a\u7684\u5ef6\u8fdf\uff0c\u4f46\u5e76\u4e0d\u5f71\u54cd\u5229\u7528\u8be5\u8282\u70b9\u4f5c\u4e3a\u5907\u4efd\u89d2\u8272\uff0c\u4e5f\u4e0d\u5f71\u54cd\u751f\u4ea7\u8282\u70b9\u6570\u636e\u5e93\u5e93\u3002"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"3.\u8fd8\u53ef\u4ee5\u628a\u5ef6\u8fdf\u4ece\u5e93\u5f53\u505a\u4e00\u4e9b\u95ee\u9898\u3001\u6848\u4f8b\u7814\u7a76\u7684\u5bf9\u8c61\u3002\u4e2a\u522b\u65f6\u5019\uff0c\u53ef\u80fd\u6709\u4e9bbinlog event\u5728\u666e\u901a\u4ece\u5e93\u4e0a\u4f1a\u6709\u95ee\u9898\uff08\u4f8b\u5982\u65e9\u671f\u7248\u672c\u4e2d\u65e0\u4e3b\u952e\u4f1a\u5bfc\u81f4\u4ece\u5e93\u66f4\u65b0\u975e\u5e38\u6162\u7684\u7ecf\u5178\u95ee\u9898\uff09\uff0c\u8fd9\u65f6\u5c31\u6709\u65f6\u95f4\u5728\u5ef6\u8fdf\u4ece\u5e93\u4e0a\u6162\u6162\u7422\u78e8\u7814\u7a76\u4e86\u3002"})}),"\n",(0,t.jsx)(s.admonition,{type:"tip",children:(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u666e\u901a\u4e3b\u4ece\u6700\u5927\u7684\u7f3a\u70b9\uff1a\u4e3b\u5e93\u8bef\u5220\u9664\u6570\u636e\u540e\u4ece\u5e93\u4e0a\u7684\u6570\u636e\u4e5f\u4f1a\u88ab\u540c\u6b65\u5220\u9664"})})}),"\n",(0,t.jsx)(s.h3,{id:"42-\u914d\u7f6e\u5ef6\u65f6\u4ece\u5e93",children:"4.2 \u914d\u7f6e\u5ef6\u65f6\u4ece\u5e93"}),"\n",(0,t.jsx)("h3",{style:{color:"red"},children:"\u4ece\u5e9310.0.0.101\u64cd\u4f5c"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"//\u505c\u6b62\u4e3b\u4ece\nmysql>stop slave;\n\n//\u8bbe\u7f6e\u5ef6\u65f6\u4e3a60\u79d2\nmysql>change master to master_delay = 60;\n\n//\u5f00\u542f\u4e3b\u4ece\nmysql>start slave;\n\n//\u67e5\u770b\u72b6\u6001\nmysql> show slave status \\G\nSQL_Delay: 60\n\n  \n  \n#\u5ef6\u65f6\u4ece\u5e93\u505c\u6b62\u65b9\u6cd5\n//\u505c\u6b62\u4e3b\u4ece\nmysql> stop slave;\n\n//\u8bbe\u7f6e\u5ef6\u65f6\u4e3a0\nmysql> CHANGE MASTER TO MASTER_DELAY = 0;\n\n//\u5f00\u542f\u4e3b\u4ece\nmysql> start slave;\n"})})]})}function m(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>i});var t=n(96540);const l={},r=t.createContext(l);function a(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);