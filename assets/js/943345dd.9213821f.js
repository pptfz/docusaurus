"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[5091],{1608:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>d,toc:()=>l});var i=s(74848),r=s(28453);const a={},o="\u817e\u8baf\u4e91 MapReduce \u96c6\u7fa4 core \u8282\u70b9\u4e0b\u7ebf\u8fc7\u7a0b",d={id:"linux/big-data/MapReduce/\u817e\u8baf\u4e91 MapReduce \u96c6\u7fa4 core \u8282\u70b9\u4e0b\u7ebf\u8fc7\u7a0b",title:"\u817e\u8baf\u4e91 MapReduce \u96c6\u7fa4 core \u8282\u70b9\u4e0b\u7ebf\u8fc7\u7a0b",description:"[toc]",source:"@site/docs/linux/big-data/MapReduce/\u817e\u8baf\u4e91 MapReduce \u96c6\u7fa4 core \u8282\u70b9\u4e0b\u7ebf\u8fc7\u7a0b.md",sourceDirName:"linux/big-data/MapReduce",slug:"/linux/big-data/MapReduce/\u817e\u8baf\u4e91 MapReduce \u96c6\u7fa4 core \u8282\u70b9\u4e0b\u7ebf\u8fc7\u7a0b",permalink:"/docs/linux/big-data/MapReduce/\u817e\u8baf\u4e91 MapReduce \u96c6\u7fa4 core \u8282\u70b9\u4e0b\u7ebf\u8fc7\u7a0b",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"CentOS7.9\u5b89\u88c5CDH6.2.1",permalink:"/docs/linux/big-data/CDH/CentOS7.9\u5b89\u88c5CDH6.2.1"},next:{title:"CentOS7\u7f16\u8bd1\u5b89\u88c5git",permalink:"/docs/linux/git/CentOS7\u7f16\u8bd1\u5b89\u88c5git"}},c={},l=[{value:"\u7b2c\u4e00\u6b65\u3001\u52a0\u5feb\u526f\u672c\u590d\u5236\u901f\u5ea6",id:"\u7b2c\u4e00\u6b65\u52a0\u5feb\u526f\u672c\u590d\u5236\u901f\u5ea6",level:2},{value:"1.1 \u5728 emr \u63a7\u5236\u53f0\u7684 <code>hdfs-site.xml</code> \u91cc\u589e\u52a0\u5982\u4e0b 5 \u4e2a\u53c2\u6570\uff0c\u4e0b\u53d1 NameNode \u8282\u70b9",id:"11-\u5728-emr-\u63a7\u5236\u53f0\u7684-hdfs-sitexml-\u91cc\u589e\u52a0\u5982\u4e0b-5-\u4e2a\u53c2\u6570\u4e0b\u53d1-namenode-\u8282\u70b9",level:3},{value:"1.2 \u91cd\u542f NameNode",id:"12-\u91cd\u542f-namenode",level:3},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:3},{value:"1.\u5355\u526f\u672c\u95ee\u9898",id:"1\u5355\u526f\u672c\u95ee\u9898",level:4},{value:"2.DataNode \u7ebf\u7a0b\u4e0d\u8db3\u95ee\u9898",id:"2datanode-\u7ebf\u7a0b\u4e0d\u8db3\u95ee\u9898",level:4},{value:"\u7b2c\u4e8c\u6b65\u3001DataNode\u4e0b\u7ebf",id:"\u7b2c\u4e8c\u6b65datanode\u4e0b\u7ebf",level:2},{value:"2.1 Active Namenode \u8282\u70b9\u64cd\u4f5c",id:"21-active-namenode-\u8282\u70b9\u64cd\u4f5c",level:3},{value:"2.2 Active NameNode \u8282\u70b9\u6267\u884c <code>hadoop dfsadmin -refreshNodes</code>",id:"22-active-namenode-\u8282\u70b9\u6267\u884c-hadoop-dfsadmin--refreshnodes",level:3},{value:"2.3 hdfs web UI \u754c\u9762\u9a8c\u8bc1",id:"23-hdfs-web-ui-\u754c\u9762\u9a8c\u8bc1",level:3},{value:"2.4 \u5728 emr \u63a7\u5236\u53f0\u505c\u6b62\u5982\u4e0a 2 \u4e2a\u8282\u70b9\u7684 DataNode \u670d\u52a1",id:"24-\u5728-emr-\u63a7\u5236\u53f0\u505c\u6b62\u5982\u4e0a-2-\u4e2a\u8282\u70b9\u7684-datanode-\u670d\u52a1",level:3},{value:"2.5 \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff0c\u5220\u9664\u8981\u4e0b\u7ebf\u673a\u5668\u7684IP",id:"25-\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\u5220\u9664\u8981\u4e0b\u7ebf\u673a\u5668\u7684ip",level:3},{value:"2.6 \u4e24\u4e2a NameNode \u8282\u70b9\u90fd\u6267\u884c <code>hadoop dfsadmin -refreshNodes</code>",id:"26-\u4e24\u4e2a-namenode-\u8282\u70b9\u90fd\u6267\u884c-hadoop-dfsadmin--refreshnodes",level:3},{value:"\u7b2c\u4e09\u6b65\u3001NodeManager \u4e0b\u7ebf\u64cd\u4f5c",id:"\u7b2c\u4e09\u6b65nodemanager-\u4e0b\u7ebf\u64cd\u4f5c",level:2},{value:"3.1 \u4e24\u4e2a\u4e3b\u5907 ResourceManager \u8282\u70b9\u64cd\u4f5c",id:"31-\u4e24\u4e2a\u4e3b\u5907-resourcemanager-\u8282\u70b9\u64cd\u4f5c",level:3},{value:"3.2 \u4e24\u4e2a\u4e3b\u5907ResourceManager \u8282\u70b9\u90fd\u6267\u884c <code>yarn rmadmin -refreshNodes</code>",id:"32-\u4e24\u4e2a\u4e3b\u5907resourcemanager-\u8282\u70b9\u90fd\u6267\u884c-yarn-rmadmin--refreshnodes",level:3},{value:"3.3 \u6253\u5f00 YARN \u539f\u751f web UI",id:"33-\u6253\u5f00-yarn-\u539f\u751f-web-ui",level:3},{value:"3.4 \u5728 emr \u63a7\u5236\u53f0\u505c\u6389\u5982\u4e0a 2 \u4e2a\u8282\u70b9\u7684 NodeManager \u670d\u52a1",id:"34-\u5728-emr-\u63a7\u5236\u53f0\u505c\u6389\u5982\u4e0a-2-\u4e2a\u8282\u70b9\u7684-nodemanager-\u670d\u52a1",level:3},{value:"3.5 \u4e24\u4e2a\u4e3b\u5907 ResourceManager \u8282\u70b9\u7f16\u8f91\u4e24\u4e2a\u6587\u4ef6\uff0c\u5220\u9664\u8981\u4e0b\u7ebf\u76842\u4e2a\u8282\u70b9\u7684 ip",id:"35-\u4e24\u4e2a\u4e3b\u5907-resourcemanager-\u8282\u70b9\u7f16\u8f91\u4e24\u4e2a\u6587\u4ef6\u5220\u9664\u8981\u4e0b\u7ebf\u76842\u4e2a\u8282\u70b9\u7684-ip",level:3},{value:"3.6 \u4e24\u4e2a\u4e3b\u5907 ResourceManager \u8282\u70b9\u91cd\u65b0\u6267\u884c <code>yarn rmadmin -refreshNodes</code>",id:"36-\u4e24\u4e2a\u4e3b\u5907-resourcemanager-\u8282\u70b9\u91cd\u65b0\u6267\u884c-yarn-rmadmin--refreshnodes",level:3},{value:"\u7b2c\u56db\u6b65\u3001RegionServer \u4e0b\u7ebf\u64cd\u4f5c",id:"\u7b2c\u56db\u6b65regionserver-\u4e0b\u7ebf\u64cd\u4f5c",level:2},{value:"4.1 \u767b\u5f55 EMR \u63a7\u5236\u53f0\uff0c\u5c06\u4e0b\u7ebf\u8282\u70b9\u7684 RegionServer \u8fdb\u5165\u7ef4\u62a4\u6a21\u5f0f",id:"41-\u767b\u5f55-emr-\u63a7\u5236\u53f0\u5c06\u4e0b\u7ebf\u8282\u70b9\u7684-regionserver-\u8fdb\u5165\u7ef4\u62a4\u6a21\u5f0f",level:3},{value:"4.2 \u767b\u5f55\u5230\u5bf9\u5e94\u4e0b\u7ebf\u673a\u5668\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4",id:"42-\u767b\u5f55\u5230\u5bf9\u5e94\u4e0b\u7ebf\u673a\u5668\u6267\u884c\u5982\u4e0b\u547d\u4ee4",level:3},{value:"4.3 \u63a7\u5236\u53f0\u4e0b\u7ebf core\u8282\u70b9\u64cd\u4f5c",id:"43-\u63a7\u5236\u53f0\u4e0b\u7ebf-core\u8282\u70b9\u64cd\u4f5c",level:3}];function t(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"\u817e\u8baf\u4e91-mapreduce-\u96c6\u7fa4-core-\u8282\u70b9\u4e0b\u7ebf\u8fc7\u7a0b",children:"\u817e\u8baf\u4e91 MapReduce \u96c6\u7fa4 core \u8282\u70b9\u4e0b\u7ebf\u8fc7\u7a0b"}),"\n",(0,i.jsx)(n.p,{children:"[toc]"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u80cc\u666f"})}),"\n",(0,i.jsx)(n.p,{children:":::info\u80cc\u666f\u8bf4\u660e"}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u524d EMR \u7684 core \u8282\u70b9\u9700\u8fdb\u884c\u5347\u7ea7\uff0c\u5bf9\u8001\u7684 core \u8282\u70b9\u8fdb\u884c\u4e0b\u7ebf\u64cd\u4f5c\u6765\u66ff\u6362\u65b0\u7684 core \u8282\u70b9 \u4e0a\u7ebf\u3002"}),"\n",(0,i.jsx)(n.p,{children:":::"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u76ee\u6807"})}),"\n",(0,i.jsx)(n.p,{children:":::info\u6700\u7ec8\u76ee\u6807"}),"\n",(0,i.jsx)(n.p,{children:"\u96c6\u7fa4\u5728\u4e0b\u7ebf Core \u8282\u70b9\u540e\uff0c\u6570\u636e\u4ecd\u4fdd\u8bc1\u5b8c\u6574\u53ef\u9760\u6027\uff0c\u540c\u65f6\u96c6\u7fa4\u670d\u52a1\u4ecd\u6b63\u5e38\u8fd0\u884c"}),"\n",(0,i.jsx)(n.p,{children:":::"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u4e0b\u7ebf\u6b65\u9aa4"})}),"\n",(0,i.jsx)(n.p,{children:":::info\u4e0b\u7ebf\u5177\u4f53\u6b65\u9aa4"}),"\n",(0,i.jsx)(n.p,{children:"1.hadoop fsck / \u8fd0\u884c\u5065\u5eb7\u68c0\u67e5\uff0c\u786e\u8ba4hdfs\u5065\u5eb7\u72b6\u6001\u4e3ahealthy\uff0c\u5982\u679c\u6709\u5355\u526f\u672c\u60c5\u51b5\u5b58\u5728\uff0c\u52a1\u5fc5\u8c03\u6574\u4e3a\u591a\u526f\u672c\u3002"}),"\n",(0,i.jsx)(n.p,{children:"2.\u5982\u679c\u6570\u636e\u91cf\u8f83\u5927\uff0c\u52a1\u5fc5\u5148\u8c03\u4f18\uff0c\u5426\u5219\u4e0b\u7ebf\u6570\u636e\u8fc1\u79fb\u5f02\u5e38\u7f13\u6162\u3002\n\u53c2\u8003\u6587\u6863\uff1a \u52a0\u5feb\u526f\u672c\u590d\u5236\u901f\u5ea6\u6587\u6863"}),"\n",(0,i.jsx)(n.p,{children:"3.\u5f00\u59cb\u4e0b\u7ebf\u8282\u70b9\n\u53c2\u8003\u6587\u6863\uff1a \u5927\u6570\u636eEMR-core\u8282\u70b9\u4e0b\u7ebf\u64cd\u4f5c"}),"\n",(0,i.jsx)(n.p,{children:"4.\u7533\u8bf7\u767d\u540d\u5355\uff0c\u63a7\u5236\u53f0\u7f29\u5bb9\u8282\u70b9"}),"\n",(0,i.jsx)(n.p,{children:":::"}),"\n",(0,i.jsx)(n.h2,{id:"\u7b2c\u4e00\u6b65\u52a0\u5feb\u526f\u672c\u590d\u5236\u901f\u5ea6",children:"\u7b2c\u4e00\u6b65\u3001\u52a0\u5feb\u526f\u672c\u590d\u5236\u901f\u5ea6"}),"\n",(0,i.jsx)(n.p,{children:":::caution\u6ce8\u610f"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)("span",{style:{color:"red"},children:"\u4e00\u5b9a\u8981\u505a\u52a0\u5feb\u526f\u672c\u590d\u5236\u901f\u5ea6\u64cd\u4f5c\uff0c\u5426\u5219\u590d\u5236\u4f1a\u7279\u522b\u6162(\u7b2c\u4e00\u6b21\u64cd\u4f5c\u7531\u4e8e\u6ca1\u6709\u505a\u6b64\u6b65\u9aa4\uff0c\u5bfc\u81f4\u540e\u7eed\u590d\u5236\u901f\u5ea6\u7279\u522b\u6162\uff0c\u7ecf\u548c\u817e\u8baf\u4e91\u6c9f\u901a30T\u6570\u636e(2\u53f0\u673a\u5668)\u5728\u4e0d\u52a0\u901f\u7684\u60c5\u51b5\u4e0b\u9700\u8981\u5927\u69822\u5468\u4ee5\u4e0a\uff01)"})})}),"\n",(0,i.jsx)(n.p,{children:":::"}),"\n",(0,i.jsxs)(n.h3,{id:"11-\u5728-emr-\u63a7\u5236\u53f0\u7684-hdfs-sitexml-\u91cc\u589e\u52a0\u5982\u4e0b-5-\u4e2a\u53c2\u6570\u4e0b\u53d1-namenode-\u8282\u70b9",children:["1.1 \u5728 emr \u63a7\u5236\u53f0\u7684 ",(0,i.jsx)(n.code,{children:"hdfs-site.xml"})," \u91cc\u589e\u52a0\u5982\u4e0b 5 \u4e2a\u53c2\u6570\uff0c\u4e0b\u53d1 NameNode \u8282\u70b9"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"dfs.namenode.replication.max-streams 20\ndfs.namenode.replication.max-streams-hard-limit 40\ndfs.namenode.replication.work.multiplier.per.iteration\t10\ndfs.datanode.balance.max.concurrent.moves 30\ndfs.datanode.balance.bandwidthPerSec 52428800\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u53c2\u6570\u8bf4\u660e"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u53c2\u6570"}),(0,i.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,i.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"}),(0,i.jsx)(n.th,{children:"\u53c2\u8003\u503c"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"dfs.namenode.replication.work.multip lier.per.iteration"}),(0,i.jsx)(n.td,{children:"\u51b3 \u5b9a \u4e86 \u53ef \u4ee5 \u4ece \u5f88 \u591a under replication blocks \u4e2d\u9009\u51fa\u591a\u5c11\u4e2a block \u51c6\u5907\u8fdb\u884c\u590d\u5236\u3002\u5982\u679c\u8be5\u53c2\u6570\u914d \u7f6e \u5f97 \u592a \u5c0f \uff0c \u5219 dfs.namenode.replication.max-str eams \u914d\u7f6e\u5f97\u518d\u5927\u6ca1\u6709\u7528\uff1b\u53ef\u4ee5\u9009\u51fa\u7684 block \u6570\u4e0e\u96c6\u7fa4 live \u7684 datadnode \u6210\u6b63\u6bd4\u3002"}),(0,i.jsx)(n.td,{children:"2"}),(0,i.jsx)(n.td,{children:"10"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"dfs.namenode.replication.max-streams"}),(0,i.jsx)(n.td,{children:"\u5355\u4e2a DataNode \u6700\u5927\u540c\u65f6\u6062\u590d\u7684\u5757\u6570 \u91cf\uff0c\u53ef\u4ee5\u95f4\u63a5\u63a7\u5236 DataNode \u6062\u590d\u6570\u636e \u5757 \u7684 \u5e26 \u6765 \u7684 \u7f51 \u7edc \u7b49 \u538b \u529b\u3002 \u9700 \u8981 \u4e0e dfs.namenode.replication.work.mu ltiplier.per.iteration \u914d\u7f6e\u9879\u914d\u5408 \u4f7f\u7528\uff1b"}),(0,i.jsx)(n.td,{children:"2"}),(0,i.jsx)(n.td,{children:"20"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"dfs.namenode.replication.max-streams -hard-limit"}),(0,i.jsx)(n.td,{children:"balance/\u9000\u670d\u6027\u80fd\u53c2\u6570\uff0c\u6700\u9ad8\u4f18\u5148\u7ea7 \u590d\u5236\u6d41\u7684\u6570\u91cf\u7684\u786c\u9650\u5236"}),(0,i.jsx)(n.td,{children:"4"}),(0,i.jsx)(n.td,{children:"40"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"dfs.datanode.balance.max.concurrent. moves"}),(0,i.jsx)(n.td,{children:"DataNode \u4e0a\u540c\u65f6\u7528\u4e8e Balancer \u5f85\u79fb \u52a8 block \u7684\u6700\u5927\u7ebf\u7a0b\u4e2a\u6570"}),(0,i.jsx)(n.td,{children:"5"}),(0,i.jsx)(n.td,{children:"30"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"dfs.datanode.balance.bandwidthPerSec"}),(0,i.jsx)(n.td,{children:"\u6307\u5b9a DataNode \u7528\u4e8e Balancer \u7684\u5e26\u5bbd"}),(0,i.jsx)(n.td,{children:"10485760 (10mb)"}),(0,i.jsx)(n.td,{children:"52428800 (50mb)"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"\u57fa\u672c\u4fe1\u606f"}),"  ->  ",(0,i.jsx)(n.code,{children:"\u5b9e\u4f8b\u4fe1\u606f"})," \u4e2d\u70b9\u51fb ",(0,i.jsx)(n.code,{children:"\u7ec4\u4ef6\u4fe1\u606f"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2013.58.38.png",alt:"iShot2021-04-10 13.58.38"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"HDFS"})," \u5904\u70b9\u51fb\u4e0b\u62c9\u6846\uff0c\u9009\u62e9 ",(0,i.jsx)(n.code,{children:"\u914d\u7f6e\u7ba1\u7406"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.01.04.png",alt:"iShot2021-04-10 14.01.04"})}),"\n",(0,i.jsxs)(n.p,{children:["\u9009\u62e9 ",(0,i.jsx)(n.code,{children:"hdfs-site.xml"})," \uff0c\u7136\u540e\u70b9\u51fb ",(0,i.jsx)(n.code,{children:"\u4fee\u6539\u914d\u7f6e"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.03.35.png",alt:"iShot2021-04-10 14.03.35"})}),"\n",(0,i.jsxs)(n.p,{children:["\u9009\u62e9 ",(0,i.jsx)(n.code,{children:"\u65b0\u589e\u914d\u7f6e\u9879"}),"\uff0c\u7136\u540e\u628a\u4e0a\u8ff05\u4e2a\u503c\u4f9d\u6b21\u6dfb\u52a0\u5e76\u4fdd\u5b58"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.05.19.png",alt:"iShot2021-04-10 14.05.19"})}),"\n",(0,i.jsx)(n.h3,{id:"12-\u91cd\u542f-namenode",children:"1.2 \u91cd\u542f NameNode"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.08.17.png",alt:"iShot2021-04-10 14.08.17"})}),"\n",(0,i.jsxs)(n.p,{children:["\u89d2\u8272\u9009\u62e9 ",(0,i.jsx)(n.code,{children:"NameNode"}),"\uff0c\u91cd\u542f\u65b9\u5f0f\u9009\u62e9 ",(0,i.jsx)(n.code,{children:"\u5b89\u5168\u91cd\u542f\u6a21\u5f0f"}),"\uff0c\u91cd\u542fNameNode"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.09.40.png",alt:"iShot2021-04-10 14.09.40"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5230\u6b64\uff0c\u52a0\u901f\u526f\u672c\u590d\u5236\u901f\u5ea6\u64cd\u4f5c\u5b8c\u6210\uff01"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,i.jsx)(n.h4,{id:"1\u5355\u526f\u672c\u95ee\u9898",children:"1.\u5355\u526f\u672c\u95ee\u9898"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u95ee\u9898\u63cf\u8ff0"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["HDFS web UI \u9875\u9762\u51fa\u73b0\u5982\u4e0b\u72b6\u51b5:\u4e0b\u7ebf\u8fdb\u5ea6\u505c\u6b62 ",(0,i.jsx)(n.code,{children:"blocks with no live replicas"})," \u680f\u51fa\u73b0\u5927\u91cf\u5757"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-12%2014.55.07.png",alt:"iShot2021-04-12 14.55.07"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u539f\u56e0"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u4e0b\u7ebf\u8282\u70b9\u5b58\u5728 \u5355\u526f\u672c\u7684\u60c5\u51b5\uff0c",(0,i.jsx)(n.strong,{children:"hdfs"})," \u62d2\u7edd\u7ee7\u7eed\u6267\u884c\u4e0b\u7ebf\u4ee5\u9632\u6570\u636e\u4e22\u5931"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://piyushroutray.com/2019/06/04/dealing-with-blocks-with-no-live-replicas-in-the-hdfs/",children:"\u8001\u5916\u89e3\u51b3\u65b9\u6848\u539f\u7248\u94fe\u63a5"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u6267\u884c\u547d\u4ee4 ",(0,i.jsx)(n.code,{children:"hadoop version"})," \u67e5\u770b\u96c6\u7fa4 hadoop \u7248\u672c"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Hadoop 2.7 \u53ca\u4ee5\u4e0b\u7248\u672c master \u8fd0\u884c\u5982\u4e0b\u811a\u672c\u8bbe\u7f6e\u5355\u526f\u672c\u5757\u4e3a\u591a\u526f\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'cd /data/emr/hdfs/logs\n\nsu hadoop -c "hdfs dfsadmin -metasave metasave-report.txt"\n\ncat /data/emr/hdfs/logs/metasave-report.txt | grep "l: 1" | cut -d\':\' -f1 >> ./single_replica\n\nfor hdfsfile in cat /data/emr/hdfs/logs/single_replica; do su hadoop -c "hadoop fs -setrep 3 $hdfsfile"; done\n'})}),"\n",(0,i.jsx)(n.p,{children:"Hadoop 2.8 \u53ca\u4ee5\u4e0a\u7248\u672c master \u8fd0\u884c\u5982\u4e0b\u811a\u672c\u8bbe\u7f6e\u591a\u526f\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"hadoop fsck / -files -blocks -replicaDetails |grep -C 1 Live_repl=1 |grep OK |awk '{print $1}' >/tmp/single_replica\n\nfor hdfsfile in `cat /tmp/single_replica`; do su hadoop -c \"hadoop fs -setrep 3 $hdfsfile\"; done\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8fd0\u884c\u5b8c\uff0c\u5982\u4e0b\u5373\u8868\u793a\u95ee\u9898\u4fee\u590d\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-12%2015.00.44.png",alt:"iShot2021-04-12 15.00.44"})}),"\n",(0,i.jsx)(n.h4,{id:"2datanode-\u7ebf\u7a0b\u4e0d\u8db3\u95ee\u9898",children:"2.DataNode \u7ebf\u7a0b\u4e0d\u8db3\u95ee\u9898"}),"\n",(0,i.jsxs)(n.p,{children:["\u6570\u636e\u8fc1\u79fb\u8fc7\u7a0b\u4e2d ",(0,i.jsx)(n.code,{children:"DataNode"})," \u6709\u5982\u4e0b\u4fe1\u606f"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Threads quota is exceeded"})," \u6216\u8005 ",(0,i.jsx)(n.code,{children:"dataxceiver error"})," \u8bf4\u660e ",(0,i.jsx)(n.code,{children:"DataNode"})," \u7ebf\u7a0b\u4e0d\u8db3"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-12%2015.02.22.png",alt:"iShot2021-04-12 15.02.22"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5c06\u4ee5\u4e0b\u53c2\u6570\u6dfb\u52a0\u5230 ",(0,i.jsx)(n.code,{children:"hdfs-site.xml"})," \u4e2d\u5e76\u91cd\u542f ",(0,i.jsx)(n.code,{children:"HDFS"})," \u96c6\u7fa4"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"dfs.datanode.max.xcievers =16384\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-12%2015.07.27.png",alt:"iShot2021-04-12 15.07.27"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7b2c\u4e8c\u6b65datanode\u4e0b\u7ebf",children:"\u7b2c\u4e8c\u6b65\u3001DataNode\u4e0b\u7ebf"}),"\n",(0,i.jsx)(n.p,{children:"core\u8282\u70b9\u5c31\u662fDataNode"}),"\n",(0,i.jsx)(n.h3,{id:"21-active-namenode-\u8282\u70b9\u64cd\u4f5c",children:"2.1 Active Namenode \u8282\u70b9\u64cd\u4f5c"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Active NameNode"})," \u5728hdfs web UI\u754c\u9762\u67e5\u770b\uff0c\u751f\u4ea7\u4e2d\u6211\u4eec\u7684 ",(0,i.jsx)(n.code,{children:"Active NameNode"}),"\u662fmaster\u8282\u70b9"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-08%2016.45.13.png",alt:"iShot2021-04-08 16.45.13"})}),"\n",(0,i.jsxs)(n.p,{children:["\u7f16\u8f91 ",(0,i.jsx)(n.code,{children:"/usr/local/service/hadoop/etc/hadoop/hdfsexcludedhosts"})," \u586b\u5199\u60f3\u8981\u4e0b\u7ebf\u7684\u8282\u70b9 IP \uff0cip \u6570\u91cf\u5efa\u8bae(1-2 \u4e2a)\uff0c\u4e00\u884c\u4e00\u4e2aIP"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"vim /usr/local/service/hadoop/etc/hadoop/hdfsexcludedhosts\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u83b7\u53d6 active \u8282\u70b9\u72b6\u6001\uff0c\u6267\u884c\u547d\u4ee4 ",(0,i.jsx)(n.code,{children:"hdfs haadmin -getServiceState <serviceId>"})," \u67e5\u770b\u6216\u8005\u63a7\u5236\u53f0\u670d\u52a1\u76d1\u63a7\u67e5\u770b\uff0c\u5176\u4e2d ",(0,i.jsx)(n.code,{children:"<serviceId>"}),"\u5728hdfs web UI \u754c\u9762\u67e5\u770b(\u4e00\u822c\u4e3ann1\u6216\u8005nn2\uff0c\u5373NameNode1 NameNode2)"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-08%2016.56.16.png",alt:"iShot2021-04-08 16.56.16"})}),"\n",(0,i.jsx)(n.p,{children:"\u547d\u4ee4\u6267\u884c\u5982\u4e0b\uff0cnn1\u8282\u70b9\u4e00\u5b9a\u8981\u4e3aactive\u72b6\u6001(\u8fd9\u91cc\u8981\u770b\u4f60\u7684\u5b9e\u9645\u8bbe\u7f6e\uff0c\u751f\u4ea7\u4e2d\u6211\u4eec\u76842\u4e2amaster\u8282\u70b9\u5c31\u662fNameNode\u8282\u70b9)\uff0c\u5426\u5219\u96c6\u7fa4\u65e0\u6cd5\u6b63\u5e38\u63d0\u4f9b\u670d\u52a1\uff0c\u4f1a\u5bfc\u81f4\u5927\u6570\u636e\u4efb\u52a1\u6267\u884c\u5931\u8d25"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'$ su hadoop -c "hdfs haadmin -getServiceState nn1"\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nactive\n'})}),"\n",(0,i.jsxs)(n.p,{children:["nn1\u8282\u70b9\u662f ",(0,i.jsx)(n.code,{children:"active"})," \u72b6\u6001\uff0cnn2\u8282\u70b9\u5c31\u4e3a ",(0,i.jsx)(n.code,{children:"standby"})," \u72b6\u6001\uff0c\u53cd\u4e4bnn1\u8282\u70b9\u662f",(0,i.jsx)(n.code,{children:"standby"})," \u72b6\u6001\uff0cnn2\u8282\u70b9\u5c31\u4e3a ",(0,i.jsx)(n.code,{children:"active"})," \u72b6\u6001"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'$ su hadoop -c "hdfs haadmin -getServiceState nn2"\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nstandby\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"22-active-namenode-\u8282\u70b9\u6267\u884c-hadoop-dfsadmin--refreshnodes",children:["2.2 Active NameNode \u8282\u70b9\u6267\u884c ",(0,i.jsx)(n.code,{children:"hadoop dfsadmin -refreshNodes"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u6267\u884c\u6210\u529f\u540e\u6700\u540e\u4f1a\u63d0\u793a ",(0,i.jsx)(n.code,{children:"Refresh nodes successful for"})," \uff0c\u5176\u4e2d\u7684\u4e24\u4e2aIP\u4e3a\u4e24\u4e2amaster(NameNode\u8282\u70b9)\u7684IP"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'$ su hadoop -c "hadoop dfsadmin -refreshNodes"\nDEPRECATED: Use of this script to execute hdfs command is deprecated.\nInstead use the hdfs command for it.\n\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nRefresh nodes successful for /10.0.100.17:4007\nRefresh nodes successful for /10.0.100.11:4007\n'})}),"\n",(0,i.jsx)(n.h3,{id:"23-hdfs-web-ui-\u754c\u9762\u9a8c\u8bc1",children:"2.3 hdfs web UI \u754c\u9762\u9a8c\u8bc1"}),"\n",(0,i.jsxs)(n.p,{children:["\u6253\u5f00 HDFS \u539f\u751f web UI\uff0c\u5728 ",(0,i.jsx)(n.code,{children:"Datanodes"})," \u9875\u9762\u53ef\u4ee5\u770b\u5230\u60f3\u8981\u4e0b\u7ebf\u7684\u8282\u70b9\u72b6\u6001\u53d8\u4e3a ",(0,i.jsx)(n.code,{children:"Decommission In Progress"}),"\uff0c \u8bf4\u660e\u8fd9\u4e9b\u8282\u70b9\u7684\u6570\u636e\u5757\u6b63\u5728\u88ab\u590d\u5236\u5230\u5176\u4ed6\u8282\u70b9\uff0c\u7b49\u5f85\u6240\u6709\u6570\u636e\u5757\u88ab\u590d\u5236\u5b8c\u6210\uff0c\u8fd9\u4e9b\u8282\u70b9\u72b6\u6001\u5c31\u4f1a\u53d8\u4e3a ",(0,i.jsx)(n.code,{children:"Decommissioned"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-08%2017.05.22.png",alt:"iShot2021-04-08 17.05.22"})}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u6700\u4e0b\u8fb9\u53ef\u4ee5\u67e5\u770b\u6570\u636e\u590d\u5236\u8fdb\u5ea6"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-08%2017.25.08.png",alt:"iShot2021-04-08 17.25.08"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6240\u6709\u6570\u636e\u5757\u88ab\u590d\u5236\u5b8c\u6210\u540e\uff0c\u8981\u4e0b\u7ebf\u8282\u70b9\u7684\u72b6\u6001\u5c31\u7531 ",(0,i.jsx)(n.code,{children:"Decommissioned in Progress"})," \u53d8\u6210 ",(0,i.jsx)(n.code,{children:"Decommissioned"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.19.09.png",alt:"iShot2021-04-10 14.19.09"})}),"\n",(0,i.jsx)(n.h3,{id:"24-\u5728-emr-\u63a7\u5236\u53f0\u505c\u6b62\u5982\u4e0a-2-\u4e2a\u8282\u70b9\u7684-datanode-\u670d\u52a1",children:"2.4 \u5728 emr \u63a7\u5236\u53f0\u505c\u6b62\u5982\u4e0a 2 \u4e2a\u8282\u70b9\u7684 DataNode \u670d\u52a1"}),"\n",(0,i.jsx)(n.p,{children:":::caution\u6ce8\u610f"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsxs)("span",{style:{color:"red"},children:["\u4e00\u5b9a\u8981\u7b492.3\u6b65\u9aa4\u4e2d\u6267\u884c\u5b8c\u6210\uff0c\u5373\u60f3\u8981\u4e0b\u7ebf\u7684\u8282\u70b9\u72b6\u6001\u53d8\u4e3a ",(0,i.jsx)(n.code,{children:"Decommission"})," \u624d\u53ef\u4ee5\u7ee7\u7eed\u540e\u7eed\u64cd\u4f5c"]})})}),"\n",(0,i.jsx)(n.p,{children:":::"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u96c6\u7fa4\u670d\u52a1HDFS\u9009\u9879\u4e2d\uff0c\u627e\u5230\u8981\u4e0b\u7ebf\u7684 ",(0,i.jsx)(n.code,{children:"DataNode"})," \u8282\u70b9\uff0c\u9009\u4e2d\uff0c\u7136\u540e\u70b9\u51fb ",(0,i.jsx)(n.code,{children:"\u6682\u505c"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.22.53.png",alt:"iShot2021-04-10 14.22.53"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5206\u522b\u9009\u4e2d\u4e24\u4e2a\u8981\u4e0b\u7ebf\u7684 ",(0,i.jsx)(n.code,{children:"DataNode"})," \u8282\u70b9\uff0c\u4f9d\u6b21\u6682\u505c"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.26.42.png",alt:"iShot2021-04-10 14.26.42"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6682\u505c\u4e2d\u7684 ",(0,i.jsx)(n.code,{children:"DataNode"}),"\uff0c\u6a21\u5f0f\u4e3a ",(0,i.jsx)(n.code,{children:"\u7ef4\u62a4\u6a21\u5f0f"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.28.09.png",alt:"iShot2021-04-10 14.28.09"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4e24\u4e2a ",(0,i.jsx)(n.code,{children:"DataNode"})," \u8282\u70b9\u6682\u505c\u540e\uff0c\u5728HDFS web UI \u4e2d\u5c31\u53ef\u4ee5\u770b\u5230\u4e24\u4e2a\u8282\u70b9\u7684\u72b6\u6001\u53d8\u4e3a\u4e86",(0,i.jsx)(n.code,{children:"Dead, Decommissioned"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.41.25.png",alt:"iShot2021-04-10 14.41.25"})}),"\n",(0,i.jsx)(n.h3,{id:"25-\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\u5220\u9664\u8981\u4e0b\u7ebf\u673a\u5668\u7684ip",children:"2.5 \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6\uff0c\u5220\u9664\u8981\u4e0b\u7ebf\u673a\u5668\u7684IP"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u7b2c\u4e00\u4e2a\u6587\u4ef6"})}),"\n",(0,i.jsxs)(n.p,{children:["\u57282.1\u6b65\u9aa4\u4e2d\uff0c\u6211\u4eec\u7f16\u8f91\u4e86Active NameNode\u8282\u70b9\u7684 ",(0,i.jsx)(n.code,{children:"/usr/local/service/hadoop/etc/hadoop/hdfsexcludedhosts"})," \u586b\u5199\u60f3\u8981\u4e0b\u7ebf\u7684\u8282\u70b9 IP \uff0c\u73b0\u5728\u628a\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u7684ip\u5220\u9664"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u7b2c\u4e8c\u4e2a\u6587\u4ef6"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"/usr/local/service/hadoop/etc/hadoop/hdfshosts"})," (\u4e24\u4e2a NameNode \u8282\u70b9\u90fd\u5220\u9664\u4e0b\u7ebf ip)"]}),"\n",(0,i.jsxs)(n.h3,{id:"26-\u4e24\u4e2a-namenode-\u8282\u70b9\u90fd\u6267\u884c-hadoop-dfsadmin--refreshnodes",children:["2.6 \u4e24\u4e2a NameNode \u8282\u70b9\u90fd\u6267\u884c ",(0,i.jsx)(n.code,{children:"hadoop dfsadmin -refreshNodes"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'$ su hadoop -c "hadoop dfsadmin -refreshNodes"\nDEPRECATED: Use of this script to execute hdfs command is deprecated.\nInstead use the hdfs command for it.\n\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nRefresh nodes successful for /10.0.100.17:4007\nRefresh nodes successful for /10.0.100.11:4007\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u6267\u884c\u5b8c\u6210\u540e\uff0c\u5728HDFS\u4e2d\u8981\u4e0b\u7ebf\u7684NameNode\u5c31\u6ca1\u4e86\uff0c\u4e4b\u524d\u5728emr\u63a7\u5236\u53f0\u4e2d\u6682\u505c\u76842\u4e2aNameNode\u72b6\u6001\u5982\u4e0b"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.41.25.png",alt:"iShot2021-04-10 14.41.25"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"HDFS \u539f\u751f web UI \u5c06\u4e0d\u518d\u5b58\u5728\u4ee5\u4e0a\u4e24\u8282\u70b9\uff0c\u81f3\u6b64 DataNode \u4e0b\u7ebf\u5b8c\u6bd5\uff01"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7b2c\u4e09\u6b65nodemanager-\u4e0b\u7ebf\u64cd\u4f5c",children:"\u7b2c\u4e09\u6b65\u3001NodeManager \u4e0b\u7ebf\u64cd\u4f5c"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"DataNode \u4e0b\u7ebf\u5b8c\u540e\u64cd\u4f5c"})}),"\n",(0,i.jsx)(n.h3,{id:"31-\u4e24\u4e2a\u4e3b\u5907-resourcemanager-\u8282\u70b9\u64cd\u4f5c",children:"3.1 \u4e24\u4e2a\u4e3b\u5907 ResourceManager \u8282\u70b9\u64cd\u4f5c"}),"\n",(0,i.jsxs)(n.p,{children:["\u751f\u4ea7\u4e2d\u6211\u4eec\u7684 ",(0,i.jsx)(n.code,{children:"ResourceManager"})," \u670d\u52a1\u8fd0\u884c\u57282\u4e2a ",(0,i.jsx)(n.code,{children:"NameNode"})," \u8282\u70b9\u4e0a"]}),"\n",(0,i.jsxs)(n.p,{children:["\u7f16\u8f91 ",(0,i.jsx)(n.code,{children:"/usr/local/service/hadoop/etc/hadoop/yarnexcludedhosts"})," \u586b\u5199\u60f3\u8981\u4e0b\u7ebf\u7684\u8282\u70b9 IP"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"vim /usr/local/service/hadoop/etc/hadoop/yarnexcludedhosts\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"32-\u4e24\u4e2a\u4e3b\u5907resourcemanager-\u8282\u70b9\u90fd\u6267\u884c-yarn-rmadmin--refreshnodes",children:["3.2 \u4e24\u4e2a\u4e3b\u5907ResourceManager \u8282\u70b9\u90fd\u6267\u884c ",(0,i.jsx)(n.code,{children:"yarn rmadmin -refreshNodes"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'$ su hadoop -c "yarn rmadmin -refreshNodes"\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"33-\u6253\u5f00-yarn-\u539f\u751f-web-ui",children:"3.3 \u6253\u5f00 YARN \u539f\u751f web UI"}),"\n",(0,i.jsxs)(n.p,{children:["\u76f4\u5230 ",(0,i.jsx)(n.code,{children:"Decommisioned Nodes"})," \u5904\u51fa\u73b0\u4e0b\u7ebf\u7684\u8282\u70b9\uff0c\u8bf4\u660e\u8fd9\u4e9b\u8282\u70b9\u5df2\u5b8c\u6210\u4efb\u52a1\u6216\u672c\u8eab\u65e0\u4efb\u52a1\u72b6\u6001\uff0c\u8fd9\u4e9b\u8282\u70b9\u72b6\u6001\u5c31\u4f1a\u53d8\u4e3a ",(0,i.jsx)(n.code,{children:"Decommissioned"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"Decommisioned Nodes(\u9000\u5f79\u8282\u70b9)"})," \u5904\u70b9\u51fb\u4e0b\u65b9\u7684\u5bf9\u5e94\u7684\u6570\u5b57"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2014.59.14.png",alt:"iShot2021-04-10 14.59.14"})}),"\n",(0,i.jsx)(n.p,{children:"\u641c\u7d22\u8981\u4e0b\u7ebf\u8282\u70b9\u7684IP\uff0c\u5982\u679c\u51fa\u73b0\u8981\u4e0b\u7ebf\u7684\u8282\u70b9IP\u5219\u8bf4\u660e\u8fd9\u4e2a\u8282\u70b9\u76ee\u524d\u5df2\u7ecf\u5904\u4e8e\u9000\u5f79\u72b6\u6001"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.01.43.png",alt:"iShot2021-04-10 15.01.43"})}),"\n",(0,i.jsx)(n.h3,{id:"34-\u5728-emr-\u63a7\u5236\u53f0\u505c\u6389\u5982\u4e0a-2-\u4e2a\u8282\u70b9\u7684-nodemanager-\u670d\u52a1",children:"3.4 \u5728 emr \u63a7\u5236\u53f0\u505c\u6389\u5982\u4e0a 2 \u4e2a\u8282\u70b9\u7684 NodeManager \u670d\u52a1"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["\u5728\u96c6\u7fa4\u670d\u52a1\u4e2d\u70b9\u51fb ",(0,i.jsx)(n.code,{children:"YARN"})]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.06.33.png",alt:"iShot2021-04-10 15.06.33"})}),"\n",(0,i.jsxs)(n.p,{children:["\u89d2\u8272\u5904\u9009\u62e9 ",(0,i.jsx)(n.code,{children:"NodeManager"}),"\uff0c\u627e\u5230\u8981\u4e0b\u7ebf\u7684\u8282\u70b9\uff0c\u9009\u62e9\u5e76 ",(0,i.jsx)(n.code,{children:"\u6682\u505c"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.08.20.png",alt:"iShot2021-04-10 15.08.20"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.10.03.png",alt:"iShot2021-04-10 15.10.03"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6682\u505c\u5b8c\u6210\u540e\uff0c\u8282\u70b9\u7ef4\u62a4\u72b6\u6001\u5c31\u4f1a\u53d8\u4e3a ",(0,i.jsx)(n.code,{children:"\u7ef4\u62a4\u6a21\u5f0f"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.11.12.png",alt:"iShot2021-04-10 15.11.12"})}),"\n",(0,i.jsx)(n.h3,{id:"35-\u4e24\u4e2a\u4e3b\u5907-resourcemanager-\u8282\u70b9\u7f16\u8f91\u4e24\u4e2a\u6587\u4ef6\u5220\u9664\u8981\u4e0b\u7ebf\u76842\u4e2a\u8282\u70b9\u7684-ip",children:"3.5 \u4e24\u4e2a\u4e3b\u5907 ResourceManager \u8282\u70b9\u7f16\u8f91\u4e24\u4e2a\u6587\u4ef6\uff0c\u5220\u9664\u8981\u4e0b\u7ebf\u76842\u4e2a\u8282\u70b9\u7684 ip"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"/usr/local/service/hadoop/etc/hadoop/yarnexcludedhosts"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"/usr/local/service/hadoop/etc/hadoop/yarnhosts"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"vim /usr/local/service/hadoop/etc/hadoop/yarnexcludedhosts\nvim /usr/local/service/hadoop/etc/hadoop/yarnhosts\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"36-\u4e24\u4e2a\u4e3b\u5907-resourcemanager-\u8282\u70b9\u91cd\u65b0\u6267\u884c-yarn-rmadmin--refreshnodes",children:["3.6 \u4e24\u4e2a\u4e3b\u5907 ResourceManager \u8282\u70b9\u91cd\u65b0\u6267\u884c ",(0,i.jsx)(n.code,{children:"yarn rmadmin -refreshNodes"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'$ su hadoop -c "yarn rmadmin -refreshNodes"\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\n'})}),"\n",(0,i.jsx)(n.p,{children:"YARN \u539f\u751f web UI \u5c06\u4e0d\u518d\u5b58\u5728\u4ee5\u4e0a\u4e24\u8282\u70b9(\u817e\u8baf\u4e91\u7ed9\u7684\u6587\u6863\u4e2d\u8bf4\u6b64\u6b65\u9aa4\u64cd\u4f5c\u540e\uff0cYARN \u539f\u751f web UI\u4e2d\u4e0d\u5b58\u5728\u4ee5\u4e0a\u4e24\u4e2a\u8282\u70b9\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u662f\u5b58\u5728\u7684\uff0c\u7ecf\u4e0e\u817e\u8baf\u4e91\u6c9f\u901a\u540e\u5bf9\u65b9\u8bf4\u5b58\u5728\u4e5f\u4e0d\u5f71\u54cd)\uff0c\u81f3\u6b64 Nodemanager \u4e0b\u7ebf\u5b8c\u6bd5"}),"\n",(0,i.jsx)(n.p,{children:":::caution\u6ce8\u610f"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)("span",{style:{color:"red"},children:"\u5bf9\u4e8e NodeManager \u4e0b\u7ebf\uff0cemr-V1.3.1 \u7248\u672c\u9700\u91cd\u542f\u4e24\u4e2a ResourceManager \u540e\uff0cWEB \u9875\u9762\u624d\u5254\u9664\u8282\u70b9\uff0c \u4f46\u5b9e\u9645\u5f71\u54cd\u4e0d\u5927\u3002\u5728\u6267\u884c\u5b8c\u6b65\u9aa4 3.6 \u540e\uff0c\u4e0b\u7ebf\u8282\u70b9\u7684 NodeManager \u5b9e\u9645\u5df2\u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\uff0c\u4efb\u52a1\u4e0d\u4f1a\u518d\u5206\u914d\u5230\u8be5\u4e0b\u7ebf\u7684 NodeManmager \u8282\u70b9"})})}),"\n",(0,i.jsx)(n.p,{children:":::"}),"\n",(0,i.jsx)(n.h2,{id:"\u7b2c\u56db\u6b65regionserver-\u4e0b\u7ebf\u64cd\u4f5c",children:"\u7b2c\u56db\u6b65\u3001RegionServer \u4e0b\u7ebf\u64cd\u4f5c"}),"\n",(0,i.jsx)(n.p,{children:":::caution\u6ce8\u610f"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)("span",{style:{color:"red"},children:"\u82e5\u5b58\u5728 HBASE\uff0c\u8bf7\u5c06 DataNode \u4e0b\u7ebf\u5b8c\u6210\u540e\u64cd\u4f5c"})})}),"\n",(0,i.jsx)(n.p,{children:":::"}),"\n",(0,i.jsx)(n.h3,{id:"41-\u767b\u5f55-emr-\u63a7\u5236\u53f0\u5c06\u4e0b\u7ebf\u8282\u70b9\u7684-regionserver-\u8fdb\u5165\u7ef4\u62a4\u6a21\u5f0f",children:"4.1 \u767b\u5f55 EMR \u63a7\u5236\u53f0\uff0c\u5c06\u4e0b\u7ebf\u8282\u70b9\u7684 RegionServer \u8fdb\u5165\u7ef4\u62a4\u6a21\u5f0f"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["HBASE \u4e2d\u5206\u4e3a ",(0,i.jsx)(n.code,{children:"HMaster"})," \u548c ",(0,i.jsx)(n.code,{children:"RegionServer"})," \u4e24\u4e2a\u89d2\u8272"]})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u96c6\u7fa4\u5217\u8868\u4e2d\u9009\u62e9 ",(0,i.jsx)(n.code,{children:"HBASE"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.28.18.png",alt:"iShot2021-04-10 15.28.18"})}),"\n",(0,i.jsxs)(n.p,{children:["\u89d2\u8272\u9009\u62e9 ",(0,i.jsx)(n.code,{children:"RegionServer"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.33.16.png",alt:"iShot2021-04-10 15.33.16"})}),"\n",(0,i.jsxs)(n.p,{children:["\u9009\u62e9\u8981\u4e0b\u7ebf\u7684 ",(0,i.jsx)(n.code,{children:"RegionServer"})," \u8282\u70b9\uff0c\u8bbe\u7f6e\u72b6\u6001\u4e3a ",(0,i.jsx)(n.code,{children:"\u6682\u505c"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.35.35.png",alt:"iShot2021-04-10 15.35.35"})}),"\n",(0,i.jsxs)(n.p,{children:["\u70b9\u51fb\u6682\u505c\u540e\u7a0d\u7b49\u4e00\u4f1a\uff0c\u8282\u70b9\u7684\u72b6\u6001\u5c31\u53d8\u4e3a\u4e86\u6682\u505c\u4e2d\uff0c\u7ef4\u62a4\u72b6\u6001\u5c31\u53d8\u4e3a\u4e86 ",(0,i.jsx)(n.code,{children:"\u7ef4\u62a4\u6a21\u5f0f"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.37.09.png",alt:"iShot2021-04-10 15.37.09"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5728HBASE web UI \u4e2d\u53ef\u4ee5\u770b\u5230 ",(0,i.jsx)(n.code,{children:"RegionServer"})," \u7684\u72b6\u6001\u53d8\u4e3a\u4e86 ",(0,i.jsx)(n.code,{children:"Dead"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2015.44.27.png",alt:"iShot2021-04-10 15.44.27"})}),"\n",(0,i.jsx)(n.h3,{id:"42-\u767b\u5f55\u5230\u5bf9\u5e94\u4e0b\u7ebf\u673a\u5668\u6267\u884c\u5982\u4e0b\u547d\u4ee4",children:"4.2 \u767b\u5f55\u5230\u5bf9\u5e94\u4e0b\u7ebf\u673a\u5668\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:'su hadoop -c "/usr/local/service/hbase/bin/graceful_stop.sh IP"'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'su hadoop -c "/usr/local/service/hbase/bin/graceful_stop.sh 10.0.100.76\nsu hadoop -c "/usr/local/service/hbase/bin/graceful_stop.sh 10.0.100.89\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u4e0b\u7ebf\u7684\u8282\u70b91"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'$ su hadoop -c "/usr/local/service/hbase/bin/graceful_stop.sh 10.0.100.76"\n2021-04-10T15:41:57 Disabling load balancer\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hbase/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\n2021-04-10T15:42:06 Previous balancer state was true\n2021-04-10T15:42:06 Unloading 10.0.100.76 region(s)\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hbase/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nRuntimeError: Server 10.0.100.76:6002 not online\n    stripServer at /usr/local/service/hbase/bin/region_mover.rb:194\n  unloadRegions at /usr/local/service/hbase/bin/region_mover.rb:305\n         (root) at /usr/local/service/hbase/bin/region_mover.rb:488\n2021-04-10T15:42:14 Unloaded 10.0.100.76 region(s)\n2021-04-10T15:42:14 Stopping regionserver on 10.0.100.76\nno regionserver to stop because no pid file /data/emr/hbase/pid/hbase-hadoop-regionserver.pid\n2021-04-10T15:42:14 Restoring balancer state to true\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u4e0b\u7ebf\u7684\u8282\u70b92"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'$ su hadoop -c "/usr/local/service/hbase/bin/graceful_stop.sh 10.0.100.89"\n2021-04-10T15:46:25 Disabling load balancer\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hbase/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\n2021-04-10T15:46:35 Previous balancer state was true\n2021-04-10T15:46:35 Unloading 10.0.100.89 region(s)\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/service/hbase/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/service/tez/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\nRuntimeError: Server 10.0.100.89:6002 not online\n    stripServer at /usr/local/service/hbase/bin/region_mover.rb:194\n  unloadRegions at /usr/local/service/hbase/bin/region_mover.rb:305\n         (root) at /usr/local/service/hbase/bin/region_mover.rb:488\n2021-04-10T15:46:43 Unloaded 10.0.100.89 region(s)\n2021-04-10T15:46:43 Stopping regionserver on 10.0.100.89\nno regionserver to stop because no pid file /data/emr/hbase/pid/hbase-hadoop-regionserver.pid\n2021-04-10T15:46:43 Restoring balancer state to true\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)("span",{style:{color:"red"},children:"\u62a5\u9519\u53ef\u4ee5\u5ffd\u7565"})})}),"\n",(0,i.jsxs)(n.p,{children:["HBASE \u539f\u751fweb UI \u67e5\u770b\u4e0b\u7ebf\u8282\u70b9 region \u4e3a0\u5373\u4ee3\u8868 ",(0,i.jsx)(n.code,{children:"RegionServer"})," \u4e0b\u7ebf\u5b8c\u6bd5"]}),"\n",(0,i.jsx)(n.h3,{id:"43-\u63a7\u5236\u53f0\u4e0b\u7ebf-core\u8282\u70b9\u64cd\u4f5c",children:"4.3 \u63a7\u5236\u53f0\u4e0b\u7ebf core\u8282\u70b9\u64cd\u4f5c"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u63a7\u5236\u53f0 ",(0,i.jsx)(n.code,{children:"\u96c6\u7fa4\u8d44\u6e90"})," -> ",(0,i.jsx)(n.code,{children:"\u8d44\u6e90\u7ba1\u7406"})," \u9009\u62e9 ",(0,i.jsx)(n.code,{children:"Core"}),"\uff0c\u627e\u5230\u8981\u4e0b\u7ebf\u7684\u8282\u70b9\uff0c\u70b9\u51fb ",(0,i.jsx)(n.code,{children:"\u7f29\u5bb9"})," \u5373\u53ef"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-12%2010.51.35.png",alt:"iShot2021-04-12 10.51.35"})}),"\n",(0,i.jsxs)(n.p,{children:["\u52fe\u9009 ",(0,i.jsx)(n.code,{children:"\u5df2\u9605\u8bfb\u5e76\u540c\u610f"}),"\uff0c\u7136\u540e\u70b9\u51fb ",(0,i.jsx)(n.code,{children:"\u4e0b\u4e00\u6b65"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2016.23.40.png",alt:"iShot2021-04-10 16.23.40"})}),"\n",(0,i.jsxs)(n.p,{children:["\u70b9\u51fb ",(0,i.jsx)(n.code,{children:"\u5f00\u59cb\u9500\u6bc1"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2021-04-10%2016.24.46.png",alt:"iShot2021-04-10 16.24.46"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u81f3\u6b64\uff0ccore\u8282\u70b9\u4e0b\u7ebf\u5c31\u5b8c\u6210\u4e86\uff01"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var i=s(96540);const r={},a=i.createContext(r);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);