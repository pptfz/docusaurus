"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[3480],{15993:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>i});var t=s(74848),d=s(28453);const r={},c="k8s\u57fa\u7840\u64cd\u4f5c",o={id:"\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/k8s\u57fa\u7840\u64cd\u4f5c",title:"k8s\u57fa\u7840\u64cd\u4f5c",description:"[toc]",source:"@site/docs/\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/k8s\u57fa\u7840\u64cd\u4f5c.md",sourceDirName:"\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9",slug:"/\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/k8s\u57fa\u7840\u64cd\u4f5c",permalink:"/docs/\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/k8s\u57fa\u7840\u64cd\u4f5c",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u65e0\u6cd5\u5220\u9664replicasets",permalink:"/docs/\u4e91\u539f\u751f/k8s/k8s\u6545\u969c/\u65e0\u6cd5\u5220\u9664replicasets"},next:{title:"\u4f7f\u7528kubecm\u7ba1\u7406\u591a\u96c6\u7fa4kubeconfig",permalink:"/docs/\u4e91\u539f\u751f/k8s/k8s\u77e5\u8bc6\u70b9/kubeconfig/\u4f7f\u7528kubecm\u7ba1\u7406\u591a\u96c6\u7fa4kubeconfig"}},l={},i=[{value:"\u67e5\u770bk8s\u4e2d\u6240\u6709\u547d\u540d\u7a7a\u95f4\u91cc\u9762\u7684pod",id:"\u67e5\u770bk8s\u4e2d\u6240\u6709\u547d\u540d\u7a7a\u95f4\u91cc\u9762\u7684pod",level:2},{value:"\u67e5\u770b\u67d0\u4e2a\u547d\u540d\u7a7a\u95f4\u7684pod",id:"\u67e5\u770b\u67d0\u4e2a\u547d\u540d\u7a7a\u95f4\u7684pod",level:2},{value:"\u521b\u5efa\u4e00\u4e2apod",id:"\u521b\u5efa\u4e00\u4e2apod",level:2},{value:"\u67e5\u770bpod\u8be6\u7ec6\u4fe1\u606f",id:"\u67e5\u770bpod\u8be6\u7ec6\u4fe1\u606f",level:2},{value:"\u5217\u51fa\u6240\u6709deployment\u7684\u4fe1\u606f",id:"\u5217\u51fa\u6240\u6709deployment\u7684\u4fe1\u606f",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"k8s\u57fa\u7840\u64cd\u4f5c",children:"k8s\u57fa\u7840\u64cd\u4f5c"}),"\n",(0,t.jsx)(n.p,{children:"[toc]"}),"\n",(0,t.jsx)(n.h2,{id:"\u67e5\u770bk8s\u4e2d\u6240\u6709\u547d\u540d\u7a7a\u95f4\u91cc\u9762\u7684pod",children:"\u67e5\u770bk8s\u4e2d\u6240\u6709\u547d\u540d\u7a7a\u95f4\u91cc\u9762\u7684pod"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"kubectl get pod -A"})," \u6216 ",(0,t.jsx)(n.code,{children:"kubectl get pod --all-namespaces"})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u5b57\u6bb5"}),(0,t.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"NAMESPACE"}),(0,t.jsx)(n.td,{children:"pod\u6240\u5c5e\u7684\u547d\u540d\u7a7a\u95f4"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"NAME"}),(0,t.jsx)(n.td,{children:"pod\u7684\u540d\u79f0"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"READY"}),(0,t.jsxs)(n.td,{children:["\u8868\u793apod\u662f\u5426\u5c31\u7eea\uff08Ready\uff09\u7684\u72b6\u6001   \u683c\u5f0f\u4e3a ",(0,t.jsx)(n.code,{children:"\u5f53\u524d\u5c31\u7eea\u7684\u5bb9\u5668\u6570\u91cf/\u603b\u5bb9\u5668\u6570\u91cf"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"STATUS"}),(0,t.jsx)(n.td,{children:"\u8868\u793apod\u7684\u5f53\u524d\u72b6\u6001\u3002\u5e38\u2ec5\u7684\u72b6\u6001\u6709Running\uff08\u8fd0\u884c\u4e2d\uff09\u3001Pending\uff08\u7b49\u5f85\u4e2d\uff09\u3001CrashLoopBackOff\uff08\u5d29\u6e83\u5faa\u73af\u4e2d\uff09\u3001Error\uff08\u9519\u8bef\uff09\u3001Backoff\uff08\u53cd\u590d\u9519\u8bef\uff09\u3001Terminating\uff08\u6b63\u5728\u5220\u9664\uff09"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"RESTARTS"}),(0,t.jsx)(n.td,{children:"\u8868\u793apod\u91cd\u542f\u7684\u6b21\u6570"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"AGE"}),(0,t.jsx)(n.td,{children:"\u8868\u793apod\u521b\u5efa\u7684\u65f6\u95f4\uff0c\u4ee5\u65f6\u95f4\u5355\u4f4d\uff08\u5982\u5c0f\u65f6\u3001\u5206\u949f\u6216\u79d2\uff09\u7684\u683c\u5f0f\u663e\u793a"})]})]})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ kubectl get pod -A      \nNAMESPACE            NAME                                                READY   STATUS    RESTARTS        AGE\nkube-system          coredns-5d78c9869d-26wvz                            1/1     Running   0               3m39s\nkube-system          coredns-5d78c9869d-ns7rp                            1/1     Running   0               3m46s\nkube-system          etcd-ops-ingress-control-plane                      1/1     Running   0               3m33s\nkube-system          kindnet-8j6nh                                       1/1     Running   0               3m30s\nkube-system          kindnet-bv6bj                                       1/1     Running   0               3m31s\nkube-system          kindnet-p568d                                       1/1     Running   0               3m26s\nkube-system          kindnet-wsgkj                                       1/1     Running   0               3m28s\nkube-system          kube-apiserver-ops-ingress-control-plane            1/1     Running   0               3m26s\nkube-system          kube-controller-manager-ops-ingress-control-plane   1/1     Running   0               2m55s\nkube-system          kube-proxy-gqghp                                    1/1     Running   0               3m21s\nkube-system          kube-proxy-k9j7w                                    1/1     Running   0               3m24s\nkube-system          kube-proxy-q7gwp                                    1/1     Running   0               3m22s\nkube-system          kube-proxy-x5w8c                                    1/1     Running   0               3m19s\nkube-system          kube-scheduler-ops-ingress-control-plane            1/1     Running   0               2m22s\nlocal-path-storage   local-path-provisioner-6bc4bddd6b-7jwxg             1/1     Running   0               67s\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u67e5\u770b\u67d0\u4e2a\u547d\u540d\u7a7a\u95f4\u7684pod",children:"\u67e5\u770b\u67d0\u4e2a\u547d\u540d\u7a7a\u95f4\u7684pod"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"kubectl get pod -n \u547d\u540d\u7a7a\u95f4"})," \u6216 ",(0,t.jsx)(n.code,{children:"kubectl get pod --namespace \u547d\u540d\u7a7a\u95f4"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ kubectl get pod -n local-path-storage\nNAME                                      READY   STATUS    RESTARTS   AGE\nlocal-path-provisioner-6bc4bddd6b-7jwxg   1/1     Running   0          22m\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0d\u6307\u5b9a\u547d\u540d\u7a7a\u95f4\u9ed8\u8ba4\u663e\u793a ",(0,t.jsx)(n.code,{children:"default"})," \u547d\u540d\u7a7a\u95f4\u7684pod"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ kubectl get pod\nNo resources found in default namespace.\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u521b\u5efa\u4e00\u4e2apod",children:"\u521b\u5efa\u4e00\u4e2apod"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"kubectl create deployment \u540d\u79f0 --image \u955c\u50cf:\u7248\u672c --replicas \u526f\u672c\u6570\u91cf"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u53c2\u6570"}),(0,t.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u540d\u79f0"}),(0,t.jsx)(n.td,{children:"deployment\u540d\u79f0\uff0c\u5fc5\u987b\u6709\u4e14\u540c\u4e00\u547d\u540d\u7a7a\u95f4\u540d\u79f0\u552f\u4e00"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"--image"}),(0,t.jsx)(n.td,{children:"\u6307\u5b9apod\u955c\u50cf\uff0c\u5fc5\u987b\u6709"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"--replicas"}),(0,t.jsx)(n.td,{children:"\u975e\u5fc5\u987b\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u9ed8\u8ba4\u526f\u672c\u6570\u4e3a1"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"\u521b\u5efadeployment"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ kubectl create deployment test --image nginx:latest --replicas 2\ndeployment.apps/test created\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u67e5\u770bdeployment"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ kubectl get deployment                                          \nNAME   READY   UP-TO-DATE   AVAILABLE   AGE\ntest   2/2     2            2           4m36s\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u67e5\u770bpod"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$  kubectl get pods\nNAME                    READY   STATUS    RESTARTS   AGE\ntest-7fbf5cfb6d-brtbb   1/1     Running   0          4m32s\ntest-7fbf5cfb6d-qwsdx   1/1     Running   0          4m32s\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u67e5\u770bpod\u8be6\u7ec6\u4fe1\u606f",children:"\u67e5\u770bpod\u8be6\u7ec6\u4fe1\u606f"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"kubectl describe pod\u540d\u79f0"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'$ kubectl describe pod test-7fbf5cfb6d-brtbb\nName:             test-7fbf5cfb6d-brtbb\nNamespace:        default\nPriority:         0\nService Account:  default\nNode:             ops-ingress-worker3/172.18.0.4\nStart Time:       Thu, 23 Nov 2023 10:35:37 +0800\nLabels:           app=test\n                  pod-template-hash=7fbf5cfb6d\nAnnotations:      <none>\nStatus:           Running\nIP:               10.244.3.6\nIPs:\n  IP:           10.244.3.6\nControlled By:  ReplicaSet/test-7fbf5cfb6d\nContainers:\n  nginx:\n    Container ID:   containerd://91a61ae0679f49df43318853465e55bc7cf72cca3e9727c180a21119ecbaf7a5\n    Image:          nginx:latest\n    Image ID:       docker.io/library/nginx@sha256:10d1f5b58f74683ad34eb29287e07dab1e90f10af243f151bb50aa5dbb4d62ee\n    Port:           <none>\n    Host Port:      <none>\n    State:          Running\n      Started:      Thu, 23 Nov 2023 10:38:45 +0800\n    Ready:          True\n    Restart Count:  0\n    Environment:    <none>\n    Mounts:\n      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-99j67 (ro)\nConditions:\n  Type              Status\n  Initialized       True \n  Ready             True \n  ContainersReady   True \n  PodScheduled      True \nVolumes:\n  kube-api-access-99j67:\n    Type:                    Projected (a volume that contains injected data from multiple sources)\n    TokenExpirationSeconds:  3607\n    ConfigMapName:           kube-root-ca.crt\n    ConfigMapOptional:       <nil>\n    DownwardAPI:             true\nQoS Class:                   BestEffort\nNode-Selectors:              <none>\nTolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s\n                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s\nEvents:\n  Type    Reason     Age    From               Message\n  ----    ------     ----   ----               -------\n  Normal  Scheduled  10m    default-scheduler  Successfully assigned default/test-7fbf5cfb6d-brtbb to ops-ingress-worker3\n  Normal  Pulling    10m    kubelet            Pulling image "nginx:latest"\n  Normal  Pulled     7m19s  kubelet            Successfully pulled image "nginx:latest" in 2m55.333581167s (2m55.333657653s including waiting)\n  Normal  Created    7m18s  kubelet            Created container nginx\n  Normal  Started    7m10s  kubelet            Started container nginx\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u5217\u51fa\u6240\u6709deployment\u7684\u4fe1\u606f",children:"\u5217\u51fa\u6240\u6709deployment\u7684\u4fe1\u606f"})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var t=s(96540);const d={},r=t.createContext(d);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);