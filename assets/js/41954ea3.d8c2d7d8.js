"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[1757],{3576:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>r,contentTitle:()=>o,default:()=>c,frontMatter:()=>t,metadata:()=>l,toc:()=>d});var a=s(74848),i=s(28453);const t={},o="ansible Facts\u53d8\u91cf",l={id:"linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u53d8\u91cf/ansible Facts\u53d8\u91cf",title:"ansible Facts\u53d8\u91cf",description:"[toc]",source:"@site/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u53d8\u91cf/ansible Facts\u53d8\u91cf.md",sourceDirName:"linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u53d8\u91cf",slug:"/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u53d8\u91cf/ansible Facts\u53d8\u91cf",permalink:"/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u53d8\u91cf/ansible Facts\u53d8\u91cf",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ansible\u4efb\u52a1\u63a7\u5236-\u9519\u8bef\u5904\u7406changed_when",permalink:"/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u4efb\u52a1\u63a7\u5236/ansible\u4efb\u52a1\u63a7\u5236-\u9519\u8bef\u5904\u7406changed_when"},next:{title:"ansible\u53d8\u91cf\u6ce8\u518cregister",permalink:"/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u53d8\u91cf/ansible\u53d8\u91cf\u6ce8\u518cregister"}},r={},d=[{value:"1.Facts\u53d8\u91cf\u4f5c\u7528",id:"1facts\u53d8\u91cf\u4f5c\u7528",level:2},{value:"2.\u4f7f\u7528setup\u6a21\u5757\u6765\u83b7\u53d6\u88ab\u63a7\u673a\u76f8\u5173\u4fe1\u606f",id:"2\u4f7f\u7528setup\u6a21\u5757\u6765\u83b7\u53d6\u88ab\u63a7\u673a\u76f8\u5173\u4fe1\u606f",level:2},{value:"3.\u4f7f\u7528debug\u6a21\u5757\u6765\u83b7\u53d6\u88ab\u63a7\u673a\u76f8\u5173\u53d8\u91cf\u4fe1\u606f",id:"3\u4f7f\u7528debug\u6a21\u5757\u6765\u83b7\u53d6\u88ab\u63a7\u673a\u76f8\u5173\u53d8\u91cf\u4fe1\u606f",level:2},{value:"4.Facts\u53d8\u91cf\u4f7f\u7528\u793a\u4f8b",id:"4facts\u53d8\u91cf\u4f7f\u7528\u793a\u4f8b",level:2},{value:"4.1 \u793a\u4f8b1 \u62f7\u8d1d\u6587\u4ef6\uff0c\u4e0d\u540c\u4e3b\u673a\u4fe1\u606f\u4e0d\u540c",id:"41-\u793a\u4f8b1-\u62f7\u8d1d\u6587\u4ef6\u4e0d\u540c\u4e3b\u673a\u4fe1\u606f\u4e0d\u540c",level:3}];function _(n){const e={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:"[toc]"}),"\n",(0,a.jsx)(e.h1,{id:"ansible-facts\u53d8\u91cf",children:"ansible Facts\u53d8\u91cf"}),"\n",(0,a.jsx)(e.admonition,{type:"tip",children:(0,a.jsx)(e.p,{children:(0,a.jsxs)(e.strong,{children:["\u5728yml\u6587\u4ef6\u4e2d\u901a\u8fc7 ",(0,a.jsx)(e.code,{children:"gather_facts: no"})," \u6765\u5173\u95edfacts\u53d8\u91cf"]})})}),"\n",(0,a.jsx)(e.h2,{id:"1facts\u53d8\u91cf\u4f5c\u7528",children:"1.Facts\u53d8\u91cf\u4f5c\u7528"}),"\n",(0,a.jsx)(e.p,{children:"Facts\u53d8\u91cf\u4f5c\u7528\uff1a\u7528\u6765\u91c7\u96c6\u88ab\u63a7\u7aef\u4e3b\u673a\u4fe1\u606f\uff0c\u4f8b\u5982cpu\u3001\u5185\u5b58\u3001\u786c\u76d8\u7b49"}),"\n",(0,a.jsx)(e.h2,{id:"2\u4f7f\u7528setup\u6a21\u5757\u6765\u83b7\u53d6\u88ab\u63a7\u673a\u76f8\u5173\u4fe1\u606f",children:"2.\u4f7f\u7528setup\u6a21\u5757\u6765\u83b7\u53d6\u88ab\u63a7\u673a\u76f8\u5173\u4fe1\u606f"}),"\n",(0,a.jsx)(e.p,{children:"\u53ef\u4ee5\u4f7f\u7528setup\u6a21\u5757\u6765\u83b7\u53d6\u88ab\u63a7\u673a\u76f8\u5173\u4fe1\u606f"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-shell",children:"ansible devops02 -m setup\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u4ee5\u4e0b\u4e3a\u6267\u884csetup\u6a21\u5757\u8f93\u51fa\u7684\u5355\u4e2a\u88ab\u63a7\u673a\u5168\u90e8\u5185\u5bb9\uff0c\u6240\u770b\u5230\u7684\u4fe1\u606f\u5168\u90e8\u90fd\u662f\u53d8\u91cf"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:'devops02 | SUCCESS => {\n    "ansible_facts": {\n        "ansible_all_ipv4_addresses": [\n            "10.0.0.61"\n        ], \n        "ansible_all_ipv6_addresses": [\n            "fe80::21c:42ff:fed4:711d"\n        ], \n        "ansible_apparmor": {\n            "status": "disabled"\n        }, \n        "ansible_architecture": "x86_64", \n        "ansible_bios_date": "07/31/2020", \n        "ansible_bios_version": "16.0.0 (48916)", \n        "ansible_cmdline": {\n            "BOOT_IMAGE": "/vmlinuz-3.10.0-1160.el7.x86_64", \n            "LANG": "en_US.UTF-8", \n            "net.ifnames": "0", \n            "quiet": true, \n            "rd.lvm.lv": "centos/swap", \n            "rhgb": true, \n            "ro": true, \n            "root": "/dev/mapper/centos-root", \n            "spectre_v2": "retpoline"\n        }, \n        "ansible_date_time": {\n            "date": "2021-09-15", \n            "day": "15", \n            "epoch": "1631707228", \n            "hour": "20", \n            "iso8601": "2021-09-15T12:00:28Z", \n            "iso8601_basic": "20210915T200028186193", \n            "iso8601_basic_short": "20210915T200028", \n            "iso8601_micro": "2021-09-15T12:00:28.186193Z", \n            "minute": "00", \n            "month": "09", \n            "second": "28", \n            "time": "20:00:28", \n            "tz": "CST", \n            "tz_offset": "+0800", \n            "weekday": "Wednesday", \n            "weekday_number": "3", \n            "weeknumber": "37", \n            "year": "2021"\n        }, \n        "ansible_default_ipv4": {\n            "address": "10.0.0.61", \n            "alias": "eth0", \n            "broadcast": "10.0.0.255", \n            "gateway": "10.0.0.1", \n            "interface": "eth0", \n            "macaddress": "00:1c:42:d4:71:1d", \n            "mtu": 1500, \n            "netmask": "255.255.255.0", \n            "network": "10.0.0.0", \n            "type": "ether"\n        }, \n        "ansible_default_ipv6": {}, \n        "ansible_device_links": {\n            "ids": {\n                "dm-0": [\n                    "dm-name-centos-root", \n                    "dm-uuid-LVM-MDpDUifPb6kJUr9fDyJ3m16lXE23SScm2hWpbl8n7I5MqclSkfSLRtLVhwqIZP5B"\n                ], \n                "dm-1": [\n                    "dm-name-centos-swap", \n                    "dm-uuid-LVM-MDpDUifPb6kJUr9fDyJ3m16lXE23SScmUhtOfTUBKWPnHn8VklaeXfnR6LhzeZUO"\n                ], \n                "sda": [\n                    "ata-Virtual_HDD_V65X1HR75TK4SFVV1XTD"\n                ], \n                "sda1": [\n                    "ata-Virtual_HDD_V65X1HR75TK4SFVV1XTD-part1"\n                ], \n                "sda2": [\n                    "ata-Virtual_HDD_V65X1HR75TK4SFVV1XTD-part2", \n                    "lvm-pv-uuid-Z75Sgb-wZGs-IthV-5Bhm-hn5m-9VeB-24PIOp"\n                ], \n                "sr0": [\n                    "ata-Virtual_DVD-ROM__1__-_31415B265"\n                ]\n            }, \n            "labels": {}, \n            "masters": {\n                "sda2": [\n                    "dm-0", \n                    "dm-1"\n                ]\n            }, \n            "uuids": {\n                "dm-0": [\n                    "0fe73be4-eeb3-4995-9d5b-bfc0cc576a83"\n                ], \n                "dm-1": [\n                    "1c605635-105b-4fc5-aa39-633d867bf1d7"\n                ], \n                "sda1": [\n                    "544d152e-4e60-41f1-b1f9-d976a1983ac3"\n                ]\n            }\n        }, \n        "ansible_devices": {\n            "dm-0": {\n                "holders": [], \n                "host": "", \n                "links": {\n                    "ids": [\n                        "dm-name-centos-root", \n                        "dm-uuid-LVM-MDpDUifPb6kJUr9fDyJ3m16lXE23SScm2hWpbl8n7I5MqclSkfSLRtLVhwqIZP5B"\n                    ], \n                    "labels": [], \n                    "masters": [], \n                    "uuids": [\n                        "0fe73be4-eeb3-4995-9d5b-bfc0cc576a83"\n                    ]\n                }, \n                "model": null, \n                "partitions": {}, \n                "removable": "0", \n                "rotational": "0", \n                "sas_address": null, \n                "sas_device_handle": null, \n                "scheduler_mode": "", \n                "sectors": "98549760", \n                "sectorsize": "512", \n                "serial": "V65X1HR75TK4SFVV1XTD", \n                "size": "46.99 GB", \n                "support_discard": "4096", \n                "vendor": null, \n                "virtual": 1\n            }, \n            "dm-1": {\n                "holders": [], \n                "host": "", \n                "links": {\n                    "ids": [\n                        "dm-name-centos-swap", \n                        "dm-uuid-LVM-MDpDUifPb6kJUr9fDyJ3m16lXE23SScmUhtOfTUBKWPnHn8VklaeXfnR6LhzeZUO"\n                    ], \n                    "labels": [], \n                    "masters": [], \n                    "uuids": [\n                        "1c605635-105b-4fc5-aa39-633d867bf1d7"\n                    ]\n                }, \n                "model": null, \n                "partitions": {}, \n                "removable": "0", \n                "rotational": "0", \n                "sas_address": null, \n                "sas_device_handle": null, \n                "scheduler_mode": "", \n                "sectors": "4194304", \n                "sectorsize": "512", \n                "serial": "V65X1HR75TK4SFVV1XTD", \n                "size": "2.00 GB", \n                "support_discard": "4096", \n                "vendor": null, \n                "virtual": 1\n            }, \n            "sda": {\n                "holders": [], \n                "host": "SATA controller: Intel Corporation 82801HR/HO/HH (ICH8R/DO/DH) 6 port SATA Controller [AHCI mode] (rev 02)", \n                "links": {\n                    "ids": [\n                        "ata-Virtual_HDD_V65X1HR75TK4SFVV1XTD"\n                    ], \n                    "labels": [], \n                    "masters": [], \n                    "uuids": []\n                }, \n                "model": "Virtual HDD", \n                "partitions": {\n                    "sda1": {\n                        "holders": [], \n                        "links": {\n                            "ids": [\n                                "ata-Virtual_HDD_V65X1HR75TK4SFVV1XTD-part1"\n                            ], \n                            "labels": [], \n                            "masters": [], \n                            "uuids": [\n                                "544d152e-4e60-41f1-b1f9-d976a1983ac3"\n                            ]\n                        }, \n                        "sectors": "2097152", \n                        "sectorsize": 512, \n                        "size": "1.00 GB", \n                        "start": "2048", \n                        "uuid": "544d152e-4e60-41f1-b1f9-d976a1983ac3"\n                    }, \n                    "sda2": {\n                        "holders": [\n                            "centos-root", \n                            "centos-swap"\n                        ], \n                        "links": {\n                            "ids": [\n                                "ata-Virtual_HDD_V65X1HR75TK4SFVV1XTD-part2", \n                                "lvm-pv-uuid-Z75Sgb-wZGs-IthV-5Bhm-hn5m-9VeB-24PIOp"\n                            ], \n                            "labels": [], \n                            "masters": [\n                                "dm-0", \n                                "dm-1"\n                            ], \n                            "uuids": []\n                        }, \n                        "sectors": "102758400", \n                        "sectorsize": 512, \n                        "size": "49.00 GB", \n                        "start": "2099200", \n                        "uuid": null\n                    }\n                }, \n                "removable": "0", \n                "rotational": "0", \n                "sas_address": null, \n                "sas_device_handle": null, \n                "scheduler_mode": "deadline", \n                "sectors": "104857600", \n                "sectorsize": "512", \n                "serial": "V65X1HR75TK4SFVV1XTD", \n                "size": "50.00 GB", \n                "support_discard": "4096", \n                "vendor": "ATA", \n                "virtual": 1\n            }, \n            "sr0": {\n                "holders": [], \n                "host": "SATA controller: Intel Corporation 82801HR/HO/HH (ICH8R/DO/DH) 6 port SATA Controller [AHCI mode] (rev 02)", \n                "links": {\n                    "ids": [\n                        "ata-Virtual_DVD-ROM__1__-_31415B265"\n                    ], \n                    "labels": [], \n                    "masters": [], \n                    "uuids": []\n                }, \n                "model": "Virtual DVD-ROM", \n                "partitions": {}, \n                "removable": "1", \n                "rotational": "1", \n                "sas_address": null, \n                "sas_device_handle": null, \n                "scheduler_mode": "deadline", \n                "sectors": "2097151", \n                "sectorsize": "512", \n                "size": "1024.00 MB", \n                "support_discard": "0", \n                "vendor": null, \n                "virtual": 1\n            }\n        }, \n        "ansible_distribution": "CentOS", \n        "ansible_distribution_file_parsed": true, \n        "ansible_distribution_file_path": "/etc/redhat-release", \n        "ansible_distribution_file_variety": "RedHat", \n        "ansible_distribution_major_version": "7", \n        "ansible_distribution_release": "Core", \n        "ansible_distribution_version": "7.9", \n        "ansible_dns": {\n            "nameservers": [\n                "223.5.5.5", \n                "114.114.114.114"\n            ], \n            "search": [\n                "localdomain"\n            ]\n        }, \n        "ansible_domain": "", \n        "ansible_effective_group_id": 0, \n        "ansible_effective_user_id": 0, \n        "ansible_env": {\n            "HISTTIMEFORMAT": "%Y-%m-%d %H:%M:%S ", \n            "HOME": "/root", \n            "LANG": "C", \n            "LC_ALL": "C", \n            "LC_NUMERIC": "C", \n            "LESSOPEN": "||/usr/bin/lesspipe.sh %s", \n            "LOGNAME": "root", \n            "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=01;36:*.xspf=01;36:", \n            "MAIL": "/var/mail/root", \n            "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin", \n            "PWD": "/root", \n            "SHELL": "/bin/bash", \n            "SHLVL": "2", \n            "SSH_CLIENT": "10.0.0.60 60520 22", \n            "SSH_CONNECTION": "10.0.0.60 60520 10.0.0.61 22", \n            "SSH_TTY": "/dev/pts/2", \n            "TERM": "xterm", \n            "USER": "root", \n            "XDG_RUNTIME_DIR": "/run/user/0", \n            "XDG_SESSION_ID": "7504", \n            "_": "/usr/bin/python"\n        }, \n        "ansible_eth0": {\n            "active": true, \n            "device": "eth0", \n            "features": {\n                "busy_poll": "off [fixed]", \n                "fcoe_mtu": "off [fixed]", \n                "generic_receive_offload": "on", \n                "generic_segmentation_offload": "on", \n                "highdma": "on [fixed]", \n                "hw_tc_offload": "off [fixed]", \n                "l2_fwd_offload": "off [fixed]", \n                "large_receive_offload": "off [fixed]", \n                "loopback": "off [fixed]", \n                "netns_local": "off [fixed]", \n                "ntuple_filters": "off [fixed]", \n                "receive_hashing": "off [fixed]", \n                "rx_all": "off [fixed]", \n                "rx_checksumming": "off [fixed]", \n                "rx_fcs": "off [fixed]", \n                "rx_gro_hw": "off [fixed]", \n                "rx_udp_tunnel_port_offload": "off [fixed]", \n                "rx_vlan_filter": "off [fixed]", \n                "rx_vlan_offload": "off [fixed]", \n                "rx_vlan_stag_filter": "off [fixed]", \n                "rx_vlan_stag_hw_parse": "off [fixed]", \n                "scatter_gather": "on", \n                "tcp_segmentation_offload": "on", \n                "tx_checksum_fcoe_crc": "off [fixed]", \n                "tx_checksum_ip_generic": "on", \n                "tx_checksum_ipv4": "off [fixed]", \n                "tx_checksum_ipv6": "off [fixed]", \n                "tx_checksum_sctp": "off [fixed]", \n                "tx_checksumming": "on", \n                "tx_fcoe_segmentation": "off [fixed]", \n                "tx_gre_csum_segmentation": "off [fixed]", \n                "tx_gre_segmentation": "off [fixed]", \n                "tx_gso_partial": "off [fixed]", \n                "tx_gso_robust": "off [fixed]", \n                "tx_ipip_segmentation": "off [fixed]", \n                "tx_lockless": "off [fixed]", \n                "tx_nocache_copy": "off", \n                "tx_scatter_gather": "on", \n                "tx_scatter_gather_fraglist": "off [fixed]", \n                "tx_sctp_segmentation": "off [fixed]", \n                "tx_sit_segmentation": "off [fixed]", \n                "tx_tcp6_segmentation": "on", \n                "tx_tcp_ecn_segmentation": "on", \n                "tx_tcp_mangleid_segmentation": "off", \n                "tx_tcp_segmentation": "on", \n                "tx_udp_tnl_csum_segmentation": "off [fixed]", \n                "tx_udp_tnl_segmentation": "off [fixed]", \n                "tx_vlan_offload": "off [fixed]", \n                "tx_vlan_stag_hw_insert": "off [fixed]", \n                "udp_fragmentation_offload": "off [fixed]", \n                "vlan_challenged": "off [fixed]"\n            }, \n            "hw_timestamp_filters": [], \n            "ipv4": {\n                "address": "10.0.0.61", \n                "broadcast": "10.0.0.255", \n                "netmask": "255.255.255.0", \n                "network": "10.0.0.0"\n            }, \n            "ipv6": [\n                {\n                    "address": "fe80::21c:42ff:fed4:711d", \n                    "prefix": "64", \n                    "scope": "link"\n                }\n            ], \n            "macaddress": "00:1c:42:d4:71:1d", \n            "module": "virtio_net", \n            "mtu": 1500, \n            "pciid": "virtio0", \n            "promisc": false, \n            "timestamping": [\n                "rx_software", \n                "software"\n            ], \n            "type": "ether"\n        }, \n        "ansible_fibre_channel_wwn": [], \n        "ansible_fips": false, \n        "ansible_form_factor": "Laptop", \n        "ansible_fqdn": "devops02", \n        "ansible_hostname": "devops02", \n        "ansible_hostnqn": "", \n        "ansible_interfaces": [\n            "lo", \n            "eth0"\n        ], \n        "ansible_is_chroot": false, \n        "ansible_iscsi_iqn": "", \n        "ansible_kernel": "3.10.0-1160.el7.x86_64", \n        "ansible_kernel_version": "#1 SMP Mon Oct 19 16:18:59 UTC 2020", \n        "ansible_lo": {\n            "active": true, \n            "device": "lo", \n            "features": {\n                "busy_poll": "off [fixed]", \n                "fcoe_mtu": "off [fixed]", \n                "generic_receive_offload": "on", \n                "generic_segmentation_offload": "on", \n                "highdma": "on [fixed]", \n                "hw_tc_offload": "off [fixed]", \n                "l2_fwd_offload": "off [fixed]", \n                "large_receive_offload": "off [fixed]", \n                "loopback": "on [fixed]", \n                "netns_local": "on [fixed]", \n                "ntuple_filters": "off [fixed]", \n                "receive_hashing": "off [fixed]", \n                "rx_all": "off [fixed]", \n                "rx_checksumming": "on [fixed]", \n                "rx_fcs": "off [fixed]", \n                "rx_gro_hw": "off [fixed]", \n                "rx_udp_tunnel_port_offload": "off [fixed]", \n                "rx_vlan_filter": "off [fixed]", \n                "rx_vlan_offload": "off [fixed]", \n                "rx_vlan_stag_filter": "off [fixed]", \n                "rx_vlan_stag_hw_parse": "off [fixed]", \n                "scatter_gather": "on", \n                "tcp_segmentation_offload": "on", \n                "tx_checksum_fcoe_crc": "off [fixed]", \n                "tx_checksum_ip_generic": "on [fixed]", \n                "tx_checksum_ipv4": "off [fixed]", \n                "tx_checksum_ipv6": "off [fixed]", \n                "tx_checksum_sctp": "on [fixed]", \n                "tx_checksumming": "on", \n                "tx_fcoe_segmentation": "off [fixed]", \n                "tx_gre_csum_segmentation": "off [fixed]", \n                "tx_gre_segmentation": "off [fixed]", \n                "tx_gso_partial": "off [fixed]", \n                "tx_gso_robust": "off [fixed]", \n                "tx_ipip_segmentation": "off [fixed]", \n                "tx_lockless": "on [fixed]", \n                "tx_nocache_copy": "off [fixed]", \n                "tx_scatter_gather": "on [fixed]", \n                "tx_scatter_gather_fraglist": "on [fixed]", \n                "tx_sctp_segmentation": "on", \n                "tx_sit_segmentation": "off [fixed]", \n                "tx_tcp6_segmentation": "on", \n                "tx_tcp_ecn_segmentation": "on", \n                "tx_tcp_mangleid_segmentation": "on", \n                "tx_tcp_segmentation": "on", \n                "tx_udp_tnl_csum_segmentation": "off [fixed]", \n                "tx_udp_tnl_segmentation": "off [fixed]", \n                "tx_vlan_offload": "off [fixed]", \n                "tx_vlan_stag_hw_insert": "off [fixed]", \n                "udp_fragmentation_offload": "on", \n                "vlan_challenged": "on [fixed]"\n            }, \n            "hw_timestamp_filters": [], \n            "ipv4": {\n                "address": "127.0.0.1", \n                "broadcast": "", \n                "netmask": "255.0.0.0", \n                "network": "127.0.0.0"\n            }, \n            "ipv6": [\n                {\n                    "address": "::1", \n                    "prefix": "128", \n                    "scope": "host"\n                }\n            ], \n            "mtu": 65536, \n            "promisc": false, \n            "timestamping": [\n                "rx_software", \n                "software"\n            ], \n            "type": "loopback"\n        }, \n        "ansible_local": {}, \n        "ansible_lsb": {}, \n        "ansible_lvm": {\n            "lvs": {\n                "root": {\n                    "size_g": "46.99", \n                    "vg": "centos"\n                }, \n                "swap": {\n                    "size_g": "2.00", \n                    "vg": "centos"\n                }\n            }, \n            "pvs": {\n                "/dev/sda2": {\n                    "free_g": "0.00", \n                    "size_g": "49.00", \n                    "vg": "centos"\n                }\n            }, \n            "vgs": {\n                "centos": {\n                    "free_g": "0.00", \n                    "num_lvs": "2", \n                    "num_pvs": "1", \n                    "size_g": "49.00"\n                }\n            }\n        }, \n        "ansible_machine": "x86_64", \n        "ansible_machine_id": "0af8c41dd588fb4f8f96a48e78beb674", \n        "ansible_memfree_mb": 142, \n        "ansible_memory_mb": {\n            "nocache": {\n                "free": 734, \n                "used": 252\n            }, \n            "real": {\n                "free": 142, \n                "total": 986, \n                "used": 844\n            }, \n            "swap": {\n                "cached": 0, \n                "free": 0, \n                "total": 0, \n                "used": 0\n            }\n        }, \n        "ansible_memtotal_mb": 986, \n        "ansible_mounts": [\n            {\n                "block_available": 223727, \n                "block_size": 4096, \n                "block_total": 259584, \n                "block_used": 35857, \n                "device": "/dev/sda1", \n                "fstype": "xfs", \n                "inode_available": 523962, \n                "inode_total": 524288, \n                "inode_used": 326, \n                "mount": "/boot", \n                "options": "rw,relatime,attr2,inode64,noquota", \n                "size_available": 916385792, \n                "size_total": 1063256064, \n                "uuid": "544d152e-4e60-41f1-b1f9-d976a1983ac3"\n            }, \n            {\n                "block_available": 11527392, \n                "block_size": 4096, \n                "block_total": 12312705, \n                "block_used": 785313, \n                "device": "/dev/mapper/centos-root", \n                "fstype": "xfs", \n                "inode_available": 24533001, \n                "inode_total": 24637440, \n                "inode_used": 104439, \n                "mount": "/", \n                "options": "rw,relatime,attr2,inode64,noquota", \n                "size_available": 47216197632, \n                "size_total": 50432839680, \n                "uuid": "0fe73be4-eeb3-4995-9d5b-bfc0cc576a83"\n            }\n        ], \n        "ansible_nodename": "devops02", \n        "ansible_os_family": "RedHat", \n        "ansible_pkg_mgr": "yum", \n        "ansible_proc_cmdline": {\n            "BOOT_IMAGE": "/vmlinuz-3.10.0-1160.el7.x86_64", \n            "LANG": "en_US.UTF-8", \n            "net.ifnames": "0", \n            "quiet": true, \n            "rd.lvm.lv": [\n                "centos/root", \n                "centos/swap"\n            ], \n            "rhgb": true, \n            "ro": true, \n            "root": "/dev/mapper/centos-root", \n            "spectre_v2": "retpoline"\n        }, \n        "ansible_processor": [\n            "0", \n            "GenuineIntel", \n            "Intel(R) Core(TM) i7-8750H CPU @ 2.20GHz", \n            "1", \n            "GenuineIntel", \n            "Intel(R) Core(TM) i7-8750H CPU @ 2.20GHz"\n        ], \n        "ansible_processor_cores": 2, \n        "ansible_processor_count": 1, \n        "ansible_processor_threads_per_core": 1, \n        "ansible_processor_vcpus": 2, \n        "ansible_product_name": "Parallels Virtual Platform", \n        "ansible_product_serial": "Parallels-1D C4 F8 0A 88 D5 4F FB 8F 96 A4 8E 78 BE B6 74", \n        "ansible_product_uuid": "0AF8C41D-D588-FB4F-8F96-A48E78BEB674", \n        "ansible_product_version": "None", \n        "ansible_python": {\n            "executable": "/usr/bin/python", \n            "has_sslcontext": true, \n            "type": "CPython", \n            "version": {\n                "major": 2, \n                "micro": 5, \n                "minor": 7, \n                "releaselevel": "final", \n                "serial": 0\n            }, \n            "version_info": [\n                2, \n                7, \n                5, \n                "final", \n                0\n            ]\n        }, \n        "ansible_python_version": "2.7.5", \n        "ansible_real_group_id": 0, \n        "ansible_real_user_id": 0, \n        "ansible_selinux": {\n            "status": "disabled"\n        }, \n        "ansible_selinux_python_present": true, \n        "ansible_service_mgr": "systemd", \n        "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCSlkb1znSaz1isLTp/A+1gAUSHuH72VkAUu40IovJZSZ4IbCkSWPunoghZrF9SX29XOfauFUK3hZvdiLXMQwD8=", \n        "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIFqE/3imUpdPXOqCkpjQkEAp8vMQOX/Tmoe9HYcVFTYK", \n        "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABAQDmJK1wwE9wLsL/5uqqtB2RfkSwCQJ4X8uc4+F6fqNMkrvnfsicT2MiIoC4LIRc3MCaVCSYjtJdFb7ExDICIMHuno6/DhnfUCHwQxAJoupE59YgeCZyh1I+pbDy86RKIMybpJpDCMvFp/fPWubrlLX29dXa64Ytmxgu9/gqCKhXIJw9+ZetRJrvDyiv0Fhot8YzaxBwWBSTI+pgAo6o81QO1HkbkENluK9WKrJkWZYnD6FC2VFzjMLHFw+EIf5HJ0Ll+X1YfE9z7Pch2jOoFLKCXa3vz2Bhxt+v71MfXv+j+u8qs7twh5WYaT5ZQoqh39WB1B9FWLg3Fs3xGT12sy/J", \n        "ansible_swapfree_mb": 0, \n        "ansible_swaptotal_mb": 0, \n        "ansible_system": "Linux", \n        "ansible_system_capabilities": [\n            "cap_chown", \n            "cap_dac_override", \n            "cap_dac_read_search", \n            "cap_fowner", \n            "cap_fsetid", \n            "cap_kill", \n            "cap_setgid", \n            "cap_setuid", \n            "cap_setpcap", \n            "cap_linux_immutable", \n            "cap_net_bind_service", \n            "cap_net_broadcast", \n            "cap_net_admin", \n            "cap_net_raw", \n            "cap_ipc_lock", \n            "cap_ipc_owner", \n            "cap_sys_module", \n            "cap_sys_rawio", \n            "cap_sys_chroot", \n            "cap_sys_ptrace", \n            "cap_sys_pacct", \n            "cap_sys_admin", \n            "cap_sys_boot", \n            "cap_sys_nice", \n            "cap_sys_resource", \n            "cap_sys_time", \n            "cap_sys_tty_config", \n            "cap_mknod", \n            "cap_lease", \n            "cap_audit_write", \n            "cap_audit_control", \n            "cap_setfcap", \n            "cap_mac_override", \n            "cap_mac_admin", \n            "cap_syslog", \n            "35", \n            "36+ep"\n        ], \n        "ansible_system_capabilities_enforced": "True", \n        "ansible_system_vendor": "Parallels Software International Inc.", \n        "ansible_uptime_seconds": 359912, \n        "ansible_user_dir": "/root", \n        "ansible_user_gecos": "root", \n        "ansible_user_gid": 0, \n        "ansible_user_id": "root", \n        "ansible_user_shell": "/bin/bash", \n        "ansible_user_uid": 0, \n        "ansible_userspace_architecture": "x86_64", \n        "ansible_userspace_bits": "64", \n        "ansible_virtualization_role": "guest", \n        "ansible_virtualization_type": "parallels", \n        "discovered_interpreter_python": "/usr/bin/python", \n        "gather_subset": [\n            "all"\n        ], \n        "module_setup": true\n    }, \n    "changed": false\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"3\u4f7f\u7528debug\u6a21\u5757\u6765\u83b7\u53d6\u88ab\u63a7\u673a\u76f8\u5173\u53d8\u91cf\u4fe1\u606f",children:"3.\u4f7f\u7528debug\u6a21\u5757\u6765\u83b7\u53d6\u88ab\u63a7\u673a\u76f8\u5173\u53d8\u91cf\u4fe1\u606f"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"\u793a\u4f8b1\uff1a\u83b7\u53d6\u88ab\u63a7\u673aip\u5730\u5740"})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"\u65b9\u6cd51\uff1a\u4f7f\u7528\u547d\u4ee4"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-shell",children:'$ ansible devops02 -m setup -a "filter=ansible_default_ipv4"\ndevops02 | SUCCESS => {\n    "ansible_facts": {\n        "ansible_default_ipv4": {\n            "address": "10.0.0.61", \n            "alias": "eth0", \n            "broadcast": "10.0.0.255", \n            "gateway": "10.0.0.1", \n            "interface": "eth0", \n            "macaddress": "00:1c:42:d4:71:1d", \n            "mtu": 1500, \n            "netmask": "255.255.255.0", \n            "network": "10.0.0.0", \n            "type": "ether"\n        }, \n        "discovered_interpreter_python": "/usr/bin/python"\n    }, \n    "changed": false\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"\u65b9\u6cd52: \u4f7f\u7528playbook"})}),"\n",(0,a.jsx)(e.p,{children:"\u7f16\u8f91yml\u6587\u4ef6"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-shell",children:'$ cat > facts.yml << EOF\n- hosts: all\n  tasks:\n    - name: output hosts info\n      debug:\n        msg: "{{ ansible_default_ipv4.address }}"\nEOF       \n'})}),"\n",(0,a.jsx)(e.p,{children:"\u6267\u884cyml\u6587\u4ef6"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-shell",children:'$ ansible-playbook facts.yml \n\nPLAY [all] *********************************************************************************************************************************************\n\nTASK [Gathering Facts] *********************************************************************************************************************************\nok: [devops02]\nok: [devops03]\nok: [devops01]\n\nTASK [output hosts info] *******************************************************************************************************************************\nok: [devops01] => {\n    "msg": "10.0.0.60"\n}\nok: [devops02] => {\n    "msg": "10.0.0.61"\n}\nok: [devops03] => {\n    "msg": "10.0.0.62"\n}\n\nPLAY RECAP *********************************************************************************************************************************************\ndevops01                   : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \ndevops02                   : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \ndevops03                   : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n'})}),"\n",(0,a.jsx)(e.h2,{id:"4facts\u53d8\u91cf\u4f7f\u7528\u793a\u4f8b",children:"4.Facts\u53d8\u91cf\u4f7f\u7528\u793a\u4f8b"}),"\n",(0,a.jsx)(e.h3,{id:"41-\u793a\u4f8b1-\u62f7\u8d1d\u6587\u4ef6\u4e0d\u540c\u4e3b\u673a\u4fe1\u606f\u4e0d\u540c",children:"4.1 \u793a\u4f8b1 \u62f7\u8d1d\u6587\u4ef6\uff0c\u4e0d\u540c\u4e3b\u673a\u4fe1\u606f\u4e0d\u540c"}),"\n",(0,a.jsxs)(e.p,{children:["\u5178\u578b\u7684\u4f8b\u5b50\u5c31\u662fzabbix agent\u6587\u4ef6 ",(0,a.jsx)(e.code,{children:"zabbix_agentd.conf"})," \u4e2d\u6709 ",(0,a.jsx)(e.code,{children:"Hostname"})," \u53c2\u6570\uff0c\u9ed8\u8ba4\u4e3a ",(0,a.jsx)(e.code,{children:"Zabbix server"})]}),"\n",(0,a.jsxs)(e.p,{children:["\u73b0\u5728\u6211\u4eec\u6279\u91cf\u5728\u88ab\u63a7\u673a\u4e0a\u5b89\u88c5zabbix agent\uff0c\u60f3\u5b9e\u73b0\u7684\u6548\u679c\u662f\u4e0d\u540c\u4e3b\u673a\uff0c",(0,a.jsx)(e.code,{children:"zabbix_agentd.conf"})," \u6587\u4ef6\u4e2d ",(0,a.jsx)(e.code,{children:"Hostname"})," \u53c2\u6570\u4e3a\u5f53\u524d\u4e3b\u673a\u7684\u4e3b\u673a\u540d"]}),"\n",(0,a.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u4eec\u7528\u4e00\u4e2a\u6587\u4ef6\u6d4b\u8bd5\u5373\u53ef\uff0c\u7f16\u8f91\u4e00\u4e2a\u6d4b\u8bd5\u6587\u4ef6"}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["ansible Facts\u53d8\u91cf\u4e2d\u6709\u4e00\u4e2a\u56fa\u5b9a\u53d8\u91cf ",(0,a.jsx)(e.code,{children:"ansible_fqdn"})," \uff0c\u8fd9\u4e2a\u53d8\u91cf\u5c31\u662f\u83b7\u53d6\u5f53\u524d\u4e3b\u673a\u7684\u4e3b\u673a\u540d"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-shell",children:"# \u7f16\u8f91\u4e00\u4e2a\u6587\u4ef6\uff0c\u6a21\u62dfzabbix agent\u6587\u4ef6\uff0c\u8fd9\u91cc\u4e3b\u8981\u662f\u9a8c\u8bc1Facts\u53d8\u91cf\ncat > zabbix_agentd.conf << EOF\nHostname={{ ansible_fqdn }}\nEOF\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u7f16\u8f91yml\u6587\u4ef6"}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"\u8fd9\u91cc\u4f7f\u7528\u7684\u662ftemplate\u6a21\u5757\u800c\u4e0d\u662fcopy\u6a21\u5757\uff0ctemplate\u6a21\u5757\u4f1a\u89e3\u6790facts\u53d8\u91cf"}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:"cat > facts_zabbix.yml << EOF\n- hosts: all\n  tasks:\n    - name: copy zabbix agent conf\n      template:\n        src: \n          /root/zabbix_agentd.conf\n        dest:\n          /etc\nEOF\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u6267\u884cyml\u6587\u4ef6"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-shell",children:"$ ansible-playbook facts_zabbix.yml \n\nPLAY [all] *********************************************************************************************************************************************\n\nTASK [Gathering Facts] *********************************************************************************************************************************\nok: [devops03]\nok: [devops02]\nok: [devops01]\n\nTASK [copy zabbix agent conf] **************************************************************************************************************************\nchanged: [devops02]\nchanged: [devops03]\nchanged: [devops01]\n\nPLAY RECAP *********************************************************************************************************************************************\ndevops01                   : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \ndevops02                   : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \ndevops03                   : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"})}),"\n",(0,a.jsx)(e.p,{children:"\u767b\u9646\u5176\u4e2d\u4e00\u53f0\u673a\u5668\u9a8c\u8bc1"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-shell",children:"$ cat /etc/zabbix_agentd.conf \nHostname=devops02\n"})})]})}function c(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(_,{...n})}):_(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>o,x:()=>l});var a=s(96540);const i={},t=a.createContext(i);function o(n){const e=a.useContext(t);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),a.createElement(t.Provider,{value:e},n.children)}}}]);