"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7424],{94009:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>p,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var o=e(74848),s=e(28453);const a={},r="python\u53d1\u9001\u90ae\u4ef6\ud83d\udce9",i={id:"python/python-other/python\u53d1\u9001\u90ae\u4ef6\ud83d\udce9",title:"python\u53d1\u9001\u90ae\u4ef6\ud83d\udce9",description:"",source:"@site/docs/python/python-other/python\u53d1\u9001\u90ae\u4ef6\ud83d\udce9.md",sourceDirName:"python/python-other",slug:"/python/python-other/python\u53d1\u9001\u90ae\u4ef6\ud83d\udce9",permalink:"/docs/python/python-other/python\u53d1\u9001\u90ae\u4ef6\ud83d\udce9",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"python-TCP\u670d\u52a1\u7aef\u3001\u5ba2\u6237\u7aef",permalink:"/docs/python/python-other/python-TCP\u670d\u52a1\u7aef\u3001\u5ba2\u6237\u7aef"},next:{title:"python\u865a\u62df\u73af\u5883",permalink:"/docs/python/python-other/python\u865a\u62df\u73af\u5883"}},p={},c=[];function m(t){const n={code:"code",h1:"h1",pre:"pre",...(0,s.R)(),...t.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"python\u53d1\u9001\u90ae\u4ef6",children:"python\u53d1\u9001\u90ae\u4ef6\ud83d\udce9"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"def send_mail():\n    '''\n    \u4f7f\u7528\u7b2c\u4e09\u65b9\u6a21\u5757\u53d1\u90ae\u4ef6\n    see also: https://www.cnblogs.com/Neeo/articles/11199127.html\n    '''\n    import smtplib\n    from email.mime.text import MIMEText\n    from email.mime.multipart import MIMEMultipart\n    from email.header import Header\n\n    # \u7b2c\u4e09\u65b9 SMTP \u670d\u52a1\n    mail_host = \"smtp.qq.com\"  # \u8bbe\u7f6e\u670d\u52a1\u5668\n    mail_user = \"xxx@qq.com\"  # \u7528\u6237\u540d\n    mail_pass = \"xxx\"  # \u53e3\u4ee4\n\n    \n    # \u53d1\u9001\u65b9\n    sender = 'xxx@qq.com'\n\n    # \u63a5\u6536\u65b9\n    receivers = ['xxx@qq.com']\n\n    # \u521b\u5efa\u4e00\u4e2a\u5e26\u9644\u4ef6\u7684\u5b9e\u4f8b\n    message = MIMEMultipart()\n    message['From'] = Header(\"\u6211\u662f\u53d1\u4ef6\u4eba\", 'utf-8')  # \u53d1\u4ef6\u4eba\n    message['To'] = Header(\"\u6211\u662f\u6536\u4ef6\u4eba\", 'utf-8')   # \u6536\u4ef6\u4eba\n\n    subject = 'Python\u53d1\u9001\u5e26\u9644\u4ef6\u7684\u90ae\u4ef6\u793a\u4f8b'\n    message['Subject'] = Header(subject, 'utf-8')\n\n    # \u90ae\u4ef6\u6b63\u6587\u5185\u5bb9\n    send_content = 'hi man\uff0c\u4f60\u6536\u5230\u9644\u4ef6\u4e86\u5417\uff1f'\n    content_obj = MIMEText(send_content, 'plain', 'utf-8')  # \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u90ae\u4ef6\u5185\u5bb9\n    message.attach(content_obj)\n\n    # \u6784\u9020\u9644\u4ef61\uff0c\u53d1\u9001\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 t1.txt \u6587\u4ef6\n    att1 = MIMEText(open(r'/jetBrains/pycharm/python-exercises/pytest/demo.py', 'rb').read(), 'base64', 'utf-8')\n    att1[\"Content-Type\"] = 'application/octet-stream'\n\n    # \u9644\u4ef6\u540d\u975e\u4e2d\u6587\u65f6\u7684\u5199\u6cd5\n    # att1[\"Content-Disposition\"] = 'attachment; filename=\"\u5367\u69fd\"'\n\n    # \u9644\u4ef6\u540d\u662f\u4e2d\u6587\u65f6\u7684\u5199\u6cd5\n    att1.add_header(\"Content-Disposition\", \"attachment\", filename=(\"gbk\", \"\", \"\u5367\u69fd\"))\n\n\n    message.attach(att1)\n\n    # \u6784\u9020\u9644\u4ef62\uff0c\u53d1\u9001\u5f53\u524d\u76ee\u5f55\u4e0b\u7684 t2.py \u6587\u4ef6\n    # att2 = MIMEText(open('D:\\MyTesting\\day76\\pytest.ini', 'rb').read(), 'base64', 'utf-8')\n    # att2[\"Content-Type\"] = 'application/octet-stream'\n    # att2[\"Content-Disposition\"] = 'attachment; filename=\"pytest.ini\"'\n    # message.attach(att2)\n    # try:\n    smtpObj = smtplib.SMTP()\n    smtpObj.connect(mail_host, 25)  # 25 \u4e3a SMTP \u7aef\u53e3\u53f7\n    smtpObj.login(mail_user, mail_pass)\n    smtpObj.sendmail(sender, receivers, message.as_string())\n    print(\"\u90ae\u4ef6\u53d1\u9001\u6210\u529f\")\n\n    # except smtplib.SMTPException:\n    #     print(\"Error: \u65e0\u6cd5\u53d1\u9001\u90ae\u4ef6\")\nsend_mail()\n"})})]})}function h(t={}){const{wrapper:n}={...(0,s.R)(),...t.components};return n?(0,o.jsx)(n,{...t,children:(0,o.jsx)(m,{...t})}):m(t)}},28453:(t,n,e)=>{e.d(n,{R:()=>r,x:()=>i});var o=e(96540);const s={},a=o.createContext(s);function r(t){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function i(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:r(t.components),o.createElement(a.Provider,{value:n},t.children)}}}]);