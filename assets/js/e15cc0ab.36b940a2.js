"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7065],{79051:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>o,frontMatter:()=>i,metadata:()=>d,toc:()=>a});var l=s(74848),t=s(28453);const i={},r="ansible\u6a21\u5757-\u6587\u4ef6\u6a21\u5757",d={id:"linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u6a21\u5757/ansible\u6a21\u5757-\u6587\u4ef6\u6a21\u5757",title:"ansible\u6a21\u5757-\u6587\u4ef6\u6a21\u5757",description:"ansible\u67e5\u770b\u5e2e\u52a9\u65b9\u6cd5",source:"@site/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u6a21\u5757/4.ansible\u6a21\u5757-\u6587\u4ef6\u6a21\u5757.md",sourceDirName:"linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u6a21\u5757",slug:"/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u6a21\u5757/ansible\u6a21\u5757-\u6587\u4ef6\u6a21\u5757",permalink:"/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u6a21\u5757/ansible\u6a21\u5757-\u6587\u4ef6\u6a21\u5757",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ansible\u6a21\u5757-\u5b89\u88c5\u6a21\u5757",permalink:"/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u6a21\u5757/ansible\u6a21\u5757-\u5b89\u88c5\u6a21\u5757"},next:{title:"ansible\u6a21\u5757-\u670d\u52a1\u6a21\u5757",permalink:"/docs/linux/\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0/ansible/ansible\u6a21\u5757/ansible\u6a21\u5757-\u670d\u52a1\u6a21\u5757"}},c={},a=[{value:"1.copy\u62f7\u8d1d\u6587\u4ef6\u6a21\u5757",id:"1copy\u62f7\u8d1d\u6587\u4ef6\u6a21\u5757",level:2},{value:"1.1 \u62f7\u8d1d\u6587\u4ef6",id:"11-\u62f7\u8d1d\u6587\u4ef6",level:3},{value:"1.2 \u62f7\u8d1d\u6587\u4ef6\u5e76\u5907\u4efd",id:"12-\u62f7\u8d1d\u6587\u4ef6\u5e76\u5907\u4efd",level:3},{value:"1.3 \u76f4\u63a5\u88ab\u63a7\u7aef\u6587\u4ef6\u5185\u5bb9",id:"13-\u76f4\u63a5\u88ab\u63a7\u7aef\u6587\u4ef6\u5185\u5bb9",level:3},{value:"2.file\u6587\u4ef6\u914d\u7f6e\u6a21\u5757",id:"2file\u6587\u4ef6\u914d\u7f6e\u6a21\u5757",level:2},{value:"2.1 \u521b\u5efa\u6587\u4ef6",id:"21-\u521b\u5efa\u6587\u4ef6",level:3},{value:"2.2 \u521b\u5efa\u76ee\u5f55",id:"22-\u521b\u5efa\u76ee\u5f55",level:3},{value:"2.3 \u521b\u5efa\u8f6f\u8fde\u63a5",id:"23-\u521b\u5efa\u8f6f\u8fde\u63a5",level:3}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"ansible\u6a21\u5757-\u6587\u4ef6\u6a21\u5757",children:"ansible\u6a21\u5757-\u6587\u4ef6\u6a21\u5757"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"ansible\u67e5\u770b\u5e2e\u52a9\u65b9\u6cd5"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# \u67e5\u770b\u6240\u6709\u6a21\u5757\u5e2e\u52a9\u4fe1\u606f\nansible-doc -l   \n\n# \u6307\u5b9a\u67e5\u770b\u67d0\u4e2a\u6a21\u5757\u53c2\u6570\u7528\u6cd5\nansible-doc copy  \n"})}),"\n",(0,l.jsx)(n.h2,{id:"1copy\u62f7\u8d1d\u6587\u4ef6\u6a21\u5757",children:"1.copy\u62f7\u8d1d\u6587\u4ef6\u6a21\u5757"}),"\n",(0,l.jsx)(n.h3,{id:"11-\u62f7\u8d1d\u6587\u4ef6",children:"1.1 \u62f7\u8d1d\u6587\u4ef6"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'# \u5c06ansible\u672c\u673a/etc/hosts\u6587\u4ef6\u62f7\u8d1d\u5230\u76ee\u6807\u673a/tmp\u4e0b\u5e76\u547d\u540d\u4e3atest.txt\nansible all -m copy -a "src=/etc/hosts dest=/tmp/test.txt"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"12-\u62f7\u8d1d\u6587\u4ef6\u5e76\u5907\u4efd",children:"1.2 \u62f7\u8d1d\u6587\u4ef6\u5e76\u5907\u4efd"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'ansible all -m copy -a "src=/etc/hosts dest=/tmp/test.txt backup=yes"\n'})}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u53ea\u6709\u5f53ansible\u672c\u5730\u6587\u4ef6\u5185\u5bb9\u53d8\u5316\u4e4b\u540e\uff0c\u53d7\u63a7\u673a\u672c\u5730\u624d\u4f1a\u6709\u5907\u4efd\u6587\u4ef6"})})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"$ ls\ntest.txt  test.txt.8600.2021-07-01@21:10:49~\n"})}),"\n",(0,l.jsx)(n.h3,{id:"13-\u76f4\u63a5\u88ab\u63a7\u7aef\u6587\u4ef6\u5185\u5bb9",children:"1.3 \u76f4\u63a5\u88ab\u63a7\u7aef\u6587\u4ef6\u5185\u5bb9"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"# \u76f4\u63a5\u5411\u8fdc\u7aef\u6587\u4ef6\u5185\u5199\u5165\u6570\u636e\u4fe1\u606f\uff0c\u5e76\u4e14\u4f1a\u8986\u76d6\u8fdc\u7aef\u6587\u4ef6\u5185\u539f\u6709\u6570\u636e\u4fe1\u606f\uff0c\u6587\u4ef6\u4e0d\u5b58\u5728\u4f1a\u81ea\u52a8\u521b\u5efa\nansible all -m copy -a \"content='abc' dest=/tmp/abc mode=777\"\n"})}),"\n",(0,l.jsx)(n.p,{children:"copy\u6a21\u5757\u53c2\u6570"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u53c2\u6570"}),(0,l.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"src"}),(0,l.jsx)(n.td,{children:"\u6e90\u6587\u4ef6\u8def\u5f84"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"dest"}),(0,l.jsx)(n.td,{children:"\u76ee\u6807\u8def\u5f84"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"backup"}),(0,l.jsx)(n.td,{children:"\u5bf9\u4f20\u8f93\u8fc7\u53bb\u7684\u6587\u4ef6\u8fdb\u884c\u5907\u4efd"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"content"}),(0,l.jsx)(n.td,{children:"\u76f4\u63a5\u6279\u91cf\u5728\u88ab\u7ba1\u7406\u7aef\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5185\u5bb9"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"group"}),(0,l.jsx)(n.td,{children:"\u5c06\u672c\u5730\u6587\u4ef6\u63a8\u9001\u5230\u8fdc\u7aef\uff0c\u6307\u5b9a\u6587\u4ef6\u5c5e\u7ec4\u4fe1\u606f"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"owner"}),(0,l.jsx)(n.td,{children:"\u5c06\u672c\u5730\u6587\u4ef6\u63a8\u9001\u5230\u8fdc\u7aef\uff0c\u6307\u5b9a\u6587\u4ef6\u5c5e\u4e3b\u4fe1\u606f"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"mode"}),(0,l.jsx)(n.td,{children:"\u5c06\u672c\u5730\u6587\u4ef6\u63a8\u9001\u5230\u8fdc\u7aef\uff0c\u6307\u5b9a\u6587\u4ef6\u6743\u9650\u4fe1\u606f"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"2file\u6587\u4ef6\u914d\u7f6e\u6a21\u5757",children:"2.file\u6587\u4ef6\u914d\u7f6e\u6a21\u5757"}),"\n",(0,l.jsx)(n.h3,{id:"21-\u521b\u5efa\u6587\u4ef6",children:"2.1 \u521b\u5efa\u6587\u4ef6"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'# path\u4e2d\u7684\u8fdc\u7aef\u8def\u5f84\u5fc5\u987b\u5b58\u5728\nansible all -m file -a "path=/tmp/tt state=touch mode=555 owner=root group=root"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"22-\u521b\u5efa\u76ee\u5f55",children:"2.2 \u521b\u5efa\u76ee\u5f55"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'ansible all -m file -a "path=/tmp/abc state=directory"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"23-\u521b\u5efa\u8f6f\u8fde\u63a5",children:"2.3 \u521b\u5efa\u8f6f\u8fde\u63a5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'ansible all -m file -a "src=/tmp/tt path=/tmp/tt_link state=link"\n'})}),"\n",(0,l.jsx)(n.p,{children:"file\u6a21\u5757\u53c2\u6570"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u53c2\u6570"}),(0,l.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"path"}),(0,l.jsx)(n.td,{children:"\u6307\u5b9a\u8fdc\u7a0b\u4e3b\u673a\u76ee\u5f55\u6216\u6587\u4ef6\u4fe1\u606f"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"recurse"}),(0,l.jsx)(n.td,{children:"\u9012\u5f52\u6388\u6743"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"state"}),(0,l.jsxs)(n.td,{children:["directory\uff1a\u5728\u8fdc\u7aef\u521b\u5efa\u76ee\u5f55",(0,l.jsx)("br",{}),"touch\uff1a\u5728\u8fdc\u7aef\u521b\u5efa\u6587\u4ef6",(0,l.jsx)("br",{}),"link\uff1alink\u6216hard\u8868\u793a\u521b\u5efa\u94fe\u63a5\u6587\u4ef6",(0,l.jsx)("br",{}),"absent\uff1a\u8868\u793a\u5220\u9664\u6587\u4ef6\u6216\u76ee\u5f55",(0,l.jsx)("br",{}),"mode\uff1a\u8bbe\u7f6e\u6587\u4ef6\u6216\u76ee\u5f55\u6743\u9650",(0,l.jsx)("br",{}),"owner\uff1a\u8bbe\u7f6e\u6587\u4ef6\u6216\u76ee\u5f55\u5c5e\u4e3b\u4fe1\u606f",(0,l.jsx)("br",{}),"group\uff1a\u8bbe\u7f6e\u6587\u4ef6\u6216\u76ee\u5f55\u5c5e\u7ec4\u4fe1\u606f"]})]})]})]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var l=s(96540);const t={},i=l.createContext(t);function r(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);