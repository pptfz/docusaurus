"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[3051],{67026:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>i,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>t,toc:()=>o});var r=l(74848),s=l(28453);const d={},c="\u8ba1\u5212\u4efb\u52a1\u603b\u7ed3",t={id:"linux/linux\u547d\u4ee4/\u8ba1\u5212\u4efb\u52a1\u603b\u7ed3",title:"\u8ba1\u5212\u4efb\u52a1\u603b\u7ed3",description:"[toc]",source:"@site/docs/linux/linux\u547d\u4ee4/\u8ba1\u5212\u4efb\u52a1\u603b\u7ed3.md",sourceDirName:"linux/linux\u547d\u4ee4",slug:"/linux/linux\u547d\u4ee4/\u8ba1\u5212\u4efb\u52a1\u603b\u7ed3",permalink:"/docs/linux/linux\u547d\u4ee4/\u8ba1\u5212\u4efb\u52a1\u603b\u7ed3",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u78c1\u76d8\u76f8\u5173\u547d\u4ee4",permalink:"/docs/linux/linux\u547d\u4ee4/\u78c1\u76d8\u76f8\u5173\u547d\u4ee4"},next:{title:"bat",permalink:"/docs/linux/linux\u5b9e\u7528\u5f00\u6e90\u5c0f\u5de5\u5177/bat"}},i={},o=[{value:"1.crontab\u547d\u4ee4",id:"1crontab\u547d\u4ee4",level:2},{value:"1.1 \u547d\u4ee4\u8bf4\u660e",id:"11-\u547d\u4ee4\u8bf4\u660e",level:3},{value:"1.2 \u547d\u4ee4\u683c\u5f0f",id:"12-\u547d\u4ee4\u683c\u5f0f",level:3},{value:"1.3 \u9009\u9879",id:"13-\u9009\u9879",level:3},{value:"1.4 \u683c\u5f0f",id:"14-\u683c\u5f0f",level:3},{value:"1.4.1 \u4f7f\u7528\u793a\u4f8b",id:"141-\u4f7f\u7528\u793a\u4f8b",level:4},{value:"1.5 \u914d\u7f6e\u6587\u4ef6",id:"15-\u914d\u7f6e\u6587\u4ef6",level:3},{value:"1.5.1 /etc/crontab\t\u4e3b\u914d\u7f6e\u6587\u4ef6",id:"151-etccrontab\u4e3b\u914d\u7f6e\u6587\u4ef6",level:4},{value:"1.5.2 <code>/etc/cron.deny</code>         \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u666e\u901a\u7528\u6237\u53ef\u4ee5\u4f7f\u7528crontab\u547d\u4ee4\uff0c\u6b64\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u4e0d\u80fd\u4f7f\u7528crontab\u547d\u4ee4\u7f16\u8f91\u8ba1\u5212\u4efb\u52a1",id:"152-etccrondeny---------\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u666e\u901a\u7528\u6237\u53ef\u4ee5\u4f7f\u7528crontab\u547d\u4ee4\u6b64\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u4e0d\u80fd\u4f7f\u7528crontab\u547d\u4ee4\u7f16\u8f91\u8ba1\u5212\u4efb\u52a1",level:4},{value:"1.5.3 /etc/cron.allow         \u6b64\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u53ef\u4ee5\u4f7f\u7528crontab\u547d\u4ee4\u7f16\u8f91\u8ba1\u5212\u4efb\u52a1\uff0c\u6b64\u6587\u4ef6\u4f18\u5148\u7ea7\u6bd4/etc/cron.deny\u9ad8\uff0c\u4e24\u4e2a\u6587\u4ef6\u540c\u65f6\u5b58\u5728\uff0c\u4ee5allow\u6587\u4ef6\u4e3a\u4e3b",id:"153-etccronallow---------\u6b64\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u53ef\u4ee5\u4f7f\u7528crontab\u547d\u4ee4\u7f16\u8f91\u8ba1\u5212\u4efb\u52a1\u6b64\u6587\u4ef6\u4f18\u5148\u7ea7\u6bd4etccrondeny\u9ad8\u4e24\u4e2a\u6587\u4ef6\u540c\u65f6\u5b58\u5728\u4ee5allow\u6587\u4ef6\u4e3a\u4e3b",level:4},{value:"1.5.4 /var/spool/cron        \u7528\u6237\u7684\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6\u76ee\u5f55",id:"154-varspoolcron--------\u7528\u6237\u7684\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6\u76ee\u5f55",level:4},{value:"2.at\u547d\u4ee4",id:"2at\u547d\u4ee4",level:2},{value:"2.1 \u547d\u4ee4\u8bf4\u660e",id:"21-\u547d\u4ee4\u8bf4\u660e",level:3},{value:"2.2 \u547d\u4ee4\u683c\u5f0f",id:"22-\u547d\u4ee4\u683c\u5f0f",level:3},{value:"2.3 \u9009\u9879",id:"23-\u9009\u9879",level:3},{value:"-V\t\u663e\u793a\u7248\u672c\u53f7",id:"-v\u663e\u793a\u7248\u672c\u53f7",level:4},{value:"-f file\t\u8bfb\u53d6\u6587\u4ef6\uff0cat\u4e0d\u4e00\u5b9a\u975e\u8981\u901a\u8fc7\u4ea4\u4e92\u5f0f\u8f93\u5165\u6765\u6307\u5b9a\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u8bfb\u53d6\u811a\u672c\u6587\u4ef6",id:"-f-file\u8bfb\u53d6\u6587\u4ef6at\u4e0d\u4e00\u5b9a\u975e\u8981\u901a\u8fc7\u4ea4\u4e92\u5f0f\u8f93\u5165\u6765\u6307\u5b9a\u64cd\u4f5c\u4e5f\u53ef\u4ee5\u8bfb\u53d6\u811a\u672c\u6587\u4ef6",level:4},{value:"-l\t\u5217\u51fa\u6240\u6709\u7684\u6307\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528atq\u547d\u4ee4",id:"-l\u5217\u51fa\u6240\u6709\u7684\u6307\u5b9a\u4e5f\u53ef\u4ee5\u4f7f\u7528atq\u547d\u4ee4",level:4},{value:"-d\t\u5220\u9664\u4efb\u52a1",id:"-d\u5220\u9664\u4efb\u52a1",level:4},{value:"2.4 \u4f7f\u7528\u793a\u4f8b",id:"24-\u4f7f\u7528\u793a\u4f8b",level:3},{value:"2.5 at\u4e00\u6b21\u6027\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6",id:"25-at\u4e00\u6b21\u6027\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6",level:3},{value:"2.5.1 /var/spool/at\tat\u4e00\u6b21\u6027\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6",id:"251-varspoolatat\u4e00\u6b21\u6027\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6",level:4},{value:"2.5.2 deny,allow\u6587\u4ef6\uff0c\u4f5c\u7528\u4e0ecrond\u4e00\u6837\uff0callow\u6587\u4ef6\u4f18\u5148\u4e8edeny\u6587\u4ef6",id:"252-denyallow\u6587\u4ef6\u4f5c\u7528\u4e0ecrond\u4e00\u6837allow\u6587\u4ef6\u4f18\u5148\u4e8edeny\u6587\u4ef6",level:4}];function h(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"[toc]"}),"\n",(0,r.jsx)(e.h1,{id:"\u8ba1\u5212\u4efb\u52a1\u603b\u7ed3",children:"\u8ba1\u5212\u4efb\u52a1\u603b\u7ed3"}),"\n",(0,r.jsx)(e.h2,{id:"1crontab\u547d\u4ee4",children:"1.crontab\u547d\u4ee4"}),"\n",(0,r.jsx)(e.h3,{id:"11-\u547d\u4ee4\u8bf4\u660e",children:"1.1 \u547d\u4ee4\u8bf4\u660e"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"crontab\u547d\u4ee4\u7684\u529f\u80fd\u662f\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u6267\u884c\u5b9a\u4e49\u597d\u7684\u547d\u4ee4\u6216\u811a\u672c"})}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"12-\u547d\u4ee4\u683c\u5f0f",children:"1.2 \u547d\u4ee4\u683c\u5f0f"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"crontab \u9009\u9879 \u53c2\u6570"})}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"13-\u9009\u9879",children:"1.3 \u9009\u9879"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"-e                  \u7f16\u8f91\u8ba1\u5212\u4efb\u52a1           \u76f8\u5f53\u4e8e vim /var/spool/cron/root"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"-l                   \u67e5\u770b\u8ba1\u5212\u4efb\u52a1"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:(0,r.jsx)("span",{style:{color:"red"},children:"-r \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \u6e05\u9664\u8ba1\u5212\u4efb\u52a1           \u614e\u7528\uff01\uff01\uff01"})})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"-u user         \u6307\u5b9a\u8981\u8bbe\u5b9a\u8ba1\u5212\u4efb\u52a1\u7684\u7528\u6237"})}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"14-\u683c\u5f0f",children:"1.4 \u683c\u5f0f"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-10-15%2017.34.03.png",alt:"iShot2020-10-15 17.34.03"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u5b57\u6bb5\u542b\u4e49"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"minute  hour  day  month  week  command"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u987a\u5e8f\uff1a\u5206 \u65f6 \u65e5 \u6708 \u5468"})}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u5b57\u6bb5\u8bf4\u660e"})}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"\u5b57\u6bb5"}),(0,r.jsx)(e.th,{children:"\u542b\u4e49"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"minute"}),(0,r.jsx)(e.td,{children:"\u8868\u793a\u5206\u949f\uff0c\u53ef\u4ee5\u662f\u4ece0\u523059\u4e4b\u95f4\u7684\u4efb\u4f55\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"hour"}),(0,r.jsx)(e.td,{children:"\u8868\u793a\u5c0f\u65f6\uff0c\u53ef\u4ee5\u662f\u4ece0\u523023\u4e4b\u95f4\u7684\u4efb\u4f55\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"day"}),(0,r.jsx)(e.td,{children:"\u8868\u793a\u65e5\u671f\uff0c\u53ef\u4ee5\u662f\u4ece1\u523031\u4e4b\u95f4\u7684\u4efb\u4f55\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"month"}),(0,r.jsx)(e.td,{children:"\u8868\u793a\u6708\u4efd\uff0c\u53ef\u4ee5\u662f\u4ece1\u523012\u4e4b\u95f4\u7684\u4efb\u4f55\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"week"}),(0,r.jsx)(e.td,{children:"\u8868\u793a\u661f\u671f\u51e0\uff0c\u53ef\u4ee5\u662f\u4ece0\u52307\u4e4b\u95f4\u7684\u4efb\u4f55\u6574\u6570\uff0c\u8fd9\u91cc\u76840\u62167\u4ee3\u8868\u661f\u671f\u65e5"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"command"}),(0,r.jsx)(e.td,{children:"\u8981\u6267\u884c\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u662f\u7cfb\u7edf\u547d\u4ee4\uff0c\u4e5f\u53ef\u4ee5\u662f\u81ea\u5df1\u7f16\u5199\u7684\u811a\u672c\u6587\u4ef6"})]})]})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u5728\u4ee5\u4e0a\u5404\u4e2a\u5b57\u6bb5\u4e2d\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7279\u6b8a\u5b57\u7b26"})}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"\u7b26\u53f7"}),(0,r.jsx)(e.th,{children:"\u542b\u4e49"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"*"})}),(0,r.jsx)(e.td,{children:"\u4ee3\u8868\u6240\u6709\u53ef\u80fd\u7684\u503c\uff0c\u4f8b\u5982month\u5b57\u6bb5\u5982\u679c\u662f\u661f\u53f7\uff0c\u5219\u8868\u793a\u5728\u6ee1\u8db3\u5176\u5b83\u5b57\u6bb5\u7684\u5236\u7ea6\u6761\u4ef6\u540e\u6bcf\u6708\u90fd\u6267\u884c\u8be5\u547d\u4ee4\u64cd\u4f5c"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:","})}),(0,r.jsxs)(e.td,{children:["\u53ef\u4ee5\u7528\u9017\u53f7\u9694\u5f00\u7684\u503c\u6307\u5b9a\u4e00\u4e2a\u5217\u8868\u8303\u56f4\uff0c\u4f8b\u5982 ",(0,r.jsx)(e.code,{children:"1,2,5,7,8,9"})]})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"-"})}),(0,r.jsxs)(e.td,{children:["\u53ef\u4ee5\u7528\u6574\u6570\u4e4b\u95f4\u7684\u4e2d\u6760\u8868\u793a\u4e00\u4e2a\u6574\u6570\u8303\u56f4\uff0c\u4f8b\u5982 ",(0,r.jsx)(e.code,{children:"2-6"})," \u8868\u793a ",(0,r.jsx)(e.code,{children:"2,3,4,5,6"})]})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"/"})}),(0,r.jsxs)(e.td,{children:["\u53ef\u4ee5\u7528\u6b63\u659c\u7ebf\u6307\u5b9a\u65f6\u95f4\u7684\u95f4\u9694\u9891\u7387\uff0c\u4f8b\u5982 ",(0,r.jsx)(e.code,{children:"0-23/2"})," \u8868\u793a\u6bcf\u4e24\u5c0f\u65f6\u6267\u884c\u4e00\u6b21\u3002\u540c\u65f6\u6b63\u659c\u7ebf\u53ef\u4ee5\u548c\u661f\u53f7\u4e00\u8d77\u4f7f\u7528\uff0c\u4f8b\u5982 ",(0,r.jsx)(e.code,{children:"*/10"})," \uff0c\u5982\u679c\u7528\u5728minute\u5b57\u6bb5\uff0c\u8868\u793a\u6bcf\u5341\u5206\u949f\u6267\u884c\u4e00\u6b21"]})]})]})]}),"\n",(0,r.jsx)(e.h4,{id:"141-\u4f7f\u7528\u793a\u4f8b",children:"1.4.1 \u4f7f\u7528\u793a\u4f8b"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u6bcf\u5206\u949f\u6267\u884cntpdate\u547d\u4ee4\u540c\u6b65\u65f6\u95f4"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"* * * * * /usr/sbin/ntpdate ntp2.aliyun.com >/dev/null 2>&1\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u6bcf\u5c0f\u65f6\u7684\u7b2c3,5\u5206\u949f\u6267\u884c"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"3,5    *   *   *   *   command\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u4e0a\u5348\u76848\u70b9\u523011\u70b9\u7684\u7b2c3\u548c\u7b2c15\u5206\u6267\u884c"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"3\uff0c15   8-11    *   *   *   command\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u6bcf\u9694\u4e24\u5929\u7684\u4e0a\u53488\u70b9\u523011\u70b9\u7684\u7b2c3\u548c\u7b2c15\u5206\u949f\u6267\u884c"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"3,15    8-11    */2     *   *   command\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u6bcf\u592921\u70b930\u5206\u6267\u884c"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"30  21  *   *   *   command\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u6bcf\u5468\u516d\u3001\u65e5\u4e0a\u534810\u70b910\u5206\u6267\u884c"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"10  10  *   *   6,7  command\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u6bcf\u592912\u70b9\u6267\u884c"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"00  12  *   *   *   command\n"})}),"\n",(0,r.jsx)(e.h3,{id:"15-\u914d\u7f6e\u6587\u4ef6",children:"1.5 \u914d\u7f6e\u6587\u4ef6"}),"\n",(0,r.jsx)(e.h4,{id:"151-etccrontab\u4e3b\u914d\u7f6e\u6587\u4ef6",children:"1.5.1 /etc/crontab\t\u4e3b\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"SHELL=/bin/bash\nPATH=/sbin:/bin:/usr/sbin:/usr/bin\nMAILTO=root\nHOME=/\n \n# For details see man 4 crontabs\n \n# Example of job definition:\n# .---------------- minute (0 - 59)\n# |  .------------- hour (0 - 23)\n# |  |  .---------- day of month (1 - 31)\n# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n# |  |  |  |  |\n# *  *  *  *  * user-name command to be executed\n \n\n//\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e  \nSHELL=/bin/bash             #SHELL\u53d8\u91cf\u6307\u5b9a\u4e86\u7cfb\u7edf\u8981\u4f7f\u7528\u54ea\u4e2ashell\uff0c\u8fd9\u91cc\u662fbash\nPATH=/sbin:/bin:/usr/sbin:/usr/bin      #PATH\u53d8\u91cf\u6307\u5b9a\u4e86\u7cfb\u7edf\u6267\u884c\u547d\u4ee4\u7684\u8def\u5f84\nMAILTO=root     #MAILTO\u53d8\u91cf\u6307\u5b9a\u4e86crond\u7684\u4efb\u52a1\u6267\u884c\u4fe1\u606f\u5c06\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u53d1\u9001\u7ed9root\u7528\u6237\uff0c\u5982\u679cMAILTO\u53d8\u91cf\u7684\u503c\u4e3a\u7a7a\uff0c\u5219\u8868\u793a\u4e0d\u53d1\u9001\u4efb\u52a1\u6267\u884c\u4fe1\u606f\u7ed9\u7528\u6237\nHOME=/          #HOME\u53d8\u91cf\u6307\u5b9a\u4e86\u5728\u6267\u884c\u547d\u4ee4\u6216\u8005\u811a\u672c\u65f6\u4f7f\u7528\u7684\u4e3b\u76ee\u5f55\n"})}),"\n",(0,r.jsxs)(e.h4,{id:"152-etccrondeny---------\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u666e\u901a\u7528\u6237\u53ef\u4ee5\u4f7f\u7528crontab\u547d\u4ee4\u6b64\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u4e0d\u80fd\u4f7f\u7528crontab\u547d\u4ee4\u7f16\u8f91\u8ba1\u5212\u4efb\u52a1",children:["1.5.2 ",(0,r.jsx)(e.code,{children:"/etc/cron.deny"}),"         \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u666e\u901a\u7528\u6237\u53ef\u4ee5\u4f7f\u7528crontab\u547d\u4ee4\uff0c\u6b64\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u4e0d\u80fd\u4f7f\u7528crontab\u547d\u4ee4\u7f16\u8f91\u8ba1\u5212\u4efb\u52a1"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"[root@localhost ~]# cat /etc/cron.deny\nu1\n \n\u5199\u5165\u5230/etc/cron.deny\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u5c06\u4e0d\u80fd\u4f7f\u7528crontab\u547d\u4ee4\u7f16\u8f91\u8ba1\u5212\u4efb\u52a1\n[u1@localhost ~]$ crontab -e\nYou (u1) are not allowed to use this program (crontab)\nSee crontab(1) for more information\n"})}),"\n",(0,r.jsx)(e.h4,{id:"153-etccronallow---------\u6b64\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u53ef\u4ee5\u4f7f\u7528crontab\u547d\u4ee4\u7f16\u8f91\u8ba1\u5212\u4efb\u52a1\u6b64\u6587\u4ef6\u4f18\u5148\u7ea7\u6bd4etccrondeny\u9ad8\u4e24\u4e2a\u6587\u4ef6\u540c\u65f6\u5b58\u5728\u4ee5allow\u6587\u4ef6\u4e3a\u4e3b",children:"1.5.3 /etc/cron.allow         \u6b64\u6587\u4ef6\u4e2d\u7684\u7528\u6237\u53ef\u4ee5\u4f7f\u7528crontab\u547d\u4ee4\u7f16\u8f91\u8ba1\u5212\u4efb\u52a1\uff0c\u6b64\u6587\u4ef6\u4f18\u5148\u7ea7\u6bd4/etc/cron.deny\u9ad8\uff0c\u4e24\u4e2a\u6587\u4ef6\u540c\u65f6\u5b58\u5728\uff0c\u4ee5allow\u6587\u4ef6\u4e3a\u4e3b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"[root@localhost ~]# cat /etc/cron.allow\nu1\n"})}),"\n",(0,r.jsx)(e.h4,{id:"154-varspoolcron--------\u7528\u6237\u7684\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6\u76ee\u5f55",children:"1.5.4 /var/spool/cron        \u7528\u6237\u7684\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6\u76ee\u5f55"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"[root@localhost cron]# pwd\n/var/spool/cron\n\n[root@localhost cron]# ls\nroot  u1\n"})}),"\n",(0,r.jsx)(e.h2,{id:"2at\u547d\u4ee4",children:"2.at\u547d\u4ee4"}),"\n",(0,r.jsx)(e.h3,{id:"21-\u547d\u4ee4\u8bf4\u660e",children:"2.1 \u547d\u4ee4\u8bf4\u660e"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"at\u547d\u4ee4\u53ea\u662f\u60f3\u8981\u8ba9\u7279\u5b9a\u4efb\u52a1\u8fd0\u884c\u4e00\u6b21 ctrl+d\u9000\u51faat\u547d\u4ee4\u7f16\u8f91"})}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"22-\u547d\u4ee4\u683c\u5f0f",children:"2.2 \u547d\u4ee4\u683c\u5f0f"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"at \u9009\u9879 \u65f6\u95f4"})}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"23-\u9009\u9879",children:"2.3 \u9009\u9879"}),"\n",(0,r.jsx)(e.h4,{id:"-v\u663e\u793a\u7248\u672c\u53f7",children:"-V\t\u663e\u793a\u7248\u672c\u53f7"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"[root@localhost tmp]# at -V\nat version 3.1.10\n"})}),"\n",(0,r.jsx)(e.h4,{id:"-f-file\u8bfb\u53d6\u6587\u4ef6at\u4e0d\u4e00\u5b9a\u975e\u8981\u901a\u8fc7\u4ea4\u4e92\u5f0f\u8f93\u5165\u6765\u6307\u5b9a\u64cd\u4f5c\u4e5f\u53ef\u4ee5\u8bfb\u53d6\u811a\u672c\u6587\u4ef6",children:"-f file\t\u8bfb\u53d6\u6587\u4ef6\uff0cat\u4e0d\u4e00\u5b9a\u975e\u8981\u901a\u8fc7\u4ea4\u4e92\u5f0f\u8f93\u5165\u6765\u6307\u5b9a\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u8bfb\u53d6\u811a\u672c\u6587\u4ef6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"[root@localhost ~]# cat a.sh\n#!/bin/bash\n#\ntouch /tmp/a.txt\n[root@localhost ~]# at -f /root/a.sh 15:30    #15\u70b930\u5206\u6267\u884c/root/a.sh\njob 8 at 2018-08-11 15:30\n"})}),"\n",(0,r.jsx)(e.h4,{id:"-l\u5217\u51fa\u6240\u6709\u7684\u6307\u5b9a\u4e5f\u53ef\u4ee5\u4f7f\u7528atq\u547d\u4ee4",children:"-l\t\u5217\u51fa\u6240\u6709\u7684\u6307\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528atq\u547d\u4ee4"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"[root@localhost ~]# at -l\n8   2018-08-11 15:30 a root\n \n[root@localhost ~]# atq\n9   2018-08-12 15:31 a root\n"})}),"\n",(0,r.jsx)(e.h4,{id:"-d\u5220\u9664\u4efb\u52a1",children:"-d\t\u5220\u9664\u4efb\u52a1"}),"\n",(0,r.jsx)(e.h3,{id:"24-\u4f7f\u7528\u793a\u4f8b",children:"2.4 \u4f7f\u7528\u793a\u4f8b"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"\u65f6\u95f4"}),(0,r.jsx)(e.th,{children:"\u5199\u6cd5\u793a\u4f8b"}),(0,r.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Minute"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u547d\u4ee4 at now + 5 minutes"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u4efb\u52a1\u57285\u5206\u949f\u540e\u8fd0\u884c"})})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Hour"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u547d\u4ee4 at now + 1 hour"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u4efb\u52a1\u57281\u5c0f\u65f6\u540e\u8fd0\u884c"})})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Days"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u547d\u4ee4 at now + 3 days"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u4efb\u52a1\u57283\u5929\u540e\u8fd0\u884c"})})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Weeks"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u547d\u4ee4 at now + 2 weeks"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u4efb\u52a1\u5728\u4e24\u5468\u540e\u8fd0\u884c"})})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Fixed"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u547d\u4ee4 at midnigt"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u4efb\u52a1\u5728\u5348\u591c\u8fd0\u884c"})})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Fixed"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u547d\u4ee4 at 10:30 pm"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u4efb\u52a1\u5728\u665a\u4e0a10\u70b930\u5206\u8fd0\u884c"})})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Fixed"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u547d\u4ee4 at 23:59 12/31/2018"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"\u4efb\u52a1\u57282018\u5e7412\u670831\u53f723\u70b959\u5206\u8fd0\u884c"})})]})]})]}),"\n",(0,r.jsx)(e.h3,{id:"25-at\u4e00\u6b21\u6027\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6",children:"2.5 at\u4e00\u6b21\u6027\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6"}),"\n",(0,r.jsx)(e.h4,{id:"251-varspoolatat\u4e00\u6b21\u6027\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6",children:"2.5.1 /var/spool/at\tat\u4e00\u6b21\u6027\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"[root@localhost at]# pwd\n/var/spool/at\n\n[root@localhost at]# ls\na00009018621a3  a0000b01861c98  a0000c01861f2c  spool\n\na00009018621a3  a0000b01861c98  a0000c01861f2c\u5c31\u662fat\u4e00\u6b21\u6027\u8ba1\u5212\u4efb\u52a1\u6587\u4ef6\n\u53ea\u80fd\u770b\u5230\u5177\u4f53\u547d\u4ee4\uff0c\u65e0\u6cd5\u67e5\u770b\u5177\u4f53\u6267\u884c\u65f6\u95f4\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2020-10-15%2017.34.26.png",alt:"iShot2020-10-15 17.34.26"})}),"\n",(0,r.jsx)(e.h4,{id:"252-denyallow\u6587\u4ef6\u4f5c\u7528\u4e0ecrond\u4e00\u6837allow\u6587\u4ef6\u4f18\u5148\u4e8edeny\u6587\u4ef6",children:"2.5.2 deny,allow\u6587\u4ef6\uff0c\u4f5c\u7528\u4e0ecrond\u4e00\u6837\uff0callow\u6587\u4ef6\u4f18\u5148\u4e8edeny\u6587\u4ef6"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"/etc/at.deny"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"/etc/at.allow"})}),"\n"]}),"\n"]})]})}function a(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},28453:(n,e,l)=>{l.d(e,{R:()=>c,x:()=>t});var r=l(96540);const s={},d=r.createContext(s);function c(n){const e=r.useContext(d);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),r.createElement(d.Provider,{value:e},n.children)}}}]);