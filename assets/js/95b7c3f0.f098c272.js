"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7892],{97282:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>d,toc:()=>x});var r=s(74848),l=s(28453);const t={},i="nexus\u5b89\u88c5",d={id:"linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/nexus/nexus\u5b89\u88c5",title:"nexus\u5b89\u88c5",description:"nexus\u5b98\u7f51",source:"@site/docs/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/nexus/nexus\u5b89\u88c5.md",sourceDirName:"linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/nexus",slug:"/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/nexus/nexus\u5b89\u88c5",permalink:"/docs/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/nexus/nexus\u5b89\u88c5",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"kooder",permalink:"/docs/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/kooder/"},next:{title:"nexus\u91cd\u542f\u62a5\u9519",permalink:"/docs/linux/\u751f\u4ea7\u73af\u5883\u5f00\u6e90\u9879\u76ee/nexus/nexus\u91cd\u542f\u62a5\u9519"}},c={},x=[{value:"1.\u7cfb\u7edf\u73af\u5883",id:"1\u7cfb\u7edf\u73af\u5883",level:2},{value:"2.\u5b89\u88c5",id:"2\u5b89\u88c5",level:2},{value:"2.1 \u4e8c\u8fdb\u5236\u5305\u5b89\u88c5",id:"21-\u4e8c\u8fdb\u5236\u5305\u5b89\u88c5",level:3},{value:"2.1.1 \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305",id:"211-\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305",level:4},{value:"2.1.2 \u89e3\u538b\u7f29\u5305",id:"212-\u89e3\u538b\u7f29\u5305",level:4},{value:"2.1.3 \u914d\u7f6enexus",id:"213-\u914d\u7f6enexus",level:4},{value:"2.1.4 \u542f\u52a8nexus",id:"214-\u542f\u52a8nexus",level:4},{value:"2.1.5 \u767b\u9646nexus",id:"215-\u767b\u9646nexus",level:4},{value:"2.2 docker\u5b89\u88c5",id:"22-docker\u5b89\u88c5",level:3},{value:"2.2.1 \u521b\u5efa\u76ee\u5f55",id:"221-\u521b\u5efa\u76ee\u5f55",level:4},{value:"2.2.2 \u542f\u52a8\u5bb9\u5668",id:"222-\u542f\u52a8\u5bb9\u5668",level:4},{value:"\u4f7f\u7528systemd\u7ba1\u7406nexus",id:"\u4f7f\u7528systemd\u7ba1\u7406nexus",level:2},{value:"\u4f7f\u7528supervisor\u7ba1\u7406nexus",id:"\u4f7f\u7528supervisor\u7ba1\u7406nexus",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"nexus\u5b89\u88c5",children:"nexus\u5b89\u88c5"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.sonatype.com/",children:"nexus\u5b98\u7f51"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://help.sonatype.com/repomanager3/",children:"nexus3\u5b98\u65b9\u6587\u6863"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://help.sonatype.com/repomanager3/product-information/download",children:"nexus3\u6700\u65b0\u7248\u5b98\u65b9\u4e0b\u8f7d\u5730\u5740"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://help.sonatype.com/repomanager3/product-information/download/download-archives---repository-manager-3",children:"nexus3\u5386\u53f2\u7248\u672c\u4e0b\u8f7d\u5730\u5740"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://help.sonatype.com/repomanager3/product-information/system-requirements",children:"nexus3\u5b89\u88c5\u7cfb\u7edf\u8981\u6c42"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://hub.docker.com/r/sonatype/nexus3/",children:"nexus3 docker hub"})}),"\n",(0,r.jsx)(n.h2,{id:"1\u7cfb\u7edf\u73af\u5883",children:"1.\u7cfb\u7edf\u73af\u5883"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u7cfb\u7edf"}),(0,r.jsx)(n.th,{children:"\u914d\u7f6e"}),(0,r.jsx)(n.th,{children:"\u786c\u76d8"}),(0,r.jsx)(n.th,{children:"java\u7248\u672c"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CentOS Linux release 7.6.1810 (Core)"}),(0,r.jsx)(n.td,{children:"8c16g"}),(0,r.jsx)(n.td,{children:"100g"}),(0,r.jsx)(n.td,{children:'java version "1.8.0_261"'})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"2\u5b89\u88c5",children:"2.\u5b89\u88c5"}),"\n",(0,r.jsx)(n.h3,{id:"21-\u4e8c\u8fdb\u5236\u5305\u5b89\u88c5",children:"2.1 \u4e8c\u8fdb\u5236\u5305\u5b89\u88c5"}),"\n",(0,r.jsx)(n.h4,{id:"211-\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305",children:"2.1.1 \u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"wget https://download.sonatype.com/nexus/3/nexus-3.37.3-02-unix.tar.gz\n"})}),"\n",(0,r.jsx)(n.h4,{id:"212-\u89e3\u538b\u7f29\u5305",children:"2.1.2 \u89e3\u538b\u7f29\u5305"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# \u89e3\u538b\u7f29\u540e\u662f nexus-3.37.3-02 sonatype-work 2\u4e2a\u76ee\u5f55\ntar xf nexus-3.37.3-02-unix.tar.gz\n"})}),"\n",(0,r.jsx)(n.h4,{id:"213-\u914d\u7f6enexus",children:"2.1.3 \u914d\u7f6enexus"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"etc/nexus-default.properties\t# \u914d\u7f6enexus\u76d1\u542c\u7aef\u53e3\u4e0e\u5730\u5740\uff0c\u9ed8\u8ba4\u4e3a8081\u548c0.0.0.0\nbin/nexus.rc\t# \u914d\u7f6enexus\u8fd0\u884c\u7528\u6237\n"})}),"\n",(0,r.jsx)(n.h4,{id:"214-\u542f\u52a8nexus",children:"2.1.4 \u542f\u52a8nexus"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8fd0\u884cnexus\u7684\u7528\u6237\u5fc5\u987b\u80fd\u767b\u9646\u7cfb\u7edf\uff0c\u4e0d\u80fd\u662f\u7cfb\u7edf\u7528\u6237\u8fd0\u884cnexus\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u5982\u4e0b"})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"$ ./nexus run\nThis account is currently not available.\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4ee5\u666e\u901a\u7528\u6237\u8fd0\u884cnexus"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u65b9\u5f0f\u4e00\t\u524d\u53f0\u8fd0\u884c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"./nexus run\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u65b9\u5f0f\u4e8c    \u540e\u53f0\u8fd0\u884c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"./nexus start\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"215-\u767b\u9646nexus",children:"2.1.5 \u767b\u9646nexus"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"admin"})," \u7528\u6237\u521d\u59cb\u5bc6\u7801\u5728 ",(0,r.jsx)(n.code,{children:"sonatype-work/nexus3/admin.password!"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u70b9\u51fb ",(0,r.jsx)(n.code,{children:"next"})," \uff0c\u63a5\u4e0b\u91cc\u5c31\u662f\u8bbe\u7f6e ",(0,r.jsx)(n.code,{children:"admin"})," \u7528\u6237\u5bc6\u7801\u4ee5\u53ca\u662f\u5426\u5141\u8bb8\u533f\u540d\u7528\u6237\u767b\u9646"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot2022-01-09%2016.58.02.png",alt:"iShot2022-01-09 16.58.02"})}),"\n",(0,r.jsx)(n.h3,{id:"22-docker\u5b89\u88c5",children:"2.2 docker\u5b89\u88c5"}),"\n",(0,r.jsx)(n.h4,{id:"221-\u521b\u5efa\u76ee\u5f55",children:"2.2.1 \u521b\u5efa\u76ee\u5f55"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'export NEXUS_DIR_PATH="/some/dir/nexus-data"\n[ -d ${NEXUS_DIR_PATH} ] ||  mkdir ${NEXUS_DIR_PATH} && chown -R 200 ${NEXUS_DIR_PATH}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"222-\u542f\u52a8\u5bb9\u5668",children:"2.2.2 \u542f\u52a8\u5bb9\u5668"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"docker run -d \\\n -p 8081:8081 \\\n --name nexus \\\n -h nexus \\\n --restart=always \\\n -v ${NEXUS_DIR_PATH}:/nexus-data sonatype/nexus3\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4f7f\u7528systemd\u7ba1\u7406nexus",children:"\u4f7f\u7528systemd\u7ba1\u7406nexus"}),"\n",(0,r.jsxs)(n.p,{children:["\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6 ",(0,r.jsx)(n.code,{children:"/etc/systemd/system/nexus.service"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'export NEXUS_BIN_PATH="/opt/nexus-3.37.3-02/bin/nexus"\ncat > /etc/systemd/system/nexus.service << EOF\n[Unit]\nDescription=nexus service\nAfter=network.target\n  \n[Service]\nType=forking\nLimitNOFILE=65536\nExecStart=${NEXUS_BIN_PATH} start\nExecStop=${NEXUS_BIN_PATH} stop\nUser=nexus\nRestart=on-abort\nTimeoutSec=600\n  \n[Install]\nWantedBy=multi-user.target\nEOF\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u542f\u52a8nexus"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"systemctl daemon-reload\nsystemctl enable nexus.service && systemctl start nexus.service\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4f7f\u7528supervisor\u7ba1\u7406nexus",children:"\u4f7f\u7528supervisor\u7ba1\u7406nexus"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:'export NEXUS_BIN_PATH="/opt/nexus-3.37.3-02/bin/nexus"\n\ncat > /etc/supervisor/config.d/nexus.ini << EOF\n[program:nexus]\ncommand = ${NEXUS_BIN_PATH} run\nstdout_logfile = /var/log/supervisor/nexus.log\nredirect_stderr = true\nautorestart = true\nEOF\n'})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>d});var r=s(96540);const l={},t=r.createContext(l);function i(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);