<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-数据库/mysql/mysql基础/mysql逻辑备份 mysqldump" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">mysql逻辑备份 mysqldump | 我的站点</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pptfz.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://pptfz.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://pptfz.github.io/docs/数据库/mysql/mysql基础/mysql逻辑备份 mysqldump"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="mysql逻辑备份 mysqldump | 我的站点"><meta data-rh="true" name="description" content="[toc]"><meta data-rh="true" property="og:description" content="[toc]"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pptfz.github.io/docs/数据库/mysql/mysql基础/mysql逻辑备份 mysqldump"><link data-rh="true" rel="alternate" href="https://pptfz.github.io/docs/数据库/mysql/mysql基础/mysql逻辑备份 mysqldump" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://pptfz.github.io/docs/数据库/mysql/mysql基础/mysql逻辑备份 mysqldump" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SICNXLSDBZ-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="我的站点" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.061a1b25.css">
<script src="/assets/js/runtime~main.19595b7b.js" defer="defer"></script>
<script src="/assets/js/main.1b24f5df.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" style="background-color:pink;color:@091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">一名运维，两台电脑，三餐不定，只为设备工作四平八稳，拼得五脏俱损，六神无主，仍然七点起床，八点出发，晚上九点不返，十分辛苦！<br> 十年运维，九转功成，八面张罗，忙得七窍流血，换得六神不宁，五体欠安，仍然四处奔波，三更不眠，只为两个铜板，一生拼搏！</div></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">我的站点</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">笔记</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">😂 😂  😂</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/github/github下载加速">github</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/go/go功能脚本/k8s/获取k8s集群资源配置">go</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/idea/vscode/vscode好用的插件">idea</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/linux/big-data/Ambari/CentOS7中用Ambari快速搭建大数据平台">linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/mac专区/brew安装">mac专区</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/python/python-other/nginx+django+uwsgi部署项目">python</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/web/css/css基础知识">web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/云原生/k8s/helm/helm3安装">云原生</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/其他/wps/wps冻结窗口">其他</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/博客工具/Docusaurus/Docusaurus 安装">博客工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/操作小技巧/linux/linux一些骚操作">操作小技巧</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/数据库/mongodb/centos7安装mongodb">数据库</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/数据库/mongodb/centos7安装mongodb">mongodb</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/数据库/mysql/mysql基础/CentOS7二进制安装MySQL5.6">mysql</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/数据库/mysql/mysql基础/CentOS7二进制安装MySQL5.6">mysql基础</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/CentOS7二进制安装MySQL5.6">CentOS7二进制安装MySQL5.6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/CentOS7二进制安装MySQL5.7">CentOS7二进制安装MySQL5.7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/CentOS7二进制安装MySQL8.0">CentOS7二进制安装MySQL8.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/CentOS7编译安装MySQL5.6">CentOS7编译安装MySQL5.6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/CentOS7编译安装MySQL5.7">CentOS7编译安装MySQL5.7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/CentOS7编译安装MySQL8.0">CentOS7编译安装MySQL8.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql中表与表之间的关系">mysql中表与表之间的关系</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql关键字和sql语句执行顺序">mysql关键字和sql语句执行顺序</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql基本操作">mysql基本操作</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql字符集">mysql字符集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql数据类型和SQL语句分类">mysql数据类型和SQL语句分类</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql日志">mysql日志</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql物理备份 xtrabackup">mysql物理备份 xtrabackup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql设置密码及忘记密码如何解决">mysql设置密码及忘记密码如何解决</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql连接与启动过程">mysql连接与启动过程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/数据库/mysql/mysql基础/mysql逻辑备份 mysqldump">mysql逻辑备份 mysqldump</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/数据库/mysql/mysql基础/select高级用法">select高级用法</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/数据库/mysql/mysql知识点/mysql事务隔离级别">mysql知识点</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/数据库/mysql/mysql进阶/MHA基于GTID主从复制高可用">mysql进阶</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/数据库/redis/CentOS7.5安装redis-5.0.7">redis</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/翻车问题合集/翻车问题-ssh密钥问题">翻车问题合集</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">数据库</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">mysql</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">mysql基础</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">mysql逻辑备份 mysqldump</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><p>[toc]</p>
<h1>mysql逻辑备份	mysqldump</h1>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/" target="_blank" rel="noopener noreferrer">mysql5.7官方手册</a></p>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/backup-and-recovery.html" target="_blank" rel="noopener noreferrer">mysql5.7备份和恢复官方文档</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1mysql备份">1.mysql备份<a href="#1mysql备份" class="hash-link" aria-label="1.mysql备份的直接链接" title="1.mysql备份的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-为什么要备份">1.1 为什么要备份<a href="#11-为什么要备份" class="hash-link" aria-label="1.1 为什么要备份的直接链接" title="1.1 为什么要备份的直接链接">​</a></h3>
<ul>
<li>
<p><strong>防止数据丢失</strong></p>
</li>
<li>
<p><strong>恢复数据并在出现问题（例如系统崩溃、硬件故障或用户误删除数据）时重新启动并运行</strong></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-数据的备份和恢复类型">1.2 数据的备份和恢复类型<a href="#12-数据的备份和恢复类型" class="hash-link" aria-label="1.2 数据的备份和恢复类型的直接链接" title="1.2 数据的备份和恢复类型的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="121-物理与逻辑备份">1.2.1 物理与逻辑备份<a href="#121-物理与逻辑备份" class="hash-link" aria-label="1.2.1 物理与逻辑备份的直接链接" title="1.2.1 物理与逻辑备份的直接链接">​</a></h4>
<p>:::tip说明</p>
<p>物理备份包括存储数据库内容的目录和文件的原始副本。这种备份适用于发生问题时需要快速恢复的大型、重要的数据库。</p>
<p>逻辑备份保存表示为逻辑数据库  结构（<a href="https://dev.mysql.com/doc/refman/5.7/en/create-database.html" target="_blank" rel="noopener noreferrer"><code>CREATE DATABASE</code></a>、 <a href="https://dev.mysql.com/doc/refman/5.7/en/create-table.html" target="_blank" rel="noopener noreferrer"><code>CREATE TABLE</code></a>语句）和内容（<a href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" target="_blank" rel="noopener noreferrer"><code>INSERT</code></a>语句或分隔文本文件）的信息。这种类型的备份适用于您可以编辑数据值或表结构，或在不同机器架构上重新创建数据的少量数据。</p>
<p>:::</p>
<p><strong>物理备份特点</strong></p>
<ul>
<li>物理备份方法比逻辑备份方法更快，因为它们只涉及文件复制而不进行转换</li>
<li>备份包括数据库目录和文件的精确副本</li>
<li>备份比逻辑备份更小</li>
<li>备份和恢复粒度范围从整个数据目录级别到单个文件级别</li>
<li>除了数据库之外，备份还可以包括任何相关文件，例如日志或配置文件</li>
<li>可以在 MySQL 服务器未运行时执行备份</li>
<li>备份只能移植到具有相同或相似硬件特征的其他机器</li>
<li>用物理备份这种方式备份MEMORY表中的数据比较困难，因为它们的内容并不存储在磁盘上</li>
<li>物理备份工具包括MySQL Enterprise backup for InnoDB或任何其他表的mysqlbackup，或MyISAM表的文件系统级命令(如cp、scp、tar、rsync)</li>
</ul>
<p><strong>逻辑备份特点</strong></p>
<ul>
<li>备份是通过查询MySQL服务器获取数据库结构和内容信息来完成的</li>
<li>备份比物理方法慢，因为服务器必须访问数据库信息并将其转换为逻辑格式。如果输出是在客户端写的，服务器端也必须将它发送给备份程序</li>
<li>备份输出大于物理备份，尤其是在以文本格式保存时</li>
<li>备份和还原粒度在服务器级别（所有数据库）、数据库级别（特定数据库中的所有表）  或表级别可用。无论存储引擎如何，都是如此</li>
<li>备份不包括日志或配置文件，或不属于数据库的其他与数据库相关的文件</li>
<li>以逻辑格式存储的备份与机器无关且具有高度可移植性</li>
<li>逻辑备份是在 MySQL 服务器运行的情况下执行的</li>
<li>逻辑备份工具包括<a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html" target="_blank" rel="noopener noreferrer"><strong>mysqldump</strong></a> 程序和<a href="https://dev.mysql.com/doc/refman/5.7/en/select.html" target="_blank" rel="noopener noreferrer"><code>SELECT ... INTO OUTFILE</code></a>语句。这些适用于任何存储引擎，甚至<code>MEMORY</code></li>
<li><a href="https://dev.mysql.com/doc/refman/5.7/en/mysql.html" target="_blank" rel="noopener noreferrer"><strong>要恢复逻辑备份，可以使用mysql</strong></a>客户端 处理 SQL 格式的转储文件。要加载分隔文本文件，请使用<a href="https://dev.mysql.com/doc/refman/5.7/en/load-data.html" target="_blank" rel="noopener noreferrer"><code>LOAD DATA</code></a>语句或<a href="https://dev.mysql.com/doc/refman/5.7/en/mysqlimport.html" target="_blank" rel="noopener noreferrer"><strong>mysqlimport</strong></a> 客户端</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="122-在线与离线备份">1.2.2 在线与离线备份<a href="#122-在线与离线备份" class="hash-link" aria-label="1.2.2 在线与离线备份的直接链接" title="1.2.2 在线与离线备份的直接链接">​</a></h4>
<p>:::tip说明</p>
<p>在线备份在 MySQL 服务器运行时进行，以便可以从服务器获取数据库信息。服务器停止时进行离线备份。这种区别也可以描述为 <code>热</code> 备份与<code>冷</code> 备份；<code>热</code> 备份是服务器保持运行但在您从外部访问数据库文件时锁定以防止修改数据的备份。</p>
<p>:::</p>
<p><strong>在线备份特点</strong></p>
<ul>
<li>备份对其他客户端的干扰较小，这些客 户端可以在备份期间连接到 MySQL 服务器，并且可以根据需要执行的操作访问数据。</li>
<li>必须注意施加适当的锁定，以便不会发生会损害备份完整性的数据修改。</li>
</ul>
<p><strong>离线备份特点</strong></p>
<ul>
<li>客户端可能会受到不利影响，因为服务器在备份期间不可用。出于这个原因，此类备份通常取自可以脱机而不会损害可用性的副本服务器。</li>
<li>备份过程更简单，因为不可能受到客户端活动的干扰。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="123-本地与远程备份">1.2.3 本地与远程备份<a href="#123-本地与远程备份" class="hash-link" aria-label="1.2.3 本地与远程备份的直接链接" title="1.2.3 本地与远程备份的直接链接">​</a></h4>
<p>:::tip说明</p>
<p>本地备份在运行 MySQL 服务器的同一主机上执行，而远程备份则在不同的主机上执行。对于某些类型的备份，即使输出是在服务器本地写入的，也可以从远程主机启动备份。</p>
<p>:::</p>
<p><strong>本地与远程备份特点</strong></p>
<ul>
<li><a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html" target="_blank" rel="noopener noreferrer"><strong>mysqldump</strong></a>可以连接到本地或远程服务器。对于 SQL 输出（<code>CREATE</code>和 <a href="https://dev.mysql.com/doc/refman/5.7/en/insert.html" target="_blank" rel="noopener noreferrer"><code>INSERT</code></a>语句），可以完成本地或远程转储并在客户端生成输出。对于分隔文本输出（使用选项 <a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html#option_mysqldump_tab" target="_blank" rel="noopener noreferrer"><code>--tab</code></a>），数据文件在服务器主机上创建。</li>
<li><a href="https://dev.mysql.com/doc/refman/5.7/en/select-into.html" target="_blank" rel="noopener noreferrer"><code>SELECT ... INTO OUTFILE</code></a>可以从本地或远程客户端主机启动，但输出文件  是在服务器主机上创建的。</li>
<li>物理备份方法通常在 MySQL 服务器主机上本地启动，以便服务器可以脱机，尽管复制文件的目的地可能是远程的。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="124-快照备份">1.2.4 快照备份<a href="#124-快照备份" class="hash-link" aria-label="1.2.4 快照备份的直接链接" title="1.2.4 快照备份的直接链接">​</a></h4>
<p>一些文件系统实现允许拍摄 <code>快照</code> 。这些在给定的时间点提供文件系统的逻辑副本，而不需要整个文件系统的物理副本。（例如，实现可能使用写时复制技术，以便只需要复制在快照时间之后修改的文件系统部分。）MySQL 本身不提供获取文件系统快照的功能。它可通过 Veritas、LVM 或 ZFS 等第三方解决方案获得。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="125-完全备份与增量备份">1.2.5 完全备份与增量备份<a href="#125-完全备份与增量备份" class="hash-link" aria-label="1.2.5 完全备份与增量备份的直接链接" title="1.2.5 完全备份与增量备份的直接链接">​</a></h4>
<p>完整备份包括在给定时间点由 MySQL 服务器管理的所有数据。增量备份包含在给定时间范围内（从一个时间点到另一个时间点）对数据所做的更改。MySQL 有不同的方法来执行完整备份，例如本节前面描述的方法。通过启用服务器的二进制日志可以实现增量备份，服务器使用二进制日志来记录数据更改。</p>
<p><img decoding="async" loading="lazy" src="https://gitea.pptfz.cn/pptfz/picgo-images/raw/branch/master/img/iShot_2023-03-29_16.57.04.png" alt="iShot_2023-03-29_16.57.04" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-备份命令">1.3 备份命令<a href="#13-备份命令" class="hash-link" aria-label="1.3 备份命令的直接链接" title="1.3 备份命令的直接链接">​</a></h3>
<table><thead><tr><th>命令</th><th>方式</th><th>说明</th></tr></thead><tbody><tr><td>mysqldump</td><td>逻辑备份</td><td>mysql原生自带很好用的逻辑备份工具</td></tr><tr><td>mysqlbinlog</td><td>逻辑备份</td><td>实现binlog备份的原生态命令</td></tr><tr><td>xtrabackup</td><td>物理备份</td><td>precona公司开发的性能很高的物理备份工具</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="15-mysql备份方式总结">1.5 mysql备份方式总结<a href="#15-mysql备份方式总结" class="hash-link" aria-label="1.5 mysql备份方式总结的直接链接" title="1.5 mysql备份方式总结的直接链接">​</a></h4>
<table><thead><tr><th><strong>备份方法</strong></th><th><strong>备份速度</strong></th><th><strong>恢复速度</strong></th><th><strong>便捷性</strong></th><th><strong>功能</strong></th><th><strong>一般用于</strong></th></tr></thead><tbody><tr><td>cp</td><td>快</td><td>快</td><td>一般、灵活性低</td><td>很弱</td><td>少量数据备份</td></tr><tr><td>mysqldump</td><td>慢</td><td>慢</td><td>一般、可无视存储引擎的差异</td><td>一般</td><td>中小型数据量的备份</td></tr><tr><td>lvm2快照</td><td>快</td><td>快</td><td>一般、支持几乎热备、速度快</td><td>一般</td><td>中小型数据量的备份</td></tr><tr><td>xtrabackup</td><td>较快</td><td>较快</td><td>实现innodb热备、对存储引擎有要求</td><td>强大</td><td>较大规模的备份</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2mysqldump备份">2.mysqldump备份<a href="#2mysqldump备份" class="hash-link" aria-label="2.mysqldump备份的直接链接" title="2.mysqldump备份的直接链接">​</a></h2>
<p>:::tip说明</p>
<p><strong>mysqldump的三种语法</strong></p>
<p><code>mysqldump [options] db_name [tbl_name ...]</code></p>
<p><code>mysqldump [options] --databases db_name ...</code></p>
<p><code>mysqldump [options] --all-databases</code></p>
<p>:::</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-利用存储过程生成大量数据">2.1 利用存储过程生成大量数据<a href="#21-利用存储过程生成大量数据" class="hash-link" aria-label="2.1 利用存储过程生成大量数据的直接链接" title="2.1 利用存储过程生成大量数据的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="211-创建数据库">2.1.1 创建数据库<a href="#211-创建数据库" class="hash-link" aria-label="2.1.1 创建数据库的直接链接" title="2.1.1 创建数据库的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; create database db1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Query OK, 1 row affected (0.00 sec)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="212-创建表">2.1.2 创建表<a href="#212-创建表" class="hash-link" aria-label="2.1.2 创建表的直接链接" title="2.1.2 创建表的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; use db1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Database changed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; create table db1_t1(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    id int,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name varchar(20),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    gender char(6),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    email varchar(50),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    first_name char(10),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    last_name char(10)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Query OK, 0 rows affected (0.01 sec)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="213-创建存储过程">2.1.3 创建存储过程<a href="#213-创建存储过程" class="hash-link" aria-label="2.1.3 创建存储过程的直接链接" title="2.1.3 创建存储过程的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; delimiter $$ # 声明存储过程的结束符号为$$</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; create procedure auto_insert1()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    BEGIN</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        declare i int default 1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        while(i&lt;100001)do	# 插入10万条数据</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            insert into db1_t1 values(i,&#x27;xboyww&#x27;,&#x27;man&#x27;,concat( &#x27;xboyww&#x27;,i,&#x27;@qq&#x27;),concat(&#x27;a&#x27;,i),concat(&#x27;b&#x27;,i));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            set i=i+1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        end while;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    END$$ # $$结束</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Query OK, 0 rows affected (0.00 sec)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; delimiter ; # 重新声明分号为结束符号，注意有空格</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="214-查看存储过程">2.1.4 查看存储过程<a href="#214-查看存储过程" class="hash-link" aria-label="2.1.4 查看存储过程的直接链接" title="2.1.4 查看存储过程的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; show create procedure auto_insert1\G</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="215-调用存储过程">2.1.5 调用存储过程<a href="#215-调用存储过程" class="hash-link" aria-label="2.1.5 调用存储过程的直接链接" title="2.1.5 调用存储过程的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; call auto_insert1();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="216-查看数据">2.1.6 查看数据<a href="#216-查看数据" class="hash-link" aria-label="2.1.6 查看数据的直接链接" title="2.1.6 查看数据的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; select count(*) from s1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+----------+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| count(*) |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+----------+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|   100000 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+----------+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1 row in set (0.04 sec)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; select * from s1 limit 10;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+------+--------+--------+-------------+------------+-----------+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| id   | name   | gender | email       | first_name | last_name |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+------+--------+--------+-------------+------------+-----------+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    1 | xboyww | man    | xboyww1@qq  | a1         | b1        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    2 | xboyww | man    | xboyww2@qq  | a2         | b2        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    3 | xboyww | man    | xboyww3@qq  | a3         | b3        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    4 | xboyww | man    | xboyww4@qq  | a4         | b4        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    5 | xboyww | man    | xboyww5@qq  | a5         | b5        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    6 | xboyww | man    | xboyww6@qq  | a6         | b6        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    7 | xboyww | man    | xboyww7@qq  | a7         | b7        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    8 | xboyww | man    | xboyww8@qq  | a8         | b8        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    9 | xboyww | man    | xboyww9@qq  | a9         | b9        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|   10 | xboyww | man    | xboyww10@qq | a10        | b10       |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+------+--------+--------+-------------+------------+-----------+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">10 rows in set (0.00 sec)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="217-删除存储过程">2.1.7 删除存储过程<a href="#217-删除存储过程" class="hash-link" aria-label="2.1.7 删除存储过程的直接链接" title="2.1.7 删除存储过程的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; DROP PROCEDURE auto_insert1;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>生成的数据库和表</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">db1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  db1_t1	10万条数据</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  db1_t2	10万条数据</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">db2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  db2_t1	10万条数据</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  db2_t2	10万条数据</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>mysqldump连接服务端选项</strong></p>
<table><thead><tr><th>选贤</th><th>说明</th></tr></thead><tbody><tr><td><code>-u</code></td><td>指定用户</td></tr><tr><td><code>-p</code></td><td>指定密码</td></tr><tr><td><code>-S</code></td><td>指定套接字文件</td></tr><tr><td><code>-h</code></td><td>指定主机</td></tr><tr><td><code>-P</code></td><td>指定端口</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-全库备份">2.2 全库备份<a href="#22-全库备份" class="hash-link" aria-label="2.2 全库备份的直接链接" title="2.2 全库备份的直接链接">​</a></h3>
<p><code>-A,--all-databases</code></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -p -A &gt;all.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-单库多库备份">2.3 单库、多库备份<a href="#23-单库多库备份" class="hash-link" aria-label="2.3 单库、多库备份的直接链接" title="2.3 单库、多库备份的直接链接">​</a></h3>
<p><code>-B,--databases</code></p>
<p><strong>单库备份，可以不加选项 <code>-B</code></strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -p -B db1 &gt; db1.sql</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">或者</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -p db1 &gt; db1.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>多库备份，必须加参数 <code>-B</code></strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -p -B db1 db2 &gt; db1_db2.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-单表多表备份">2.4 单表、多表备份<a href="#24-单表多表备份" class="hash-link" aria-label="2.4 单表、多表备份的直接链接" title="2.4 单表、多表备份的直接链接">​</a></h3>
<p>:::tip说明</p>
<p>单表、多表备份不需要参数</p>
<p>:::</p>
<p><strong>单表备份</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -p db1 db1_t1 &gt; db1.db1_t1.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>多表备份</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -p db1 db1_t1 db1_t2 &gt; db1.db1_t1_t2.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="25-备份的一些选项">2.5 备份的一些选项<a href="#25-备份的一些选项" class="hash-link" aria-label="2.5 备份的一些选项的直接链接" title="2.5 备份的一些选项的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="251---master-data">2.5.1 <code>--master-data</code><a href="#251---master-data" class="hash-link" aria-label="251---master-data的直接链接" title="251---master-data的直接链接">​</a></h4>
<p>:::tip说明</p>
<p><strong>备份时加入 <code>change master</code> 语句，需要开启binlog日志</strong></p>
<p>:::</p>
<p><strong>有3个参数</strong></p>
<table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>0</td><td>没有</td></tr><tr><td>1</td><td>不注释</td></tr><tr><td>2</td><td>注释</td></tr></tbody></table>
<p><strong>当参数为0时，备份的文件中是没有<code>change master to</code>语句的</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -p -B db1 --master-data=0 &gt; db1.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>当参数为1时，备份的文件中就会有<code>change master to</code>语句，并且没有注释</strong></p>
<p>:::tip说明</p>
<p>备份的sql文件中会有 <code>change master to</code> 语句，并且没有注释</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ grep &#x27;CHANGE MASTER&#x27; db1.sql</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CHANGE MASTER TO MASTER_LOG_FILE=&#x27;binlog.000004&#x27;, MASTER_LOG_POS=154;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>:::</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -p -B db1 --master-data=1 &gt; db1.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>当参数为2时，备份的文件中就会有<code>change master to</code>语句，并且是注释的</strong></p>
<p>:::tip说明</p>
<p>备份的sql文件中会有change master to语句，并且是注释的</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ grep &#x27;CHANGE MASTER&#x27; db1.sql</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- CHANGE MASTER TO MASTER_LOG_FILE=&#x27;binlog.000004&#x27;, MASTER_LOG_POS=154;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>:::</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -p -B db1 --master-data=2 &gt; db1.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="252--r---routines备份存储过程和函数数据">2.5.2 <code>-R, --routines</code>	备份存储过程和函数数据<a href="#252--r---routines备份存储过程和函数数据" class="hash-link" aria-label="252--r---routines备份存储过程和函数数据的直接链接" title="252--r---routines备份存储过程和函数数据的直接链接">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -A -R --master-data=2 &gt; all.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="253---triggers备份触发器数据">2.5.3 <code>--triggers</code>	备份触发器数据<a href="#253---triggers备份触发器数据" class="hash-link" aria-label="253---triggers备份触发器数据的直接链接" title="253---triggers备份触发器数据的直接链接">​</a></h4>
<p><strong>默认启用，使用选项 <code>--skip-triggers</code> 禁用</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -A --triggers --master-data=2 &gt; all.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="254---single-transaction快照备份仅对innodb引擎生效">2.5.4 <code>--single-transaction</code>	快照备份，仅对InnoDB引擎生效<a href="#254---single-transaction快照备份仅对innodb引擎生效" class="hash-link" aria-label="254---single-transaction快照备份仅对innodb引擎生效的直接链接" title="254---single-transaction快照备份仅对innodb引擎生效的直接链接">​</a></h4>
<p><strong>此选项将事务隔离模式设置为， <a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-transaction-isolation-levels.html#isolevel_repeatable-read" target="_blank" rel="noopener noreferrer"><code>REPEATABLE READ</code></a> 并 <a href="https://dev.mysql.com/doc/refman/5.7/en/commit.html" target="_blank" rel="noopener noreferrer"><code>START TRANSACTION</code></a></strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -A --single-transaction --master-data=2 &gt; all.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="255--x--lock-all-tables锁表备份">2.5.5 <code>-x,--lock-all-tables</code>	锁表备份<a href="#255--x--lock-all-tables锁表备份" class="hash-link" aria-label="255--x--lock-all-tables锁表备份的直接链接" title="255--x--lock-all-tables锁表备份的直接链接">​</a></h4>
<p><strong>锁定所有数据库中的所有表，此选项将自动关闭 <a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html#option_mysqldump_single-transaction" target="_blank" rel="noopener noreferrer"><code>--single-transaction</code></a>和 <a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html#option_mysqldump_lock-tables" target="_blank" rel="noopener noreferrer"><code>--lock-tables</code></a></strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysqldump -uroot -A -x --master-data=2 &gt; all.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3mysqldump恢复">3.mysqldump恢复<a href="#3mysqldump恢复" class="hash-link" aria-label="3.mysqldump恢复的直接链接" title="3.mysqldump恢复的直接链接">​</a></h2>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 先不记录二进制日志</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; set sql_log_bin=0;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 库内恢复操作</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql&gt; source /backup/all.sql</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 库外恢复操作</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">mysql -uroot -p &lt; /backup/all.sql</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>mysqldump恢复特点</strong></p>
<ul>
<li>mysqldump在备份和恢复时都需要MySQL实例启动</li>
<li>mysqldump是以覆盖的形式恢复数据的</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/数据库/mysql/mysql基础/mysql连接与启 动过程"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">mysql连接与启动过程</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/数据库/mysql/mysql基础/select高级用法"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">select高级用法</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1mysql备份" class="table-of-contents__link toc-highlight">1.mysql备份</a><ul><li><a href="#11-为什么要备份" class="table-of-contents__link toc-highlight">1.1 为什么要备份</a></li><li><a href="#12-数据的备份和恢复类型" class="table-of-contents__link toc-highlight">1.2 数据的备份和恢复类型</a><ul><li><a href="#121-物理与逻辑备份" class="table-of-contents__link toc-highlight">1.2.1 物理与逻辑备份</a></li><li><a href="#122-在线与离线备份" class="table-of-contents__link toc-highlight">1.2.2 在线与离线备份</a></li><li><a href="#123-本地与远程备份" class="table-of-contents__link toc-highlight">1.2.3 本地与远程备份</a></li><li><a href="#124-快照备份" class="table-of-contents__link toc-highlight">1.2.4 快照备份</a></li><li><a href="#125-完全备份与增量备份" class="table-of-contents__link toc-highlight">1.2.5 完全备份与增量备份</a></li></ul></li><li><a href="#13-备份命令" class="table-of-contents__link toc-highlight">1.3 备份命令</a><ul><li><a href="#15-mysql备份方式总结" class="table-of-contents__link toc-highlight">1.5 mysql备份方式总结</a></li></ul></li></ul></li><li><a href="#2mysqldump备份" class="table-of-contents__link toc-highlight">2.mysqldump备份</a><ul><li><a href="#21-利用存储过程生成大量数据" class="table-of-contents__link toc-highlight">2.1 利用存储过程生成大量数据</a><ul><li><a href="#211-创建数据库" class="table-of-contents__link toc-highlight">2.1.1 创建数据库</a></li><li><a href="#212-创建表" class="table-of-contents__link toc-highlight">2.1.2 创建表</a></li><li><a href="#213-创建存储过程" class="table-of-contents__link toc-highlight">2.1.3 创建存储过程</a></li><li><a href="#214-查看存储过程" class="table-of-contents__link toc-highlight">2.1.4 查看存储过程</a></li><li><a href="#215-调用存储过程" class="table-of-contents__link toc-highlight">2.1.5 调用存储过程</a></li><li><a href="#216-查看数据" class="table-of-contents__link toc-highlight">2.1.6 查看数据</a></li><li><a href="#217-删除存储过程" class="table-of-contents__link toc-highlight">2.1.7 删除存储过程</a></li></ul></li><li><a href="#22-全库备份" class="table-of-contents__link toc-highlight">2.2 全库备份</a></li><li><a href="#23-单库多库备份" class="table-of-contents__link toc-highlight">2.3 单库、多库备份</a></li><li><a href="#24-单表多表备份" class="table-of-contents__link toc-highlight">2.4 单表、多表备份</a></li><li><a href="#25-备份的一些选项" class="table-of-contents__link toc-highlight">2.5 备份的一些选项</a><ul><li><a href="#251---master-data" class="table-of-contents__link toc-highlight">2.5.1 <code>--master-data</code></a></li><li><a href="#252--r---routines备份存储过程和函数数据" class="table-of-contents__link toc-highlight">2.5.2 <code>-R, --routines</code>	备份存储过程和函数数据</a></li><li><a href="#253---triggers备份触发器数据" class="table-of-contents__link toc-highlight">2.5.3 <code>--triggers</code>	备份触发器数据</a></li><li><a href="#254---single-transaction快照备份仅对innodb引擎生效" class="table-of-contents__link toc-highlight">2.5.4 <code>--single-transaction</code>	快照备份，仅对InnoDB引擎生效</a></li><li><a href="#255--x--lock-all-tables锁表备份" class="table-of-contents__link toc-highlight">2.5.5 <code>-x,--lock-all-tables</code>	锁表备份</a></li></ul></li></ul></li><li><a href="#3mysqldump恢复" class="table-of-contents__link toc-highlight">3.mysqldump恢复</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">笔记</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 泡泡吐肥皂o</div></div></div></footer></div>
</body>
</html>